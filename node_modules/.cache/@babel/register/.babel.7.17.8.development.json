{"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _swaggerUiExpress = _interopRequireDefault(require(\"swagger-ui-express\"));\n\nvar _swaggerJsdoc = _interopRequireDefault(require(\"swagger-jsdoc\"));\n\nvar _swagger = require(\"../swagger/swagger.js\");\n\nvar _index = _interopRequireDefault(require(\"./routes/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\nconst swaggerSpec = (0, _swaggerJsdoc.default)(_swagger.swaggerOptions);\nconst dbURI = process.env.DB_CONNECT;\n\n_mongoose.default.connect(dbURI, () => {\n  console.log(\"Connected to db! \");\n}); //!!Middleware\n\n\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use((0, _morgan.default)(\"dev\")); //!!Route Middleware\n\napp.use(\"/api-docs\", _swaggerUiExpress.default.serve, _swaggerUiExpress.default.setup(swaggerSpec));\napp.use(\"/api/v1\", _index.default);\napp.get(\"/\", (req, res) => {\n  return res.redirect(\"/api-docs\");\n});\napp.use(\"/*\", (req, res) => {\n  res.status(404).json({\n    status: \"fail\",\n    message: \"Not found\"\n  });\n});\nconst PORT = process.env.PORT || 7000;\napp.listen(PORT, () => {\n  console.log(`Server is running on ${PORT}`);\n});\nvar _default = app;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJhcHAiLCJ1c2UiLCJzd2FnZ2VyU3BlYyIsInN3YWdnZXJPcHRpb25zIiwiZGJVUkkiLCJwcm9jZXNzIiwiZW52IiwiREJfQ09OTkVDVCIsIm1vbmdvb3NlIiwiY29ubmVjdCIsImNvbnNvbGUiLCJsb2ciLCJleHByZXNzIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInN3YWdnZXJVaSIsInNlcnZlIiwic2V0dXAiLCJyb3V0ZSIsImdldCIsInJlcSIsInJlcyIsInJlZGlyZWN0Iiwic3RhdHVzIiwibWVzc2FnZSIsIlBPUlQiLCJsaXN0ZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUNBQSxnQkFBT0MsTUFBUDs7QUFDQSxNQUFNQyxHQUFHLEdBQUcsdUJBQVo7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsb0JBQVI7QUFFQSxNQUFNQyxXQUFXLEdBQUcsMkJBQWFDLHVCQUFiLENBQXBCO0FBQ0EsTUFBTUMsS0FBSyxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsVUFBMUI7O0FBQ0FDLGtCQUFTQyxPQUFULENBQWlCTCxLQUFqQixFQUF3QixNQUFNO0FBQzVCTSxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxtQkFBWjtBQUNELENBRkQsRSxDQUlBOzs7QUFDQVgsR0FBRyxDQUFDQyxHQUFKLENBQVFXLGlCQUFRQyxJQUFSLEVBQVI7QUFDQWIsR0FBRyxDQUFDQyxHQUFKLENBQVFXLGlCQUFRRSxVQUFSLENBQW1CO0FBQUVDLEVBQUFBLFFBQVEsRUFBRTtBQUFaLENBQW5CLENBQVI7QUFDQWYsR0FBRyxDQUFDQyxHQUFKLENBQVEscUJBQU8sS0FBUCxDQUFSLEUsQ0FFQTs7QUFFQUQsR0FBRyxDQUFDQyxHQUFKLENBQVEsV0FBUixFQUFxQmUsMEJBQVVDLEtBQS9CLEVBQXNDRCwwQkFBVUUsS0FBVixDQUFnQmhCLFdBQWhCLENBQXRDO0FBRUFGLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFNBQVIsRUFBbUJrQixjQUFuQjtBQUNBbkIsR0FBRyxDQUFDb0IsR0FBSixDQUFRLEdBQVIsRUFBYSxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUN6QixTQUFPQSxHQUFHLENBQUNDLFFBQUosQ0FBYSxXQUFiLENBQVA7QUFDRCxDQUZEO0FBR0F2QixHQUFHLENBQUNDLEdBQUosQ0FBUSxJQUFSLEVBQWMsQ0FBQ29CLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQzFCQSxFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyxHQUFYLEVBQWdCWCxJQUFoQixDQUFxQjtBQUNuQlcsSUFBQUEsTUFBTSxFQUFFLE1BRFc7QUFFbkJDLElBQUFBLE9BQU8sRUFBRTtBQUZVLEdBQXJCO0FBSUQsQ0FMRDtBQU9BLE1BQU1DLElBQUksR0FBR3JCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZb0IsSUFBWixJQUFvQixJQUFqQztBQUVBMUIsR0FBRyxDQUFDMkIsTUFBSixDQUFXRCxJQUFYLEVBQWlCLE1BQU07QUFDckJoQixFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBYSx3QkFBdUJlLElBQUssRUFBekM7QUFDRCxDQUZEO2VBR2UxQixHIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbmRlbGFyd2FuZGEvRG9jdW1lbnRzL215YnJhbmQvc3JjLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCBtb3JnYW4gZnJvbSBcIm1vcmdhblwiO1xuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIlxuaW1wb3J0ICBzd2FnZ2VyVWkgIGZyb20gXCJzd2FnZ2VyLXVpLWV4cHJlc3NcIjtcbmltcG9ydCBzd2FnZ2VySlNEb2MgZnJvbSBcInN3YWdnZXItanNkb2NcIjtcbmltcG9ydCB7IHN3YWdnZXJPcHRpb25zIH0gZnJvbSBcIi4uL3N3YWdnZXIvc3dhZ2dlci5qc1wiO1xuaW1wb3J0ICByb3V0ZSBmcm9tIFwiLi9yb3V0ZXMvaW5kZXhcIjtcbmRvdGVudi5jb25maWcoKTtcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoY29ycygpKVxuXG5jb25zdCBzd2FnZ2VyU3BlYyA9IHN3YWdnZXJKU0RvYyhzd2FnZ2VyT3B0aW9ucyk7XG5jb25zdCBkYlVSSSA9IHByb2Nlc3MuZW52LkRCX0NPTk5FQ1Q7XG5tb25nb29zZS5jb25uZWN0KGRiVVJJLCAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiQ29ubmVjdGVkIHRvIGRiISBcIik7XG59KTtcblxuLy8hIU1pZGRsZXdhcmVcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG5hcHAudXNlKG1vcmdhbihcImRldlwiKSk7XG5cbi8vISFSb3V0ZSBNaWRkbGV3YXJlXG5cbmFwcC51c2UoXCIvYXBpLWRvY3NcIiwgc3dhZ2dlclVpLnNlcnZlLCBzd2FnZ2VyVWkuc2V0dXAoc3dhZ2dlclNwZWMpKTtcblxuYXBwLnVzZShcIi9hcGkvdjFcIiwgcm91dGUpO1xuYXBwLmdldChcIi9cIiwgKHJlcSwgcmVzKSA9PiB7XG4gIHJldHVybiByZXMucmVkaXJlY3QoXCIvYXBpLWRvY3NcIik7XG59KTtcbmFwcC51c2UoXCIvKlwiLCAocmVxLCByZXMpID0+IHtcbiAgcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgIHN0YXR1czogXCJmYWlsXCIsXG4gICAgbWVzc2FnZTogXCJOb3QgZm91bmRcIixcbiAgfSk7XG59KTtcblxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgNzAwMDtcblxuYXBwLmxpc3RlbihQT1JULCAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKGBTZXJ2ZXIgaXMgcnVubmluZyBvbiAke1BPUlR9YCk7XG59KTtcbmV4cG9ydCBkZWZhdWx0IGFwcDtcbiJdfQ==","map":{"version":3,"sources":["app.js"],"names":["dotenv","config","app","use","swaggerSpec","swaggerOptions","dbURI","process","env","DB_CONNECT","mongoose","connect","console","log","express","json","urlencoded","extended","swaggerUi","serve","setup","route","get","req","res","redirect","status","message","PORT","listen"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACAA,gBAAOC,MAAP;;AACA,MAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQ,oBAAR;AAEA,MAAMC,WAAW,GAAG,2BAAaC,uBAAb,CAApB;AACA,MAAMC,KAAK,GAAGC,OAAO,CAACC,GAAR,CAAYC,UAA1B;;AACAC,kBAASC,OAAT,CAAiBL,KAAjB,EAAwB,MAAM;AAC5BM,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACD,CAFD,E,CAIA;;;AACAX,GAAG,CAACC,GAAJ,CAAQW,iBAAQC,IAAR,EAAR;AACAb,GAAG,CAACC,GAAJ,CAAQW,iBAAQE,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAnB,CAAR;AACAf,GAAG,CAACC,GAAJ,CAAQ,qBAAO,KAAP,CAAR,E,CAEA;;AAEAD,GAAG,CAACC,GAAJ,CAAQ,WAAR,EAAqBe,0BAAUC,KAA/B,EAAsCD,0BAAUE,KAAV,CAAgBhB,WAAhB,CAAtC;AAEAF,GAAG,CAACC,GAAJ,CAAQ,SAAR,EAAmBkB,cAAnB;AACAnB,GAAG,CAACoB,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACzB,SAAOA,GAAG,CAACC,QAAJ,CAAa,WAAb,CAAP;AACD,CAFD;AAGAvB,GAAG,CAACC,GAAJ,CAAQ,IAAR,EAAc,CAACoB,GAAD,EAAMC,GAAN,KAAc;AAC1BA,EAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBX,IAAhB,CAAqB;AACnBW,IAAAA,MAAM,EAAE,MADW;AAEnBC,IAAAA,OAAO,EAAE;AAFU,GAArB;AAID,CALD;AAOA,MAAMC,IAAI,GAAGrB,OAAO,CAACC,GAAR,CAAYoB,IAAZ,IAAoB,IAAjC;AAEA1B,GAAG,CAAC2B,MAAJ,CAAWD,IAAX,EAAiB,MAAM;AACrBhB,EAAAA,OAAO,CAACC,GAAR,CAAa,wBAAuBe,IAAK,EAAzC;AACD,CAFD;eAGe1B,G","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/","sourcesContent":["import dotenv from \"dotenv\";\nimport express from \"express\";\nimport mongoose from \"mongoose\";\nimport morgan from \"morgan\";\nimport cors from \"cors\"\nimport  swaggerUi  from \"swagger-ui-express\";\nimport swaggerJSDoc from \"swagger-jsdoc\";\nimport { swaggerOptions } from \"../swagger/swagger.js\";\nimport  route from \"./routes/index\";\ndotenv.config();\nconst app = express();\napp.use(cors())\n\nconst swaggerSpec = swaggerJSDoc(swaggerOptions);\nconst dbURI = process.env.DB_CONNECT;\nmongoose.connect(dbURI, () => {\n  console.log(\"Connected to db! \");\n});\n\n//!!Middleware\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\napp.use(morgan(\"dev\"));\n\n//!!Route Middleware\n\napp.use(\"/api-docs\", swaggerUi.serve, swaggerUi.setup(swaggerSpec));\n\napp.use(\"/api/v1\", route);\napp.get(\"/\", (req, res) => {\n  return res.redirect(\"/api-docs\");\n});\napp.use(\"/*\", (req, res) => {\n  res.status(404).json({\n    status: \"fail\",\n    message: \"Not found\",\n  });\n});\n\nconst PORT = process.env.PORT || 7000;\n\napp.listen(PORT, () => {\n  console.log(`Server is running on ${PORT}`);\n});\nexport default app;\n"]}},"mtime":1648467123121},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/swagger/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/swagger/swagger.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.swaggerOptions = void 0;\nconst swaggerOptions = {\n  definition: {\n    openapi: \"3.0.0\",\n    info: {\n      title: \"Capstone Project;\",\n      description: \"This is a backend APIs for Capstone project\",\n      version: \"1.0.0\",\n      contact: {\n        name: \"MUHETO Hodal\",\n        email: \"mhthodol@gmail.com\",\n        url: \"https://www.linkedin.com/in/muheto-hodal-23311a211/\"\n      }\n    },\n    servers: [{\n      url: \"http://localhost:9000\",\n      name: \"Local server\"\n    }]\n  },\n  apis: [\"./routes/*.js\"]\n};\nexports.swaggerOptions = swaggerOptions;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN3YWdnZXIuanMiXSwibmFtZXMiOlsic3dhZ2dlck9wdGlvbnMiLCJkZWZpbml0aW9uIiwib3BlbmFwaSIsImluZm8iLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidmVyc2lvbiIsImNvbnRhY3QiLCJuYW1lIiwiZW1haWwiLCJ1cmwiLCJzZXJ2ZXJzIiwiYXBpcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTUEsY0FBYyxHQUFHO0FBQzFCQyxFQUFBQSxVQUFVLEVBQUU7QUFDVkMsSUFBQUEsT0FBTyxFQUFFLE9BREM7QUFFVkMsSUFBQUEsSUFBSSxFQUFFO0FBQ0pDLE1BQUFBLEtBQUssRUFBRSxtQkFESDtBQUVKQyxNQUFBQSxXQUFXLEVBQUUsNkNBRlQ7QUFHSkMsTUFBQUEsT0FBTyxFQUFFLE9BSEw7QUFJSkMsTUFBQUEsT0FBTyxFQUFFO0FBQ1BDLFFBQUFBLElBQUksRUFBRSxjQURDO0FBRVBDLFFBQUFBLEtBQUssRUFBRSxvQkFGQTtBQUdQQyxRQUFBQSxHQUFHLEVBQUU7QUFIRTtBQUpMLEtBRkk7QUFZVkMsSUFBQUEsT0FBTyxFQUFFLENBQ1A7QUFDRUQsTUFBQUEsR0FBRyxFQUFFLHVCQURQO0FBRUVGLE1BQUFBLElBQUksRUFBRTtBQUZSLEtBRE87QUFaQyxHQURjO0FBb0IxQkksRUFBQUEsSUFBSSxFQUFFLENBQUMsZUFBRDtBQXBCb0IsQ0FBdkIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FuZGVsYXJ3YW5kYS9Eb2N1bWVudHMvbXlicmFuZC9zd2FnZ2VyLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBzd2FnZ2VyT3B0aW9ucyA9IHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICBvcGVuYXBpOiBcIjMuMC4wXCIsXG4gICAgICBpbmZvOiB7XG4gICAgICAgIHRpdGxlOiBcIkNhcHN0b25lIFByb2plY3Q7XCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlRoaXMgaXMgYSBiYWNrZW5kIEFQSXMgZm9yIENhcHN0b25lIHByb2plY3RcIixcbiAgICAgICAgdmVyc2lvbjogXCIxLjAuMFwiLFxuICAgICAgICBjb250YWN0OiB7XG4gICAgICAgICAgbmFtZTogXCJNVUhFVE8gSG9kYWxcIixcbiAgICAgICAgICBlbWFpbDogXCJtaHRob2RvbEBnbWFpbC5jb21cIixcbiAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL2luL211aGV0by1ob2RhbC0yMzMxMWEyMTEvXCIsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgc2VydmVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgdXJsOiBcImh0dHA6Ly9sb2NhbGhvc3Q6OTAwMFwiLFxuICAgICAgICAgIG5hbWU6IFwiTG9jYWwgc2VydmVyXCIsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAgYXBpczogW1wiLi9yb3V0ZXMvKi5qc1wiXSxcbiAgfTsiXX0=","map":{"version":3,"sources":["swagger.js"],"names":["swaggerOptions","definition","openapi","info","title","description","version","contact","name","email","url","servers","apis"],"mappings":";;;;;;AAAO,MAAMA,cAAc,GAAG;AAC1BC,EAAAA,UAAU,EAAE;AACVC,IAAAA,OAAO,EAAE,OADC;AAEVC,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE,mBADH;AAEJC,MAAAA,WAAW,EAAE,6CAFT;AAGJC,MAAAA,OAAO,EAAE,OAHL;AAIJC,MAAAA,OAAO,EAAE;AACPC,QAAAA,IAAI,EAAE,cADC;AAEPC,QAAAA,KAAK,EAAE,oBAFA;AAGPC,QAAAA,GAAG,EAAE;AAHE;AAJL,KAFI;AAYVC,IAAAA,OAAO,EAAE,CACP;AACED,MAAAA,GAAG,EAAE,uBADP;AAEEF,MAAAA,IAAI,EAAE;AAFR,KADO;AAZC,GADc;AAoB1BI,EAAAA,IAAI,EAAE,CAAC,eAAD;AApBoB,CAAvB","sourceRoot":"/Users/andelarwanda/Documents/mybrand/swagger/","sourcesContent":["export const swaggerOptions = {\n    definition: {\n      openapi: \"3.0.0\",\n      info: {\n        title: \"Capstone Project;\",\n        description: \"This is a backend APIs for Capstone project\",\n        version: \"1.0.0\",\n        contact: {\n          name: \"MUHETO Hodal\",\n          email: \"mhthodol@gmail.com\",\n          url: \"https://www.linkedin.com/in/muheto-hodal-23311a211/\",\n        },\n      },\n      servers: [\n        {\n          url: \"http://localhost:9000\",\n          name: \"Local server\",\n        },\n      ],\n    },\n    apis: [\"./routes/*.js\"],\n  };"]}},"mtime":1648466682321},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/routes/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _article = _interopRequireDefault(require(\"./api/article.route\"));\n\nvar _blogRoutes = require(\"./api/blogRoutes.js\");\n\nvar _auth = require(\"./api/auth\");\n\nvar _contactRoute = require(\"./api/contactRoute.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst routes = _express.default.Router();\n\nroutes.use('/users', _article.default);\nroutes.use('/blogs', _contactRoute.router);\nroutes.use('/contacts', _auth.router);\nroutes.use('/articles', _blogRoutes.router);\nvar _default = routes;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInJvdXRlcyIsImV4cHJlc3MiLCJSb3V0ZXIiLCJ1c2UiLCJhcnRpY2xlcyIsImNvbnRhY3QiLCJhdXRoIiwiYmxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFDQyxpQkFBUUMsTUFBUixFQUFiOztBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxRQUFYLEVBQW9CQyxnQkFBcEI7QUFDQUosTUFBTSxDQUFDRyxHQUFQLENBQVcsUUFBWCxFQUFvQkUsb0JBQXBCO0FBQ0FMLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFdBQVgsRUFBdUJHLFlBQXZCO0FBQ0FOLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFdBQVgsRUFBdUJJLGtCQUF2QjtlQUVlUCxNIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbmRlbGFyd2FuZGEvRG9jdW1lbnRzL215YnJhbmQvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGFydGljbGVzIGZyb20gXCIuL2FwaS9hcnRpY2xlLnJvdXRlXCI7XG5pbXBvcnQgeyByb3V0ZXIgYXMgYmxvZyB9IGZyb20gXCIuL2FwaS9ibG9nUm91dGVzLmpzXCI7XG5pbXBvcnQgeyByb3V0ZXIgYXMgYXV0aCB9IGZyb20gXCIuL2FwaS9hdXRoXCJcbmltcG9ydCB7IHJvdXRlciBhcyBjb250YWN0IH0gZnJvbSBcIi4vYXBpL2NvbnRhY3RSb3V0ZS5qc1wiO1xuXG5jb25zdCByb3V0ZXM9ZXhwcmVzcy5Sb3V0ZXIoKTtcbnJvdXRlcy51c2UoJy91c2VycycsYXJ0aWNsZXMpO1xucm91dGVzLnVzZSgnL2Jsb2dzJyxjb250YWN0KTtcbnJvdXRlcy51c2UoJy9jb250YWN0cycsYXV0aCk7XG5yb3V0ZXMudXNlKCcvYXJ0aWNsZXMnLGJsb2cpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXM7Il19","map":{"version":3,"sources":["index.js"],"names":["routes","express","Router","use","articles","contact","auth","blog"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAACC,iBAAQC,MAAR,EAAb;;AACAF,MAAM,CAACG,GAAP,CAAW,QAAX,EAAoBC,gBAApB;AACAJ,MAAM,CAACG,GAAP,CAAW,QAAX,EAAoBE,oBAApB;AACAL,MAAM,CAACG,GAAP,CAAW,WAAX,EAAuBG,YAAvB;AACAN,MAAM,CAACG,GAAP,CAAW,WAAX,EAAuBI,kBAAvB;eAEeP,M","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/routes/","sourcesContent":["import express from \"express\";\nimport articles from \"./api/article.route\";\nimport { router as blog } from \"./api/blogRoutes.js\";\nimport { router as auth } from \"./api/auth\"\nimport { router as contact } from \"./api/contactRoute.js\";\n\nconst routes=express.Router();\nroutes.use('/users',articles);\nroutes.use('/blogs',contact);\nroutes.use('/contacts',auth);\nroutes.use('/articles',blog);\n\nexport default routes;"]}},"mtime":1648471320484},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/routes/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/routes/api/article.route.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _article = require(\"../../controller/article.controller\");\n\nvar _verifyToken = require(\"./verifyToken.js\");\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** @format */\nconst router = _express.default.Router();\n\nconst storage = _multer.default.diskStorage({});\n\nconst fileFilter = (req, file, cb) => {\n  if (file.mimetype.startsWith(\"image\")) {\n    cb(null, true);\n  } else {\n    cb(\"invalid image file!\", false);\n  }\n};\n\nconst uploads = (0, _multer.default)({\n  storage,\n  fileFilter\n});\nrouter.post(\"/\", _verifyToken.auth, uploads.single(\"image\"), _article.saveArticle);\nrouter.get(\"/\", _article.getAllArticles);\nrouter.get(\"/:id\", _article.getById);\nrouter.put(\"/:id\", _verifyToken.auth, _article.updateArticle);\nrouter.delete(\"/:id\", _verifyToken.auth, _article.deleteArticleById);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydGljbGUucm91dGUuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImZpbGVGaWx0ZXIiLCJyZXEiLCJmaWxlIiwiY2IiLCJtaW1ldHlwZSIsInN0YXJ0c1dpdGgiLCJ1cGxvYWRzIiwicG9zdCIsInZlcmlmeSIsInNpbmdsZSIsInNhdmVBcnRpY2xlIiwiZ2V0IiwiZ2V0QWxsQXJ0aWNsZXMiLCJnZXRCeUlkIiwicHV0IiwidXBkYXRlQXJ0aWNsZSIsImRlbGV0ZSIsImRlbGV0ZUFydGljbGVCeUlkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUE7O0FBQ0E7O0FBT0E7O0FBQ0E7Ozs7QUFYQTtBQWFBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQSxNQUFNQyxPQUFPLEdBQUdDLGdCQUFPQyxXQUFQLENBQW1CLEVBQW5CLENBQWhCOztBQUNBLE1BQU1DLFVBQVUsR0FBRyxDQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBWUMsRUFBWixLQUFtQjtBQUNyQyxNQUFJRCxJQUFJLENBQUNFLFFBQUwsQ0FBY0MsVUFBZCxDQUF5QixPQUF6QixDQUFKLEVBQXVDO0FBQ3RDRixJQUFBQSxFQUFFLENBQUMsSUFBRCxFQUFPLElBQVAsQ0FBRjtBQUNBLEdBRkQsTUFFTztBQUNOQSxJQUFBQSxFQUFFLENBQUMscUJBQUQsRUFBd0IsS0FBeEIsQ0FBRjtBQUNBO0FBQ0QsQ0FORDs7QUFPQSxNQUFNRyxPQUFPLEdBQUcscUJBQU87QUFBRVQsRUFBQUEsT0FBRjtBQUFXRyxFQUFBQTtBQUFYLENBQVAsQ0FBaEI7QUFFQU4sTUFBTSxDQUFDYSxJQUFQLENBQVksR0FBWixFQUFpQkMsaUJBQWpCLEVBQXlCRixPQUFPLENBQUNHLE1BQVIsQ0FBZSxPQUFmLENBQXpCLEVBQWtEQyxvQkFBbEQ7QUFDQWhCLE1BQU0sQ0FBQ2lCLEdBQVAsQ0FBVyxHQUFYLEVBQWdCQyx1QkFBaEI7QUFDQWxCLE1BQU0sQ0FBQ2lCLEdBQVAsQ0FBVyxNQUFYLEVBQW1CRSxnQkFBbkI7QUFDQW5CLE1BQU0sQ0FBQ29CLEdBQVAsQ0FBVyxNQUFYLEVBQW1CTixpQkFBbkIsRUFBMkJPLHNCQUEzQjtBQUNBckIsTUFBTSxDQUFDc0IsTUFBUCxDQUFjLE1BQWQsRUFBc0JSLGlCQUF0QixFQUE4QlMsMEJBQTlCO2VBRWV2QixNIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbmRlbGFyd2FuZGEvRG9jdW1lbnRzL215YnJhbmQvc3JjL3JvdXRlcy9hcGkvIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBmb3JtYXQgKi9cblxuaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCB7XG5cdGRlbGV0ZUFydGljbGVCeUlkLFxuXHRnZXRBbGxBcnRpY2xlcyxcblx0Z2V0QnlJZCxcblx0c2F2ZUFydGljbGUsXG5cdHVwZGF0ZUFydGljbGUsXG59IGZyb20gXCIuLi8uLi9jb250cm9sbGVyL2FydGljbGUuY29udHJvbGxlclwiO1xuaW1wb3J0IHsgYXV0aCBhcyB2ZXJpZnkgfSBmcm9tIFwiLi92ZXJpZnlUb2tlbi5qc1wiO1xuaW1wb3J0IG11bHRlciBmcm9tIFwibXVsdGVyXCI7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe30pO1xuY29uc3QgZmlsZUZpbHRlciA9IChyZXEsIGZpbGUsIGNiKSA9PiB7XG5cdGlmIChmaWxlLm1pbWV0eXBlLnN0YXJ0c1dpdGgoXCJpbWFnZVwiKSkge1xuXHRcdGNiKG51bGwsIHRydWUpO1xuXHR9IGVsc2Uge1xuXHRcdGNiKFwiaW52YWxpZCBpbWFnZSBmaWxlIVwiLCBmYWxzZSk7XG5cdH1cbn07XG5jb25zdCB1cGxvYWRzID0gbXVsdGVyKHsgc3RvcmFnZSwgZmlsZUZpbHRlciB9KTtcblxucm91dGVyLnBvc3QoXCIvXCIsIHZlcmlmeSwgdXBsb2Fkcy5zaW5nbGUoXCJpbWFnZVwiKSwgc2F2ZUFydGljbGUpO1xucm91dGVyLmdldChcIi9cIiwgZ2V0QWxsQXJ0aWNsZXMpO1xucm91dGVyLmdldChcIi86aWRcIiwgZ2V0QnlJZCk7XG5yb3V0ZXIucHV0KFwiLzppZFwiLCB2ZXJpZnksIHVwZGF0ZUFydGljbGUpO1xucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgdmVyaWZ5LCBkZWxldGVBcnRpY2xlQnlJZCk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdfQ==","map":{"version":3,"sources":["article.route.js"],"names":["router","express","Router","storage","multer","diskStorage","fileFilter","req","file","cb","mimetype","startsWith","uploads","post","verify","single","saveArticle","get","getAllArticles","getById","put","updateArticle","delete","deleteArticleById"],"mappings":";;;;;;;AAEA;;AACA;;AAOA;;AACA;;;;AAXA;AAaA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEA,MAAMC,OAAO,GAAGC,gBAAOC,WAAP,CAAmB,EAAnB,CAAhB;;AACA,MAAMC,UAAU,GAAG,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,KAAmB;AACrC,MAAID,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAyB,OAAzB,CAAJ,EAAuC;AACtCF,IAAAA,EAAE,CAAC,IAAD,EAAO,IAAP,CAAF;AACA,GAFD,MAEO;AACNA,IAAAA,EAAE,CAAC,qBAAD,EAAwB,KAAxB,CAAF;AACA;AACD,CAND;;AAOA,MAAMG,OAAO,GAAG,qBAAO;AAAET,EAAAA,OAAF;AAAWG,EAAAA;AAAX,CAAP,CAAhB;AAEAN,MAAM,CAACa,IAAP,CAAY,GAAZ,EAAiBC,iBAAjB,EAAyBF,OAAO,CAACG,MAAR,CAAe,OAAf,CAAzB,EAAkDC,oBAAlD;AACAhB,MAAM,CAACiB,GAAP,CAAW,GAAX,EAAgBC,uBAAhB;AACAlB,MAAM,CAACiB,GAAP,CAAW,MAAX,EAAmBE,gBAAnB;AACAnB,MAAM,CAACoB,GAAP,CAAW,MAAX,EAAmBN,iBAAnB,EAA2BO,sBAA3B;AACArB,MAAM,CAACsB,MAAP,CAAc,MAAd,EAAsBR,iBAAtB,EAA8BS,0BAA9B;eAEevB,M","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/routes/api/","sourcesContent":["/** @format */\n\nimport express from \"express\";\nimport {\n\tdeleteArticleById,\n\tgetAllArticles,\n\tgetById,\n\tsaveArticle,\n\tupdateArticle,\n} from \"../../controller/article.controller\";\nimport { auth as verify } from \"./verifyToken.js\";\nimport multer from \"multer\";\n\nconst router = express.Router();\n\nconst storage = multer.diskStorage({});\nconst fileFilter = (req, file, cb) => {\n\tif (file.mimetype.startsWith(\"image\")) {\n\t\tcb(null, true);\n\t} else {\n\t\tcb(\"invalid image file!\", false);\n\t}\n};\nconst uploads = multer({ storage, fileFilter });\n\nrouter.post(\"/\", verify, uploads.single(\"image\"), saveArticle);\nrouter.get(\"/\", getAllArticles);\nrouter.get(\"/:id\", getById);\nrouter.put(\"/:id\", verify, updateArticle);\nrouter.delete(\"/:id\", verify, deleteArticleById);\n\nexport default router;\n"]}},"mtime":1648468547422},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/controller/article.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateArticle = exports.saveArticle = exports.getById = exports.getAllArticles = exports.deleteArticleById = void 0;\n\nvar _article = _interopRequireDefault(require(\"../models/article.model\"));\n\nvar _multer = require(\"../helper/multer\");\n\nvar _validation = require(\"../validation/validation\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** @format */\nconst saveArticle = async (req, res, next) => {\n  const {\n    error\n  } = (0, _validation.articleValidation)(req.body);\n  if (error) return res.status(400).json({\n    message: error.details[0].message\n  });\n\n  if (req.file) {\n    req.body.image = await (0, _multer.fileUpload)(req);\n  } else {\n    req.body.image = \"https://images.app.goo.gl/KSrkEVNSfxm96ckT9\";\n  }\n\n  const article = {\n    cover: req.body.image,\n    title: req.body.title,\n    slug: req.body.content,\n    author: req.body.author,\n    content: req.body.author,\n    status: false\n  };\n  const newArticle = new _article.default(article);\n  await newArticle.save();\n  res.status(201).json({\n    success: true,\n    data: newArticle\n  });\n};\n\nexports.saveArticle = saveArticle;\n\nconst getAllArticles = async (req, res) => {\n  const articles = await _article.default.find();\n  res.status(200).json({\n    success: true,\n    data: articles\n  });\n};\n\nexports.getAllArticles = getAllArticles;\n\nconst getById = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const article = await _article.default.findById(id);\n  if (!article) return res.status(404).json({\n    success: false,\n    message: \"Article not found\"\n  });\n  res.status(200).json({\n    success: true,\n    data: article\n  });\n};\n\nexports.getById = getById;\n\nconst updateArticle = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const {\n    error\n  } = (0, _validation.articleValidation)(req.body);\n  if (error) return res.status(400).json({\n    message: error.details[0].message\n  });\n  const updates = req.body;\n  const article = await _article.default.findById(id);\n  if (!article) return res.status(404).json({\n    success: false,\n    message: \"Article not found\"\n  });\n  await _article.default.findByIdAndUpdate(id, updates);\n  res.status(200).json({\n    success: true,\n    message: \"Article updated successfully\"\n  });\n};\n\nexports.updateArticle = updateArticle;\n\nconst deleteArticleById = async (req, res) => {\n  const id = req.params.id;\n  const article = await _article.default.findById(id);\n  if (!article) return res.status(404).json({\n    success: 404,\n    message: \"Article not found\"\n  }); //await Article.findByIdAndDelete(id);\n\n  const articleDelete = await _article.default.findByIdAndDelete(id);\n  res.status(200).json({\n    success: 200,\n    message: \"Article deleted\"\n  }); //return res.status(500).json({status: 500, message: \"Internal server error!\" });\n};\n\nexports.deleteArticleById = deleteArticleById;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydGljbGUuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJzYXZlQXJ0aWNsZSIsInJlcSIsInJlcyIsIm5leHQiLCJlcnJvciIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImRldGFpbHMiLCJmaWxlIiwiaW1hZ2UiLCJhcnRpY2xlIiwiY292ZXIiLCJ0aXRsZSIsInNsdWciLCJjb250ZW50IiwiYXV0aG9yIiwibmV3QXJ0aWNsZSIsIkFydGljbGUiLCJzYXZlIiwic3VjY2VzcyIsImRhdGEiLCJnZXRBbGxBcnRpY2xlcyIsImFydGljbGVzIiwiZmluZCIsImdldEJ5SWQiLCJpZCIsInBhcmFtcyIsImZpbmRCeUlkIiwidXBkYXRlQXJ0aWNsZSIsInVwZGF0ZXMiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImRlbGV0ZUFydGljbGVCeUlkIiwiYXJ0aWNsZURlbGV0ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUE7O0FBQ0E7O0FBQ0E7Ozs7QUFKQTtBQU1PLE1BQU1BLFdBQVcsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0FBQ3BELFFBQU07QUFBRUMsSUFBQUE7QUFBRixNQUFZLG1DQUFrQkgsR0FBRyxDQUFDSSxJQUF0QixDQUFsQjtBQUNBLE1BQUlELEtBQUosRUFBVyxPQUFPRixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxJQUFBQSxPQUFPLEVBQUVKLEtBQUssQ0FBQ0ssT0FBTixDQUFjLENBQWQsRUFBaUJEO0FBQTVCLEdBQXJCLENBQVA7O0FBQ1gsTUFBSVAsR0FBRyxDQUFDUyxJQUFSLEVBQWM7QUFDYlQsSUFBQUEsR0FBRyxDQUFDSSxJQUFKLENBQVNNLEtBQVQsR0FBaUIsTUFBTSx3QkFBV1YsR0FBWCxDQUF2QjtBQUNBLEdBRkQsTUFFTztBQUNOQSxJQUFBQSxHQUFHLENBQUNJLElBQUosQ0FBU00sS0FBVCxH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QkksT0FBOUIsQ0FBTjtBQUNBN0IsRUFBQUEsR0FBRyxDQUNESSxNQURGLENBQ1MsR0FEVCxFQUVFQyxJQUZGLENBRU87QUFBRWMsSUFBQUEsT0FBTyxFQUFFLElBQVg7QUFBaUJiLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQUZQO0FBR0EsQ0FoQk07Ozs7QUFrQkEsTUFBTXlCLGlCQUFpQixHQUFHLE9BQU9oQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDcEQsUUFBTXlCLEVBQUUsR0FBRzFCLEdBQUcsQ0FBQzJCLE1BQUosQ0FBV0QsRUFBdEI7QUFDQSxRQUFNZixPQUFPLEdBQUcsTUFBTU8saUJBQVFVLFFBQVIsQ0FBaUJGLEVBQWpCLENBQXRCO0FBQ0EsTUFBSSxDQUFDZixPQUFMLEVBQ0MsT0FBT1YsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRWMsSUFBQUEsT0FBTyxFQUFFLEdBQVg7QUFBZ0JiLElBQUFBLE9BQU8sRUFBRTtBQUF6QixHQUFyQixDQUFQLENBSm1ELENBS3BEOztBQUNBLFFBQU0wQixhQUFhLEdBQUcsTUFBTWYsaUJBQVFnQixpQkFBUixDQUEwQlIsRUFBMUIsQ0FBNUI7QUFDQXpCLEVBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVjLElBQUFBLE9BQU8sRUFBRSxHQUFYO0FBQWdCYixJQUFBQSxPQUFPLEVBQUU7QUFBekIsR0FBckIsRUFQb0QsQ0FTcEQ7QUFFQSxDQVhNIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbmRlbGFyd2FuZGEvRG9jdW1lbnRzL215YnJhbmQvc3JjL2NvbnRyb2xsZXIvIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBmb3JtYXQgKi9cblxuaW1wb3J0IEFydGljbGUgZnJvbSBcIi4uL21vZGVscy9hcnRpY2xlLm1vZGVsXCI7XG5pbXBvcnQgeyBmaWxlVXBsb2FkIH0gZnJvbSBcIi4uL2hlbHBlci9tdWx0ZXJcIjtcbmltcG9ydCB7IGFydGljbGVWYWxpZGF0aW9uIH0gZnJvbSBcIi4uL3ZhbGlkYXRpb24vdmFsaWRhdGlvblwiO1xuXG5leHBvcnQgY29uc3Qgc2F2ZUFydGljbGUgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcblx0Y29uc3QgeyBlcnJvciB9ID0gYXJ0aWNsZVZhbGlkYXRpb24ocmVxLmJvZHkpO1xuXHRpZiAoZXJyb3IpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IGVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSB9KTtcblx0aWYgKHJlcS5maWxlKSB7XG5cdFx0cmVxLmJvZHkuaW1hZ2UgPSBhd2FpdCBmaWxlVXBsb2FkKHJlcSk7XG5cdH0gZWxzZSB7XG5cdFx0cmVxLmJvZHkuaW1hZ2UgPVxuXHRcdFx0XCJodHRwczovL2ltYWdlcy5hcHAuZ29vLmdsL0tTcmtFVk5TZnhtOTZja1Q5XCI7XG5cdH1cblx0Y29uc3QgYXJ0aWNsZSA9IHtcblx0XHRjb3ZlcjogcmVxLmJvZHkuaW1hZ2UsXG5cdFx0dGl0bGU6IHJlcS5ib2R5LnRpdGxlLFxuXHRcdHNsdWc6IHJlcS5ib2R5LmNvbnRlbnQsXG5cdFx0YXV0aG9yOiByZXEuYm9keS5hdXRob3IsXG5cdFx0Y29udGVudDogcmVxLmJvZHkuYXV0aG9yLFxuXHRcdHN0YXR1czogZmFsc2UsXG5cdH07XG5cdGNvbnN0IG5ld0FydGljbGUgPSBuZXcgQXJ0aWNsZShhcnRpY2xlKTtcblx0YXdhaXQgbmV3QXJ0aWNsZS5zYXZlKCk7XG5cdHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbmV3QXJ0aWNsZSB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRBbGxBcnRpY2xlcyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuXHRjb25zdCBhcnRpY2xlcyA9IGF3YWl0IEFydGljbGUuZmluZCgpO1xuXHRyZXMuc3RhdHVzKDIwMCkuanNvbih7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGFydGljbGVzIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEJ5SWQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcblx0Y29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcblx0Y29uc3QgYXJ0aWNsZSA9IGF3YWl0IEFydGljbGUuZmluZEJ5SWQoaWQpO1xuXHRpZiAoIWFydGljbGUpXG5cdFx0cmV0dXJuIHJlc1xuXHRcdFx0LnN0YXR1cyg0MDQpXG5cdFx0XHQuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIkFydGljbGUgbm90IGZvdW5kXCIgfSk7XG5cdHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogYXJ0aWNsZSB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVBcnRpY2xlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cdGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG5cblx0Y29uc3QgeyBlcnJvciB9ID0gYXJ0aWNsZVZhbGlkYXRpb24ocmVxLmJvZHkpO1xuXHRpZiAoZXJyb3IpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IGVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSB9KTtcblxuXHRjb25zdCB1cGRhdGVzID0gcmVxLmJvZHk7XG5cdGNvbnN0IGFydGljbGUgPSBhd2FpdCBBcnRpY2xlLmZpbmRCeUlkKGlkKTtcblx0aWYgKCFhcnRpY2xlKVxuXHRcdHJldHVybiByZXNcblx0XHRcdC5zdGF0dXMoNDA0KVxuXHRcdFx0Lmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJBcnRpY2xlIG5vdCBmb3VuZFwiIH0pO1xuXHRhd2FpdCBBcnRpY2xlLmZpbmRCeUlkQW5kVXBkYXRlKGlkLCB1cGRhdGVzKTtcblx0cmVzXG5cdFx0LnN0YXR1cygyMDApXG5cdFx0Lmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiBcIkFydGljbGUgdXBkYXRlZCBzdWNjZXNzZnVsbHlcIiB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVBcnRpY2xlQnlJZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuXHRjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XG5cdGNvbnN0IGFydGljbGUgPSBhd2FpdCBBcnRpY2xlLmZpbmRCeUlkKGlkKTtcblx0aWYgKCFhcnRpY2xlKVxuXHRcdHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IHN1Y2Nlc3M6IDQwNCwgbWVzc2FnZTogXCJBcnRpY2xlIG5vdCBmb3VuZFwiIH0pO1xuXHQvL2F3YWl0IEFydGljbGUuZmluZEJ5SWRBbmREZWxldGUoaWQpO1xuXHRjb25zdCBhcnRpY2xlRGVsZXRlID0gYXdhaXQgQXJ0aWNsZS5maW5kQnlJZEFuZERlbGV0ZShpZCk7XG5cdHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogMjAwLCBtZXNzYWdlOiBcIkFydGljbGUgZGVsZXRlZFwiIH0pO1xuXG5cdC8vcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtzdGF0dXM6IDUwMCwgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3IhXCIgfSk7XG5cbn07XG4gICJdfQ==","map":{"version":3,"sources":["article.controller.js"],"names":["saveArticle","req","res","next","error","body","status","json","message","details","file","image","article","cover","title","slug","content","author","newArticle","Article","save","success","data","getAllArticles","articles","find","getById","id","params","findById","updateArticle","updates","findByIdAndUpdate","deleteArticleById","articleDelete","findByIdAndDelete"],"mappings":"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","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/controller/","sourcesContent":["/** @format */\n\nimport Article from \"../models/article.model\";\nimport { fileUpload } from \"../helper/multer\";\nimport { articleValidation } from \"../validation/validation\";\n\nexport const saveArticle = async (req, res, next) => {\n\tconst { error } = articleValidation(req.body);\n\tif (error) return res.status(400).json({ message: error.details[0].message });\n\tif (req.file) {\n\t\treq.body.image = await fileUpload(req);\n\t} else {\n\t\treq.body.image =\n\t\t\t\"https://images.app.goo.gl/KSrkEVNSfxm96ckT9\";\n\t}\n\tconst article = {\n\t\tcover: req.body.image,\n\t\ttitle: req.body.title,\n\t\tslug: req.body.content,\n\t\tauthor: req.body.author,\n\t\tcontent: req.body.author,\n\t\tstatus: false,\n\t};\n\tconst newArticle = new Article(article);\n\tawait newArticle.save();\n\tres.status(201).json({ success: true, data: newArticle });\n};\n\nexport const getAllArticles = async (req, res) => {\n\tconst articles = await Article.find();\n\tres.status(200).json({ success: true, data: articles });\n};\n\nexport const getById = async (req, res) => {\n\tconst { id } = req.params;\n\tconst article = await Article.findById(id);\n\tif (!article)\n\t\treturn res\n\t\t\t.status(404)\n\t\t\t.json({ success: false, message: \"Article not found\" });\n\tres.status(200).json({ success: true, data: article });\n};\n\nexport const updateArticle = async (req, res) => {\n\tconst { id } = req.params;\n\n\tconst { error } = articleValidation(req.body);\n\tif (error) return res.status(400).json({ message: error.details[0].message });\n\n\tconst updates = req.body;\n\tconst article = await Article.findById(id);\n\tif (!article)\n\t\treturn res\n\t\t\t.status(404)\n\t\t\t.json({ success: false, message: \"Article not found\" });\n\tawait Article.findByIdAndUpdate(id, updates);\n\tres\n\t\t.status(200)\n\t\t.json({ success: true, message: \"Article updated successfully\" });\n};\n\nexport const deleteArticleById = async (req, res) => {\n\tconst id = req.params.id;\n\tconst article = await Article.findById(id);\n\tif (!article)\n\t\treturn res.status(404).json({ success: 404, message: \"Article not found\" });\n\t//await Article.findByIdAndDelete(id);\n\tconst articleDelete = await Article.findByIdAndDelete(id);\n\tres.status(200).json({ success: 200, message: \"Article deleted\" });\n\n\t//return res.status(500).json({status: 500, message: \"Internal server error!\" });\n\n};\n  "]}},"mtime":1648464787962},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/models/article.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** @format */\nconst ArticleSchema = new _mongoose.default.Schema({\n  title: {\n    type: String,\n    required: true\n  },\n  author: {\n    type: String,\n    required: true\n  },\n  content: {\n    type: String,\n    required: true\n  },\n  cover: {\n    type: String\n  },\n  createdAt: {\n    type: Date,\n    default: new Date()\n  },\n  comments: [{\n    type: String,\n    ref: \"Comment\"\n  }]\n});\n\nconst Article = _mongoose.default.model(\"Article\", ArticleSchema);\n\nvar _default = Article;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydGljbGUubW9kZWwuanMiXSwibmFtZXMiOlsiQXJ0aWNsZVNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJhdXRob3IiLCJjb250ZW50IiwiY292ZXIiLCJjcmVhdGVkQXQiLCJEYXRlIiwiZGVmYXVsdCIsImNvbW1lbnRzIiwicmVmIiwiQXJ0aWNsZSIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUE7Ozs7QUFGQTtBQUlBLE1BQU1BLGFBQWEsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUFvQjtBQUN6Q0MsRUFBQUEsS0FBSyxFQUFFO0FBQ05DLElBQUFBLElBQUksRUFBRUMsTUFEQTtBQUVOQyxJQUFBQSxRQUFRLEVBQUU7QUFGSixHQURrQztBQUt6Q0MsRUFBQUEsTUFBTSxFQUFFO0FBQ1BILElBQUFBLElBQUksRUFBRUMsTUFEQztBQUVQQyxJQUFBQSxRQUFRLEVBQUU7QUFGSCxHQUxpQztBQVN6Q0UsRUFBQUEsT0FBTyxFQUFFO0FBQ1JKLElBQUFBLElBQUksRUFBRUMsTUFERTtBQUVSQyxJQUFBQSxRQUFRLEVBQUU7QUFGRixHQVRnQztBQWF6Q0csRUFBQUEsS0FBSyxFQUFFO0FBQ05MLElBQUFBLElBQUksRUFBRUM7QUFEQSxHQWJrQztBQWdCekNLLEVBQUFBLFNBQVMsRUFBRTtBQUNWTixJQUFBQSxJQUFJLEVBQUVPLElBREk7QUFFVkMsSUFBQUEsT0FBTyxFQUFFLElBQUlELElBQUo7QUFGQyxHQWhCOEI7QUFvQnpDRSxFQUFBQSxRQUFRLEVBQUUsQ0FDVDtBQUNDVCxJQUFBQSxJQUFJLEVBQUNDLE1BRE47QUFFQ1MsSUFBQUEsR0FBRyxFQUFFO0FBRk4sR0FEUztBQXBCK0IsQ0FBcEIsQ0FBdEI7O0FBMkJBLE1BQU1DLE9BQU8sR0FBR2Qsa0JBQVNlLEtBQVQsQ0FBZSxTQUFmLEVBQTBCaEIsYUFBMUIsQ0FBaEI7O2VBQ2VlLE8iLCJzb3VyY2VSb290IjoiL1VzZXJzL2FuZGVsYXJ3YW5kYS9Eb2N1bWVudHMvbXlicmFuZC9zcmMvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAZm9ybWF0ICovXG5cbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgQXJ0aWNsZVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuXHR0aXRsZToge1xuXHRcdHR5cGU6IFN0cmluZyxcblx0XHRyZXF1aXJlZDogdHJ1ZSxcblx0fSxcblx0YXV0aG9yOiB7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiB0cnVlLFxuXHR9LFxuXHRjb250ZW50OiB7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiB0cnVlLFxuXHR9LFxuXHRjb3Zlcjoge1xuXHRcdHR5cGU6IFN0cmluZyxcblx0fSxcblx0Y3JlYXRlZEF0OiB7XG5cdFx0dHlwZTogRGF0ZSxcblx0XHRkZWZhdWx0OiBuZXcgRGF0ZSgpLFxuXHR9LFxuXHRjb21tZW50czogW1xuXHRcdHtcblx0XHRcdHR5cGU6U3RyaW5nLFxuXHRcdFx0cmVmOiBcIkNvbW1lbnRcIixcblx0XHR9LFxuXHRdLFxufSk7XG5jb25zdCBBcnRpY2xlID0gbW9uZ29vc2UubW9kZWwoXCJBcnRpY2xlXCIsIEFydGljbGVTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgQXJ0aWNsZTtcbiJdfQ==","map":{"version":3,"sources":["article.model.js"],"names":["ArticleSchema","mongoose","Schema","title","type","String","required","author","content","cover","createdAt","Date","default","comments","ref","Article","model"],"mappings":";;;;;;;AAEA;;;;AAFA;AAIA,MAAMA,aAAa,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACzCC,EAAAA,KAAK,EAAE;AACNC,IAAAA,IAAI,EAAEC,MADA;AAENC,IAAAA,QAAQ,EAAE;AAFJ,GADkC;AAKzCC,EAAAA,MAAM,EAAE;AACPH,IAAAA,IAAI,EAAEC,MADC;AAEPC,IAAAA,QAAQ,EAAE;AAFH,GALiC;AASzCE,EAAAA,OAAO,EAAE;AACRJ,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF,GATgC;AAazCG,EAAAA,KAAK,EAAE;AACNL,IAAAA,IAAI,EAAEC;AADA,GAbkC;AAgBzCK,EAAAA,SAAS,EAAE;AACVN,IAAAA,IAAI,EAAEO,IADI;AAEVC,IAAAA,OAAO,EAAE,IAAID,IAAJ;AAFC,GAhB8B;AAoBzCE,EAAAA,QAAQ,EAAE,CACT;AACCT,IAAAA,IAAI,EAACC,MADN;AAECS,IAAAA,GAAG,EAAE;AAFN,GADS;AApB+B,CAApB,CAAtB;;AA2BA,MAAMC,OAAO,GAAGd,kBAASe,KAAT,CAAe,SAAf,EAA0BhB,aAA1B,CAAhB;;eACee,O","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/models/","sourcesContent":["/** @format */\n\nimport mongoose from \"mongoose\";\n\nconst ArticleSchema = new mongoose.Schema({\n\ttitle: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tauthor: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tcontent: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tcover: {\n\t\ttype: String,\n\t},\n\tcreatedAt: {\n\t\ttype: Date,\n\t\tdefault: new Date(),\n\t},\n\tcomments: [\n\t\t{\n\t\t\ttype:String,\n\t\t\tref: \"Comment\",\n\t\t},\n\t],\n});\nconst Article = mongoose.model(\"Article\", ArticleSchema);\nexport default Article;\n"]}},"mtime":1648207687269},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/helper/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/helper/multer.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fileUpload = exports.fileFilter = void 0;\n\nvar _cloudinary = _interopRequireDefault(require(\"./cloudinary.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** @format */\nconst fileFilter = (req, file, cb) => {\n  if (file.mimetype.startsWith(\"image\")) {\n    cb(null, true);\n  } else {\n    cb(\"invalid image file!\", false);\n  }\n};\n\nexports.fileFilter = fileFilter;\n\nconst fileUpload = async req => {\n  let imageUrl = \"\";\n  await _cloudinary.default.v2.uploader.upload(req.file.path, async function (err, image) {\n    if (err) {\n      console.log(err);\n    }\n\n    imageUrl = image.url;\n  });\n  return imageUrl;\n};\n\nexports.fileUpload = fileUpload;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm11bHRlci5qcyJdLCJuYW1lcyI6WyJmaWxlRmlsdGVyIiwicmVxIiwiZmlsZSIsImNiIiwibWltZXR5cGUiLCJzdGFydHNXaXRoIiwiZmlsZVVwbG9hZCIsImltYWdlVXJsIiwiY2xvdWRpbmFyeSIsInYyIiwidXBsb2FkZXIiLCJ1cGxvYWQiLCJwYXRoIiwiZXJyIiwiaW1hZ2UiLCJjb25zb2xlIiwibG9nIiwidXJsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7Ozs7QUFEQTtBQUdPLE1BQU1BLFVBQVUsR0FBRyxDQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBWUMsRUFBWixLQUFtQjtBQUM1QyxNQUFJRCxJQUFJLENBQUNFLFFBQUwsQ0FBY0MsVUFBZCxDQUF5QixPQUF6QixDQUFKLEVBQXVDO0FBQ3RDRixJQUFBQSxFQUFFLENBQUMsSUFBRCxFQUFPLElBQVAsQ0FBRjtBQUNBLEdBRkQsTUFFTztBQUNOQSxJQUFBQSxFQUFFLENBQUMscUJBQUQsRUFBd0IsS0FBeEIsQ0FBRjtBQUNBO0FBQ0QsQ0FOTTs7OztBQU9BLE1BQU1HLFVBQVUsR0FBRyxNQUFPTCxHQUFQLElBQWU7QUFDeEMsTUFBSU0sUUFBUSxHQUFHLEVBQWY7QUFDQSxRQUFNQyxvQkFBV0MsRUFBWCxDQUFjQyxRQUFkLENBQXVCQyxNQUF2QixDQUNMVixHQUFHLENBQUNDLElBQUosQ0FBU1UsSUFESixFQUVMLGdCQUFnQkMsR0FBaEIsRUFBcUJDLEtBQXJCLEVBQTRCO0FBQzNCLFFBQUlELEdBQUosRUFBUztBQUNSRSxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUgsR0FBWjtBQUNBOztBQUNETixJQUFBQSxRQUFRLEdBQUdPLEtBQUssQ0FBQ0csR0FBakI7QUFDQSxHQVBJLENBQU47QUFTQSxTQUFPVixRQUFQO0FBQ0EsQ0FaTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW5kZWxhcndhbmRhL0RvY3VtZW50cy9teWJyYW5kL3NyYy9oZWxwZXIvIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBmb3JtYXQgKi9cbmltcG9ydCBjbG91ZGluYXJ5IGZyb20gXCIuL2Nsb3VkaW5hcnkuanNcIjtcblxuZXhwb3J0IGNvbnN0IGZpbGVGaWx0ZXIgPSAocmVxLCBmaWxlLCBjYikgPT4ge1xuXHRpZiAoZmlsZS5taW1ldHlwZS5zdGFydHNXaXRoKFwiaW1hZ2VcIikpIHtcblx0XHRjYihudWxsLCB0cnVlKTtcblx0fSBlbHNlIHtcblx0XHRjYihcImludmFsaWQgaW1hZ2UgZmlsZSFcIiwgZmFsc2UpO1xuXHR9XG59O1xuZXhwb3J0IGNvbnN0IGZpbGVVcGxvYWQgPSBhc3luYyAocmVxKSA9PiB7XG5cdGxldCBpbWFnZVVybCA9IFwiXCI7XG5cdGF3YWl0IGNsb3VkaW5hcnkudjIudXBsb2FkZXIudXBsb2FkKFxuXHRcdHJlcS5maWxlLnBhdGgsXG5cdFx0YXN5bmMgZnVuY3Rpb24gKGVyciwgaW1hZ2UpIHtcblx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcblx0XHRcdH1cblx0XHRcdGltYWdlVXJsID0gaW1hZ2UudXJsO1xuXHRcdH1cblx0KTtcblx0cmV0dXJuIGltYWdlVXJsO1xufTtcbiJdfQ==","map":{"version":3,"sources":["multer.js"],"names":["fileFilter","req","file","cb","mimetype","startsWith","fileUpload","imageUrl","cloudinary","v2","uploader","upload","path","err","image","console","log","url"],"mappings":";;;;;;;AACA;;;;AADA;AAGO,MAAMA,UAAU,GAAG,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,KAAmB;AAC5C,MAAID,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAyB,OAAzB,CAAJ,EAAuC;AACtCF,IAAAA,EAAE,CAAC,IAAD,EAAO,IAAP,CAAF;AACA,GAFD,MAEO;AACNA,IAAAA,EAAE,CAAC,qBAAD,EAAwB,KAAxB,CAAF;AACA;AACD,CANM;;;;AAOA,MAAMG,UAAU,GAAG,MAAOL,GAAP,IAAe;AACxC,MAAIM,QAAQ,GAAG,EAAf;AACA,QAAMC,oBAAWC,EAAX,CAAcC,QAAd,CAAuBC,MAAvB,CACLV,GAAG,CAACC,IAAJ,CAASU,IADJ,EAEL,gBAAgBC,GAAhB,EAAqBC,KAArB,EAA4B;AAC3B,QAAID,GAAJ,EAAS;AACRE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA;;AACDN,IAAAA,QAAQ,GAAGO,KAAK,CAACG,GAAjB;AACA,GAPI,CAAN;AASA,SAAOV,QAAP;AACA,CAZM","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/helper/","sourcesContent":["/** @format */\nimport cloudinary from \"./cloudinary.js\";\n\nexport const fileFilter = (req, file, cb) => {\n\tif (file.mimetype.startsWith(\"image\")) {\n\t\tcb(null, true);\n\t} else {\n\t\tcb(\"invalid image file!\", false);\n\t}\n};\nexport const fileUpload = async (req) => {\n\tlet imageUrl = \"\";\n\tawait cloudinary.v2.uploader.upload(\n\t\treq.file.path,\n\t\tasync function (err, image) {\n\t\t\tif (err) {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t\timageUrl = image.url;\n\t\t}\n\t);\n\treturn imageUrl;\n};\n"]}},"mtime":1648463791860},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/helper/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/helper/cloudinary.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _cloudinary = _interopRequireDefault(require(\"cloudinary\"));\n\nrequire(\"dotenv/config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** @format */\n_cloudinary.default.config({\n  cloud_name: process.env.CLOUDINARY_USER_NAME,\n  api_key: process.env.CLOUDINARY_API_KEY,\n  api_secret: process.env.CLOUDINARY_API_SECRET\n});\n\nvar _default = _cloudinary.default;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsb3VkaW5hcnkuanMiXSwibmFtZXMiOlsiY2xvdWRpbmFyeSIsImNvbmZpZyIsImNsb3VkX25hbWUiLCJwcm9jZXNzIiwiZW52IiwiQ0xPVURJTkFSWV9VU0VSX05BTUUiLCJhcGlfa2V5IiwiQ0xPVURJTkFSWV9BUElfS0VZIiwiYXBpX3NlY3JldCIsIkNMT1VESU5BUllfQVBJX1NFQ1JFVCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVBOztBQUNBOzs7O0FBSEE7QUFJQUEsb0JBQVdDLE1BQVgsQ0FBa0I7QUFDakJDLEVBQUFBLFVBQVUsRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLG9CQURQO0FBRWpCQyxFQUFBQSxPQUFPLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxrQkFGSjtBQUdqQkMsRUFBQUEsVUFBVSxFQUFFTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUs7QUFIUCxDQUFsQjs7ZUFNZVQsbUIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FuZGVsYXJ3YW5kYS9Eb2N1bWVudHMvbXlicmFuZC9zcmMvaGVscGVyLyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAZm9ybWF0ICovXG5cbmltcG9ydCBjbG91ZGluYXJ5IGZyb20gXCJjbG91ZGluYXJ5XCI7XG5pbXBvcnQgXCJkb3RlbnYvY29uZmlnXCI7XG5jbG91ZGluYXJ5LmNvbmZpZyh7XG5cdGNsb3VkX25hbWU6IHByb2Nlc3MuZW52LkNMT1VESU5BUllfVVNFUl9OQU1FLFxuXHRhcGlfa2V5OiBwcm9jZXNzLmVudi5DTE9VRElOQVJZX0FQSV9LRVksXG5cdGFwaV9zZWNyZXQ6IHByb2Nlc3MuZW52LkNMT1VESU5BUllfQVBJX1NFQ1JFVCxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjbG91ZGluYXJ5O1xuIl19","map":{"version":3,"sources":["cloudinary.js"],"names":["cloudinary","config","cloud_name","process","env","CLOUDINARY_USER_NAME","api_key","CLOUDINARY_API_KEY","api_secret","CLOUDINARY_API_SECRET"],"mappings":";;;;;;;AAEA;;AACA;;;;AAHA;AAIAA,oBAAWC,MAAX,CAAkB;AACjBC,EAAAA,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC,oBADP;AAEjBC,EAAAA,OAAO,EAAEH,OAAO,CAACC,GAAR,CAAYG,kBAFJ;AAGjBC,EAAAA,UAAU,EAAEL,OAAO,CAACC,GAAR,CAAYK;AAHP,CAAlB;;eAMeT,mB","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/helper/","sourcesContent":["/** @format */\n\nimport cloudinary from \"cloudinary\";\nimport \"dotenv/config\";\ncloudinary.config({\n\tcloud_name: process.env.CLOUDINARY_USER_NAME,\n\tapi_key: process.env.CLOUDINARY_API_KEY,\n\tapi_secret: process.env.CLOUDINARY_API_SECRET,\n});\n\nexport default cloudinary;\n"]}},"mtime":1648463791859},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/validation/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/validation/validation.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"prod\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:prod":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.registerValidation = exports.newsletterValidation = exports.loginValidation = exports.contactValidation = exports.blogValidation = exports.articleValidation = void 0;\n\nvar _joi = _interopRequireDefault(require(\"@hapi/joi\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//!!VALIDATION\nconst Joi = _joi.default; //!!REGISTER VALIDATION\n\nconst registerValidation = data => {\n  const schema = Joi.object({\n    name: Joi.string().min(3).required(),\n    email: Joi.string().min(3).required().email(),\n    password: Joi.string().min(3).required()\n  });\n  const validation = schema.validate(data);\n  return validation;\n};\n\nexports.registerValidation = registerValidation;\n\nconst loginValidation = data => {\n  const schema = Joi.object({\n    email: Joi.string().min(3).required().email(),\n    password: Joi.string().min(3).required()\n  });\n  const validation = schema.validate(data);\n  return validation;\n}; //!! NEW POST VALIDATION\n\n\nexports.loginValidation = loginValidation;\n\nconst blogValidation = data => {\n  const schema = Joi.object({\n    title: Joi.string().min(3).required(),\n    author: Joi.string().min(3).required(),\n    body: Joi.string().min(5).required()\n  });\n  const validation = schema.validate(data);\n  return validation;\n}; //!!CONTACT-US VALIDATION\n\n\nexports.blogValidation = blogValidation;\n\nconst contactValidation = data => {\n  const schema = Joi.object({\n    name: Joi.string().min(3).max(30).required(),\n    email: Joi.string().min(3).max(30).required(),\n    message: Joi.string().min(3).max(1000).required()\n  });\n  const validation = schema.validate(data);\n  return validation;\n}; // New Comment subscriber\n\n\nexports.contactValidation = contactValidation;\n\nconst newsletterValidation = data => {\n  const schema = Joi.object({\n    email: Joi.string().min(6).required().email()\n  });\n  return schema.validate(data);\n}; //!! NEW POST articleValidation\n\n\nexports.newsletterValidation = newsletterValidation;\n\nconst articleValidation = data => {\n  const schema = Joi.object({\n    title: Joi.string().min(3).required(),\n    slug: Joi.string().min(3).required(),\n    author: Joi.string().min(5).required(),\n    content: Joi.string().min(3).required(),\n    comments: Joi.string().min(3).required()\n  });\n  const validation = schema.validate(data);\n  return validation;\n};\n\nexports.articleValidation = articleValidation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRpb24uanMiXSwibmFtZXMiOlsiSm9pIiwiam9pIiwicmVnaXN0ZXJWYWxpZGF0aW9uIiwiZGF0YSIsInNjaGVtYSIsIm9iamVjdCIsIm5hbWUiLCJzdHJpbmciLCJtaW4iLCJyZXF1aXJlZCIsImVtYWlsIiwicGFzc3dvcmQiLCJ2YWxpZGF0aW9uIiwidmFsaWRhdGUiLCJsb2dpblZhbGlkYXRpb24iLCJibG9nVmFsaWRhdGlvbiIsInRpdGxlIiwiYXV0aG9yIiwiYm9keSIsImNvbnRhY3RWYWxpZGF0aW9uIiwibWF4IiwibWVzc2FnZSIsIm5ld3NsZXR0ZXJWYWxpZGF0aW9uIiwiYXJ0aWNsZVZhbGlkYXRpb24iLCJzbHVnIiwiY29udGVudCIsImNvbW1lbnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7Ozs7QUFEQTtBQUdBLE1BQU1BLEdBQUcsR0FBR0MsWUFBWixDLENBRUE7O0FBQ0EsTUFBTUMsa0JBQWtCLEdBQUlDLElBQUQsSUFBVTtBQUNuQyxRQUFNQyxNQUFNLEdBQUdKLEdBQUcsQ0FBQ0ssTUFBSixDQUFXO0FBQ3hCQyxJQUFBQSxJQUFJLEVBQUVOLEdBQUcsQ0FBQ08sTUFBSixHQUFhQyxHQUFiLENBQWlCLENBQWpCLEVBQW9CQyxRQUFwQixFQURrQjtBQUV4QkMsSUFBQUEsS0FBSyxFQUFFVixHQUFHLENBQUNPLE1BQUosR0FBYUMsR0FBYixDQUFpQixDQUFqQixFQUFvQkMsUUFBcEIsR0FBK0JDLEtBQS9CLEVBRmlCO0FBR3hCQyxJQUFBQSxRQUFRLEVBQUVYLEdBQUcsQ0FBQ08sTUFBSixHQUFhQyxHQUFiLENBQWlCLENBQWpCLEVBQW9CQyxRQUFwQjtBQUhjLEdBQVgsQ0FBZjtBQU1BLFFBQU1HLFVBQVUsR0FBR1IsTUFBTSxDQUFDUyxRQUFQLENBQWdCVixJQUFoQixDQUFuQjtBQUNBLFNBQU9TLFVBQVA7QUFDRCxDQVREOzs7O0FBV0EsTUFBTUUsZUFBZSxHQUFJWCxJQUFELElBQVU7QUFDaEMsUUFBTUMsTUFBTSxH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QW9CQyxRQUFwQixFQUhnQjtBQUl4QmdCLElBQUFBLE9BQU8sRUFBRXpCLEdBQUcsQ0FBQ08sTUFBSixHQUFhQyxHQUFiLENBQWlCLENBQWpCLEVBQW9CQyxRQUFwQixFQUplO0FBS3hCaUIsSUFBQUEsUUFBUSxFQUFFMUIsR0FBRyxDQUFDTyxNQUFKLEdBQWFDLEdBQWIsQ0FBaUIsQ0FBakIsRUFBb0JDLFFBQXBCO0FBTGMsR0FBWCxDQUFmO0FBUUEsUUFBTUcsVUFBVSxHQUFHUixNQUFNLENBQUNTLFFBQVAsQ0FBZ0JWLElBQWhCLENBQW5CO0FBQ0EsU0FBT1MsVUFBUDtBQUNELENBWEQiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FuZGVsYXJ3YW5kYS9Eb2N1bWVudHMvbXlicmFuZC9zcmMvdmFsaWRhdGlvbi8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyEhVkFMSURBVElPTlxuaW1wb3J0IGpvaSBmcm9tIFwiQGhhcGkvam9pXCI7XG5cbmNvbnN0IEpvaSA9IGpvaTtcblxuLy8hIVJFR0lTVEVSIFZBTElEQVRJT05cbmNvbnN0IHJlZ2lzdGVyVmFsaWRhdGlvbiA9IChkYXRhKSA9PiB7XG4gIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5taW4oMykucmVxdWlyZWQoKSxcbiAgICBlbWFpbDogSm9pLnN0cmluZygpLm1pbigzKS5yZXF1aXJlZCgpLmVtYWlsKCksXG4gICAgcGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS5taW4oMykucmVxdWlyZWQoKSxcbiAgfSk7XG5cbiAgY29uc3QgdmFsaWRhdGlvbiA9IHNjaGVtYS52YWxpZGF0ZShkYXRhKTtcbiAgcmV0dXJuIHZhbGlkYXRpb247XG59O1xuXG5jb25zdCBsb2dpblZhbGlkYXRpb24gPSAoZGF0YSkgPT4ge1xuICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICBlbWFpbDogSm9pLnN0cmluZygpLm1pbigzKS5yZXF1aXJlZCgpLmVtYWlsKCksXG4gICAgcGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS5taW4oMykucmVxdWlyZWQoKSxcbiAgfSk7XG5cbiAgY29uc3QgdmFsaWRhdGlvbiA9IHNjaGVtYS52YWxpZGF0ZShkYXRhKTtcbiAgcmV0dXJuIHZhbGlkYXRpb247XG59O1xuXG5cbi8vISEgTkVXIFBPU1QgVkFMSURBVElPTlxuY29uc3QgYmxvZ1ZhbGlkYXRpb24gPSAoKGRhdGEpPT57XG4gIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgIHRpdGxlOiBKb2kuc3RyaW5nKCkubWluKDMpLnJlcXVpcmVkKCksXG4gICAgYXV0aG9yOiBKb2kuc3RyaW5nKCkubWluKDMpLnJlcXVpcmVkKCksXG4gICAgYm9keTogSm9pLnN0cmluZygpLm1pbig1KS5yZXF1aXJlZCgpLFxuICB9KTtcblxuICBjb25zdCB2YWxpZGF0aW9uID0gc2NoZW1hLnZhbGlkYXRlKGRhdGEpO1xuICByZXR1cm4gdmFsaWRhdGlvbjtcbn0pO1xuXG5cbi8vISFDT05UQUNULVVTIFZBTElEQVRJT05cbmNvbnN0IGNvbnRhY3RWYWxpZGF0aW9uID0gKGRhdGEpID0+e1xuICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICBuYW1lOiBKb2kuc3RyaW5nKCkubWluKDMpLm1heCgzMCkucmVxdWlyZWQoKSxcbiAgICBlbWFpbDogSm9pLnN0cmluZygpLm1pbigzKS5tYXgoMzApLnJlcXVpcmVkKCksXG4gICAgbWVzc2FnZTogSm9pLnN0cmluZygpLm1pbigzKS5tYXgoMTAwMCkucmVxdWlyZWQoKSxcblxuICB9KTtcblxuICBjb25zdCB2YWxpZGF0aW9uID0gc2NoZW1hLnZhbGlkYXRlKGRhdGEpO1xuICByZXR1cm4gdmFsaWRhdGlvbjtcbn1cbi8vIE5ldyBDb21tZW50IHN1YnNjcmliZXJcbmV4cG9ydCBjb25zdCBuZXdzbGV0dGVyVmFsaWRhdGlvbiA9IChkYXRhKSA9PiB7XG4gIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5taW4oNikucmVxdWlyZWQoKS5lbWFpbCgpLFxuICB9KTtcblxuICByZXR1cm4gc2NoZW1hLnZhbGlkYXRlKGRhdGEpO1xufTtcbi8vISEgTkVXIFBPU1QgYXJ0aWNsZVZhbGlkYXRpb25cbmNvbnN0IGFydGljbGVWYWxpZGF0aW9uID0gKChkYXRhKT0+e1xuICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICB0aXRsZTogSm9pLnN0cmluZygpLm1pbigzKS5yZXF1aXJlZCgpLFxuICAgIHNsdWc6IEpvaS5zdHJpbmcoKS5taW4oMykucmVxdWlyZWQoKSxcbiAgICBhdXRob3I6IEpvaS5zdHJpbmcoKS5taW4oNSkucmVxdWlyZWQoKSxcbiAgICBjb250ZW50OiBKb2kuc3RyaW5nKCkubWluKDMpLnJlcXVpcmVkKCksXG4gICAgY29tbWVudHM6IEpvaS5zdHJpbmcoKS5taW4oMykucmVxdWlyZWQoKVxuICB9KTtcblxuICBjb25zdCB2YWxpZGF0aW9uID0gc2NoZW1hLnZhbGlkYXRlKGRhdGEpO1xuICByZXR1cm4gdmFsaWRhdGlvbjtcbn0pO1xuXG5leHBvcnQgeyByZWdpc3RlclZhbGlkYXRpb24gfTtcbmV4cG9ydCB7IGxvZ2luVmFsaWRhdGlvbiB9O1xuZXhwb3J0IHsgYmxvZ1ZhbGlkYXRpb24gfTtcbmV4cG9ydCB7IGNvbnRhY3RWYWxpZGF0aW9uIH07XG4vL2V4cG9ydCB7IHN1YnNjcmliZXJWYWxpZGF0aW9uIH07XG5leHBvcnQgeyBhcnRpY2xlVmFsaWRhdGlvbiB9OyJdfQ==","map":{"version":3,"sources":["validation.js"],"names":["Joi","joi","registerValidation","data","schema","object","name","string","min","required","email","password","validation","validate","loginValidation","blogValidation","title","author","body","contactValidation","max","message","newsletterValidation","articleValidation","slug","content","comments"],"mappings":"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","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/validation/","sourcesContent":["//!!VALIDATION\nimport joi from \"@hapi/joi\";\n\nconst Joi = joi;\n\n//!!REGISTER VALIDATION\nconst registerValidation = (data) => {\n  const schema = Joi.object({\n    name: Joi.string().min(3).required(),\n    email: Joi.string().min(3).required().email(),\n    password: Joi.string().min(3).required(),\n  });\n\n  const validation = schema.validate(data);\n  return validation;\n};\n\nconst loginValidation = (data) => {\n  const schema = Joi.object({\n    email: Joi.string().min(3).required().email(),\n    password: Joi.string().min(3).required(),\n  });\n\n  const validation = schema.validate(data);\n  return validation;\n};\n\n\n//!! NEW POST VALIDATION\nconst blogValidation = ((data)=>{\n  const schema = Joi.object({\n    title: Joi.string().min(3).required(),\n    author: Joi.string().min(3).required(),\n    body: Joi.string().min(5).required(),\n  });\n\n  const validation = schema.validate(data);\n  return validation;\n});\n\n\n//!!CONTACT-US VALIDATION\nconst contactValidation = (data) =>{\n  const schema = Joi.object({\n    name: Joi.string().min(3).max(30).required(),\n    email: Joi.string().min(3).max(30).required(),\n    message: Joi.string().min(3).max(1000).required(),\n\n  });\n\n  const validation = schema.validate(data);\n  return validation;\n}\n// New Comment subscriber\nexport const newsletterValidation = (data) => {\n  const schema = Joi.object({\n      email: Joi.string().min(6).required().email(),\n  });\n\n  return schema.validate(data);\n};\n//!! NEW POST articleValidation\nconst articleValidation = ((data)=>{\n  const schema = Joi.object({\n    title: Joi.string().min(3).required(),\n    slug: Joi.string().min(3).required(),\n    author: Joi.string().min(5).required(),\n    content: Joi.string().min(3).required(),\n    comments: Joi.string().min(3).required()\n  });\n\n  const validation = schema.validate(data);\n  return validation;\n});\n\nexport { registerValidation };\nexport { loginValidation };\nexport { blogValidation };\nexport { contactValidation };\n//export { subscriberValidation };\nexport { articleValidation };"]}},"mtime":1647989420535},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/routes/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/routes/api/verifyToken.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"prod\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:prod":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.admin = admin;\nexports.auth = auth;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst jwt = _jsonwebtoken.default;\n\nfunction auth(req, res, next) {\n  //assign a token for a request\n  // const token = req.header('auth-token');      \n  const authHeader = req.headers[\"authorization\"];\n  if (!authHeader) return res.status(401).json({\n    message: 'Access Denied!'\n  });\n  const token = authHeader.split(\" \")[1];\n\n  try {\n    //verifying a req Token above with actual Token u have in .env file\n    const verified = jwt.verify(token, process.env.TOKEN_SECRET);\n    req.user = verified;\n    next();\n  } catch (error) {\n    res.status(400).json({\n      status: \"Fail\",\n      message: 'Invalid Token'\n    });\n  }\n}\n\nfunction admin(req, res, next) {\n  //assign a token for a request\n  // const token = req.header('auth-token');      \n  const authHeader = req.headers[\"authorization\"];\n  if (!authHeader) return res.status(401).json({\n    message: 'Access Denied!'\n  });\n  const token = authHeader.split(\" \")[1];\n\n  try {\n    //verifying a req Token above with actual Token u have in .env file\n    const verified = jwt.verify(token, process.env.ADMIN_TOKEN);\n    req.user = verified;\n    next();\n  } catch (error) {\n    res.status(400).json({\n      status: \"Fail\",\n      message: 'Invalid Token'\n    });\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlcmlmeVRva2VuLmpzIl0sIm5hbWVzIjpbImp3dCIsImpzb253ZWJ0b2tlbiIsImF1dGgiLCJyZXEiLCJyZXMiLCJuZXh0IiwiYXV0aEhlYWRlciIsImhlYWRlcnMiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInRva2VuIiwic3BsaXQiLCJ2ZXJpZmllZCIsInZlcmlmeSIsInByb2Nlc3MiLCJlbnYiLCJUT0tFTl9TRUNSRVQiLCJ1c2VyIiwiZXJyb3IiLCJhZG1pbiIsIkFETUlOX1RPS0VOIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsR0FBRyxHQUFHQyxxQkFBWjs7QUFFTyxTQUFTQyxJQUFULENBQWVDLEdBQWYsRUFBb0JDLEdBQXBCLEVBQXlCQyxJQUF6QixFQUE4QjtBQUNqQztBQUNBO0FBQ0EsUUFBTUMsVUFBVSxHQUFHSCxHQUFHLENBQUNJLE9BQUosQ0FBWSxlQUFaLENBQW5CO0FBQ0EsTUFBRyxDQUFDRCxVQUFKLEVBQWdCLE9BQU9GLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNDLElBQUFBLE9BQU8sRUFBRTtBQUFWLEdBQXJCLENBQVA7QUFFaEIsUUFBTUMsS0FBSyxHQUFHTCxVQUFVLENBQUNNLEtBQVgsQ0FBaUIsR0FBakIsRUFBc0IsQ0FBdEIsQ0FBZDs7QUFFQSxNQUFJO0FBQ0E7QUFDQSxVQUFNQyxRQUFRLEdBQUdiLEdBQUcsQ0FBQ2MsTUFBSixDQUFXSCxLQUFYLEVBQWtCSSxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsWUFBOUIsQ0FBakI7QUFDQWQsSUFBQUEsR0FBRyxDQUFDZSxJQUFKLEdBQVdMLFFBQVg7QUFFQVIsSUFBQUEsSUFBSTtBQUNQLEdBTkQsQ0FNRSxPQUFPYyxLQUFQLEVBQWM7QUFDWmYsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0QsTUFBQUEsTUFBTSxFQUFFLE1BQVQ7QUFBaUJFLE1BQUFBLE9BQU8sRUFBRTtBQUExQixLQUFyQjtBQUNIO0FBQ0o7O0FBRU0sU0FBU1UsS0FBVCxDQUFnQmpCLEdBQWhCLEVBQXFCQyxHQUFyQixFQUEwQkMsSUFBMUIsRUFBK0I7QUFDbEM7QUFDQTtBQUNBLFFBQU1DLFVBQVUsR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVksZUFBWixDQUFuQjtBQUNBLE1BQUcsQ0FBQ0QsVUFBSixFQUFnQixPQUFPRixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxJQUFBQSxPQUFPLEVBQUU7QUFBVixHQUFyQixDQUFQO0FBRWhCLFFBQU1DLEtBQUssR0FBR0wsVUFBVSxDQUFDTSxLQUFYLENBQWlCLEdBQWpCLEVBQXNCLENBQXRCLENBQWQ7O0FBRUEsTUFBSTtBQUNBO0FBQ0EsVUFBTUMsUUFBUSxHQUFHYixHQUFHLENBQUNjLE1BQUosQ0FBV0gsS0FBWCxFQUFrQkksT0FBTyxDQUFDQyxHQUFSLENBQVlLLFdBQTlCLENBQWpCO0FBQ0FsQixJQUFBQSxHQUFHLENBQUNlLElBQUosR0FBV0wsUUFBWDtBQUVBUixJQUFBQSxJQUFJO0FBQ1AsR0FORCxDQU1FLE9BQU9jLEtBQVAsRUFBYztBQUNaZixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDRCxNQUFBQSxNQUFNLEVBQUUsTUFBVDtBQUFpQkUsTUFBQUEsT0FBTyxFQUFFO0FBQTFCLEtBQXJCO0FBQ0g7QUFDSiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW5kZWxhcndhbmRhL0RvY3VtZW50cy9teWJyYW5kL3NyYy9yb3V0ZXMvYXBpLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqc29ud2VidG9rZW4gZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuXG5jb25zdCBqd3QgPSBqc29ud2VidG9rZW47XG5cbmV4cG9ydCBmdW5jdGlvbiBhdXRoIChyZXEsIHJlcywgbmV4dCl7XG4gICAgLy9hc3NpZ24gYSB0b2tlbiBmb3IgYSByZXF1ZXN0XG4gICAgLy8gY29uc3QgdG9rZW4gPSByZXEuaGVhZGVyKCdhdXRoLXRva2VuJyk7ICAgICAgXG4gICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzW1wiYXV0aG9yaXphdGlvblwiXVxuICAgIGlmKCFhdXRoSGVhZGVyKSByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6ICdBY2Nlc3MgRGVuaWVkISd9KSBcblxuICAgIGNvbnN0IHRva2VuID0gYXV0aEhlYWRlci5zcGxpdChcIiBcIilbMV07XG5cbiAgICB0cnkge1xuICAgICAgICAvL3ZlcmlmeWluZyBhIHJlcSBUb2tlbiBhYm92ZSB3aXRoIGFjdHVhbCBUb2tlbiB1IGhhdmUgaW4gLmVudiBmaWxlXG4gICAgICAgIGNvbnN0IHZlcmlmaWVkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuVE9LRU5fU0VDUkVUKTsgXG4gICAgICAgIHJlcS51c2VyID0gdmVyaWZpZWQ7XG5cbiAgICAgICAgbmV4dCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtzdGF0dXM6IFwiRmFpbFwiLCBtZXNzYWdlOiAnSW52YWxpZCBUb2tlbid9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZG1pbiAocmVxLCByZXMsIG5leHQpe1xuICAgIC8vYXNzaWduIGEgdG9rZW4gZm9yIGEgcmVxdWVzdFxuICAgIC8vIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcignYXV0aC10b2tlbicpOyAgICAgIFxuICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXEuaGVhZGVyc1tcImF1dGhvcml6YXRpb25cIl1cbiAgICBpZighYXV0aEhlYWRlcikgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHttZXNzYWdlOiAnQWNjZXNzIERlbmllZCEnfSkgXG5cbiAgICBjb25zdCB0b2tlbiA9IGF1dGhIZWFkZXIuc3BsaXQoXCIgXCIpWzFdO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgLy92ZXJpZnlpbmcgYSByZXEgVG9rZW4gYWJvdmUgd2l0aCBhY3R1YWwgVG9rZW4gdSBoYXZlIGluIC5lbnYgZmlsZVxuICAgICAgICBjb25zdCB2ZXJpZmllZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkFETUlOX1RPS0VOKTsgXG4gICAgICAgIHJlcS51c2VyID0gdmVyaWZpZWQ7XG5cbiAgICAgICAgbmV4dCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtzdGF0dXM6IFwiRmFpbFwiLCBtZXNzYWdlOiAnSW52YWxpZCBUb2tlbid9KTtcbiAgICB9XG59Il19","map":{"version":3,"sources":["verifyToken.js"],"names":["jwt","jsonwebtoken","auth","req","res","next","authHeader","headers","status","json","message","token","split","verified","verify","process","env","TOKEN_SECRET","user","error","admin","ADMIN_TOKEN"],"mappings":";;;;;;;;AAAA;;;;AAEA,MAAMA,GAAG,GAAGC,qBAAZ;;AAEO,SAASC,IAAT,CAAeC,GAAf,EAAoBC,GAApB,EAAyBC,IAAzB,EAA8B;AACjC;AACA;AACA,QAAMC,UAAU,GAAGH,GAAG,CAACI,OAAJ,CAAY,eAAZ,CAAnB;AACA,MAAG,CAACD,UAAJ,EAAgB,OAAOF,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,IAAAA,OAAO,EAAE;AAAV,GAArB,CAAP;AAEhB,QAAMC,KAAK,GAAGL,UAAU,CAACM,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAAd;;AAEA,MAAI;AACA;AACA,UAAMC,QAAQ,GAAGb,GAAG,CAACc,MAAJ,CAAWH,KAAX,EAAkBI,OAAO,CAACC,GAAR,CAAYC,YAA9B,CAAjB;AACAd,IAAAA,GAAG,CAACe,IAAJ,GAAWL,QAAX;AAEAR,IAAAA,IAAI;AACP,GAND,CAME,OAAOc,KAAP,EAAc;AACZf,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACD,MAAAA,MAAM,EAAE,MAAT;AAAiBE,MAAAA,OAAO,EAAE;AAA1B,KAArB;AACH;AACJ;;AAEM,SAASU,KAAT,CAAgBjB,GAAhB,EAAqBC,GAArB,EAA0BC,IAA1B,EAA+B;AAClC;AACA;AACA,QAAMC,UAAU,GAAGH,GAAG,CAACI,OAAJ,CAAY,eAAZ,CAAnB;AACA,MAAG,CAACD,UAAJ,EAAgB,OAAOF,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,IAAAA,OAAO,EAAE;AAAV,GAArB,CAAP;AAEhB,QAAMC,KAAK,GAAGL,UAAU,CAACM,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAAd;;AAEA,MAAI;AACA;AACA,UAAMC,QAAQ,GAAGb,GAAG,CAACc,MAAJ,CAAWH,KAAX,EAAkBI,OAAO,CAACC,GAAR,CAAYK,WAA9B,CAAjB;AACAlB,IAAAA,GAAG,CAACe,IAAJ,GAAWL,QAAX;AAEAR,IAAAA,IAAI;AACP,GAND,CAME,OAAOc,KAAP,EAAc;AACZf,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACD,MAAAA,MAAM,EAAE,MAAT;AAAiBE,MAAAA,OAAO,EAAE;AAA1B,KAArB;AACH;AACJ","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/routes/api/","sourcesContent":["import jsonwebtoken from \"jsonwebtoken\";\n\nconst jwt = jsonwebtoken;\n\nexport function auth (req, res, next){\n    //assign a token for a request\n    // const token = req.header('auth-token');      \n    const authHeader = req.headers[\"authorization\"]\n    if(!authHeader) return res.status(401).json({message: 'Access Denied!'}) \n\n    const token = authHeader.split(\" \")[1];\n\n    try {\n        //verifying a req Token above with actual Token u have in .env file\n        const verified = jwt.verify(token, process.env.TOKEN_SECRET); \n        req.user = verified;\n\n        next();\n    } catch (error) {\n        res.status(400).json({status: \"Fail\", message: 'Invalid Token'});\n    }\n}\n\nexport function admin (req, res, next){\n    //assign a token for a request\n    // const token = req.header('auth-token');      \n    const authHeader = req.headers[\"authorization\"]\n    if(!authHeader) return res.status(401).json({message: 'Access Denied!'}) \n\n    const token = authHeader.split(\" \")[1];\n\n    try {\n        //verifying a req Token above with actual Token u have in .env file\n        const verified = jwt.verify(token, process.env.ADMIN_TOKEN); \n        req.user = verified;\n\n        next();\n    } catch (error) {\n        res.status(400).json({status: \"Fail\", message: 'Invalid Token'});\n    }\n}"]}},"mtime":1648460512174},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/routes/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/routes/api/blogRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"prod\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:prod":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.router = void 0;\n\nvar _express = require(\"express\");\n\nvar _BlogController = require(\"../../controller/BlogController\");\n\nvar _verifyToken = require(\"./verifyToken.js\");\n\nconst router = (0, _express.Router)();\n/**\n * @openapi\n * tags:\n *  name: Blog\n */\n\n/**\n * @swagger\n * components:\n *  schemas:\n *    Blog:\n *      type: object\n *      required:\n *        - title\n *        - author\n *        - body\n *      properties:\n *        title:\n *          type: string\n *          description: Every post must have title \n *        author:\n *          type: string\n *          description: This should be the author of post.\n *        body:\n *          type: string\n *          description: This holds the content of the post.\n *      example:\n *        title: My post\n *        author: I am muheto hodal\n *        body: This is content of my post\n */\n\n/**\n * @swagger\n * /api/v1/blogs:\n *  get:\n *    summary: This route returns a list of all blogs\n *    responses:\n *      200:\n *        description: Success\n *      500:\n *        description: Internal Server Error \n *        content:\n *          application/json:\n *            schema:\n *              type: array\n *              items:\n *                $ref: '#/components/schemas/Blog'\n */\n\nexports.router = router;\nrouter.get(\"/\", _BlogController.blog_index);\n/**\n * @swagger\n * /api/v1/blogs:\n *  post:\n *    security:\n *      - Token: []\n *    summary: This route allow a user to create a new blog post\n *    description: A user must have a Token to create a post\n *    tags:\n *      - Blog\n *    requestBody:\n *      required: true\n *      content:\n *        application/json:\n *          schema:\n *            $ref: '#/components/schemas/Blog'\n *    responses:\n *      200:\n *        description: Successfully Added\n *        content:\n *          application/json:\n *            schema:\n *              $ref: '#/components/schemas/Blog'\n *      400:\n *        description: Invalid user input!\n *      500:\n *        description: Internal server error!\n *      401:\n *        description: Access denied!   \n */\n// router.get(\"/add-blog\", blog_create_get);\n\nrouter.post(\"/\", _verifyToken.auth, _BlogController.blog_create_post);\n/**\n * @swagger\n * /api/v1/blogs/{id}:\n *  get:\n *    summary: This route returns the details of a specfic post\n *    description: The response should be formated in Json object\n *    tags:\n *      - Blog\n *    parameters:\n *      - in: id\n *        name: id\n *        required: true\n *        description: This should be a valid post Id\n *    responses:\n *      200:\n *        description: a post Found\n *        content:\n *          application/json:\n *            schema:\n *              $ref: '#/components/schemas/Blog'\n *      500:\n *        description: Internal Server Error\n *      404:\n *        description: Not found!\n */\n\nrouter.get(\"/:id\", _BlogController.blog_details);\n/**\n * @swagger\n *  /api/v1/blogs/{id}:\n *    put:\n *      security:\n *        - Token: []\n *      summary: This route update an existing blog post\n *      description: a Token is required to update a post\n *      tags:\n *        - Blog\n *      parameters:\n *        - in: path\n *          name: id\n *          required: true\n *          description: you have to provide a valid post Id\n *          schema:\n *            $ref: '#/components/schemas/Blog'\n *      responses:\n *        200:\n *          description: Successfully updated.\n *          content:\n *            application/json:\n *              schema:\n *                $ref: '#/components/schemas/Blog'\n *        404:\n *          description: invalid request!\n *        500:\n *          description: Internal server error\n *        401:\n *          description: Access denied!\n */\n//!! Update\n\nrouter.put(\"/:id\", _verifyToken.auth, _BlogController.blogUpdate); //!! Handling DELETE request\n\n/**\n * @swagger\n * /api/v1/blogs/{id}:\n *    delete:\n *      security:\n *        - Token: []\n *      summary: This route Allow user to delete an existing post\n *      description: a Token is required to Delete a post\n *      tags:\n *        - Blog\n *      parameters:\n *        - in: path\n *          name: id\n *          required: true\n *          description: you have to provide a valid post Id\n *          schema:\n *            $ref: '#/components/schemas/Blog'\n *      responses:\n *        200:\n *          description: Delete a post\n *        204:\n *          description: Post not found!\n *        401:\n *          description: Access denied!\n */\n//!! Handling DELETE request\n\nrouter.delete(\"/:id\", _verifyToken.admin, _BlogController.blog_delete);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2dSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZ2V0IiwiYmxvZ19pbmRleCIsInBvc3QiLCJ2ZXJpZnkiLCJibG9nX2NyZWF0ZV9wb3N0IiwiYmxvZ19kZXRhaWxzIiwicHV0IiwiYmxvZ1VwZGF0ZSIsImRlbGV0ZSIsInZlcmlmeUFkbWluIiwiYmxvZ19kZWxldGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7QUFPQTs7QUFHQSxNQUFNQSxNQUFNLEdBQUcsc0JBQWY7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBQSxNQUFNLENBQUNDLEdBQVAsQ0FBVyxHQUFYLEVBQWdCQywwQkFBaEI7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFJQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksR0FBWixFQUFpQkMsaUJBQWpCLEVBQXlCQyxnQ0FBekI7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQUwsTUFBTSxDQUFDQyxHQUFQLENBQVcsTUFBWCxFQUFtQkssNEJBQW5CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQU4sTUFBTSxDQUFDTyxHQUFQLENBQVcsTUFBWCxFQUFtQkgsaUJBQW5CLEVBQTJCSSwwQkFBM0IsRSxDQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0FSLE1BQU0sQ0FBQ1MsTUFBUCxDQUFjLE1BQWQsRUFBc0JDLGtCQUF0QixFQUFtQ0MsMkJBQW5DIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbmRlbGFyd2FuZGEvRG9jdW1lbnRzL215YnJhbmQvc3JjL3JvdXRlcy9hcGkvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSBcImV4cHJlc3NcIjtcblxuaW1wb3J0IHtcbiAgYmxvZ19pbmRleCxcbiAgYmxvZ19jcmVhdGVfcG9zdCxcbiAgYmxvZ19kZXRhaWxzLFxuICBibG9nX2RlbGV0ZSxcbiAgYmxvZ1VwZGF0ZSxcbn0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXIvQmxvZ0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IGF1dGggYXMgdmVyaWZ5IH0gZnJvbSBcIi4vdmVyaWZ5VG9rZW4uanNcIjtcbmltcG9ydCB7IGFkbWluIGFzIHZlcmlmeUFkbWluIH0gZnJvbSBcIi4vdmVyaWZ5VG9rZW4uanNcIjtcblxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XG5cbi8qKlxuICogQG9wZW5hcGlcbiAqIHRhZ3M6XG4gKiAgbmFtZTogQmxvZ1xuICovXG5cbi8qKlxuICogQHN3YWdnZXJcbiAqIGNvbXBvbmVudHM6XG4gKiAgc2NoZW1hczpcbiAqICAgIEJsb2c6XG4gKiAgICAgIHR5cGU6IG9iamVjdFxuICogICAgICByZXF1aXJlZDpcbiAqICAgICAgICAtIHRpdGxlXG4gKiAgICAgICAgLSBhdXRob3JcbiAqICAgICAgICAtIGJvZHlcbiAqICAgICAgcHJvcGVydGllczpcbiAqICAgICAgICB0aXRsZTpcbiAqICAgICAgICAgIHR5cGU6IHN0cmluZ1xuICogICAgICAgICAgZGVzY3JpcHRpb246IEV2ZXJ5IHBvc3QgbXVzdCBoYXZlIHRpdGxlIFxuICogICAgICAgIGF1dGhvcjpcbiAqICAgICAgICAgIHR5cGU6IHN0cmluZ1xuICogICAgICAgICAgZGVzY3JpcHRpb246IFRoaXMgc2hvdWxkIGJlIHRoZSBhdXRob3Igb2YgcG9zdC5cbiAqICAgICAgICBib2R5OlxuICogICAgICAgICAgdHlwZTogc3RyaW5nXG4gKiAgICAgICAgICBkZXNjcmlwdGlvbjogVGhpcyBob2xkcyB0aGUgY29udGVudCBvZiB0aGUgcG9zdC5cbiAqICAgICAgZXhhbXBsZTpcbiAqICAgICAgICB0aXRsZTogTXkgcG9zdFxuICogICAgICAgIGF1dGhvcjogSSBhbSBtdWhldG8gaG9kYWxcbiAqICAgICAgICBib2R5OiBUaGlzIGlzIGNvbnRlbnQgb2YgbXkgcG9zdFxuICovXG5cblxuLyoqXG4gKiBAc3dhZ2dlclxuICogL2FwaS92MS9ibG9nczpcbiAqICBnZXQ6XG4gKiAgICBzdW1tYXJ5OiBUaGlzIHJvdXRlIHJldHVybnMgYSBsaXN0IG9mIGFsbCBibG9nc1xuICogICAgcmVzcG9uc2VzOlxuICogICAgICAyMDA6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IFN1Y2Nlc3NcbiAqICAgICAgNTAwOlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IgXG4gKiAgICAgICAgY29udGVudDpcbiAqICAgICAgICAgIGFwcGxpY2F0aW9uL2pzb246XG4gKiAgICAgICAgICAgIHNjaGVtYTpcbiAqICAgICAgICAgICAgICB0eXBlOiBhcnJheVxuICogICAgICAgICAgICAgIGl0ZW1zOlxuICogICAgICAgICAgICAgICAgJHJlZjogJyMvY29tcG9uZW50cy9zY2hlbWFzL0Jsb2cnXG4gKi9cbnJvdXRlci5nZXQoXCIvXCIsIGJsb2dfaW5kZXgpO1xuXG4vKipcbiAqIEBzd2FnZ2VyXG4gKiAvYXBpL3YxL2Jsb2dzOlxuICogIHBvc3Q6XG4gKiAgICBzZWN1cml0eTpcbiAqICAgICAgLSBUb2tlbjogW11cbiAqICAgIHN1bW1hcnk6IFRoaXMgcm91dGUgYWxsb3cgYSB1c2VyIHRvIGNyZWF0ZSBhIG5ldyBibG9nIHBvc3RcbiAqICAgIGRlc2NyaXB0aW9uOiBBIHVzZXIgbXVzdCBoYXZlIGEgVG9rZW4gdG8gY3JlYXRlIGEgcG9zdFxuICogICAgdGFnczpcbiAqICAgICAgLSBCbG9nXG4gKiAgICByZXF1ZXN0Qm9keTpcbiAqICAgICAgcmVxdWlyZWQ6IHRydWVcbiAqICAgICAgY29udGVudDpcbiAqICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICogICAgICAgICAgc2NoZW1hOlxuICogICAgICAgICAgICAkcmVmOiAnIy9jb21wb25lbnRzL3NjaGVtYXMvQmxvZydcbiAqICAgIHJlc3BvbnNlczpcbiAqICAgICAgMjAwOlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBTdWNjZXNzZnVsbHkgQWRkZWRcbiAqICAgICAgICBjb250ZW50OlxuICogICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcbiAqICAgICAgICAgICAgc2NoZW1hOlxuICogICAgICAgICAgICAgICRyZWY6ICcjL2NvbXBvbmVudHMvc2NoZW1hcy9CbG9nJ1xuICogICAgICA0MDA6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IEludmFsaWQgdXNlciBpbnB1dCFcbiAqICAgICAgNTAwOlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBJbnRlcm5hbCBzZXJ2ZXIgZXJyb3IhXG4gKiAgICAgIDQwMTpcbiAqICAgICAgICBkZXNjcmlwdGlvbjogQWNjZXNzIGRlbmllZCEgICBcbiAqL1xuXG4vLyByb3V0ZXIuZ2V0KFwiL2FkZC1ibG9nXCIsIGJsb2dfY3JlYXRlX2dldCk7XG5cblxuXG5yb3V0ZXIucG9zdChcIi9cIiwgdmVyaWZ5LCBibG9nX2NyZWF0ZV9wb3N0KTtcblxuLyoqXG4gKiBAc3dhZ2dlclxuICogL2FwaS92MS9ibG9ncy97aWR9OlxuICogIGdldDpcbiAqICAgIHN1bW1hcnk6IFRoaXMgcm91dGUgcmV0dXJucyB0aGUgZGV0YWlscyBvZiBhIHNwZWNmaWMgcG9zdFxuICogICAgZGVzY3JpcHRpb246IFRoZSByZXNwb25zZSBzaG91bGQgYmUgZm9ybWF0ZWQgaW4gSnNvbiBvYmplY3RcbiAqICAgIHRhZ3M6XG4gKiAgICAgIC0gQmxvZ1xuICogICAgcGFyYW1ldGVyczpcbiAqICAgICAgLSBpbjogaWRcbiAqICAgICAgICBuYW1lOiBpZFxuICogICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFRoaXMgc2hvdWxkIGJlIGEgdmFsaWQgcG9zdCBJZFxuICogICAgcmVzcG9uc2VzOlxuICogICAgICAyMDA6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IGEgcG9zdCBGb3VuZFxuICogICAgICAgIGNvbnRlbnQ6XG4gKiAgICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICogICAgICAgICAgICBzY2hlbWE6XG4gKiAgICAgICAgICAgICAgJHJlZjogJyMvY29tcG9uZW50cy9zY2hlbWFzL0Jsb2cnXG4gKiAgICAgIDUwMDpcbiAqICAgICAgICBkZXNjcmlwdGlvbjogSW50ZXJuYWwgU2VydmVyIEVycm9yXG4gKiAgICAgIDQwNDpcbiAqICAgICAgICBkZXNjcmlwdGlvbjogTm90IGZvdW5kIVxuICovXG5cbnJvdXRlci5nZXQoXCIvOmlkXCIsIGJsb2dfZGV0YWlscyk7XG4vKipcbiAqIEBzd2FnZ2VyXG4gKiAgL2FwaS92MS9ibG9ncy97aWR9OlxuICogICAgcHV0OlxuICogICAgICBzZWN1cml0eTpcbiAqICAgICAgICAtIFRva2VuOiBbXVxuICogICAgICBzdW1tYXJ5OiBUaGlzIHJvdXRlIHVwZGF0ZSBhbiBleGlzdGluZyBibG9nIHBvc3RcbiAqICAgICAgZGVzY3JpcHRpb246IGEgVG9rZW4gaXMgcmVxdWlyZWQgdG8gdXBkYXRlIGEgcG9zdFxuICogICAgICB0YWdzOlxuICogICAgICAgIC0gQmxvZ1xuICogICAgICBwYXJhbWV0ZXJzOlxuICogICAgICAgIC0gaW46IHBhdGhcbiAqICAgICAgICAgIG5hbWU6IGlkXG4gKiAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICogICAgICAgICAgZGVzY3JpcHRpb246IHlvdSBoYXZlIHRvIHByb3ZpZGUgYSB2YWxpZCBwb3N0IElkXG4gKiAgICAgICAgICBzY2hlbWE6XG4gKiAgICAgICAgICAgICRyZWY6ICcjL2NvbXBvbmVudHMvc2NoZW1hcy9CbG9nJ1xuICogICAgICByZXNwb25zZXM6XG4gKiAgICAgICAgMjAwOlxuICogICAgICAgICAgZGVzY3JpcHRpb246IFN1Y2Nlc3NmdWxseSB1cGRhdGVkLlxuICogICAgICAgICAgY29udGVudDpcbiAqICAgICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcbiAqICAgICAgICAgICAgICBzY2hlbWE6XG4gKiAgICAgICAgICAgICAgICAkcmVmOiAnIy9jb21wb25lbnRzL3NjaGVtYXMvQmxvZydcbiAqICAgICAgICA0MDQ6XG4gKiAgICAgICAgICBkZXNjcmlwdGlvbjogaW52YWxpZCByZXF1ZXN0IVxuICogICAgICAgIDUwMDpcbiAqICAgICAgICAgIGRlc2NyaXB0aW9uOiBJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcbiAqICAgICAgICA0MDE6XG4gKiAgICAgICAgICBkZXNjcmlwdGlvbjogQWNjZXNzIGRlbmllZCFcbiAqL1xuLy8hISBVcGRhdGVcbnJvdXRlci5wdXQoXCIvOmlkXCIsIHZlcmlmeSwgYmxvZ1VwZGF0ZSk7XG4vLyEhIEhhbmRsaW5nIERFTEVURSByZXF1ZXN0XG4vKipcbiAqIEBzd2FnZ2VyXG4gKiAvYXBpL3YxL2Jsb2dzL3tpZH06XG4gKiAgICBkZWxldGU6XG4gKiAgICAgIHNlY3VyaXR5OlxuICogICAgICAgIC0gVG9rZW46IFtdXG4gKiAgICAgIHN1bW1hcnk6IFRoaXMgcm91dGUgQWxsb3cgdXNlciB0byBkZWxldGUgYW4gZXhpc3RpbmcgcG9zdFxuICogICAgICBkZXNjcmlwdGlvbjogYSBUb2tlbiBpcyByZXF1aXJlZCB0byBEZWxldGUgYSBwb3N0XG4gKiAgICAgIHRhZ3M6XG4gKiAgICAgICAgLSBCbG9nXG4gKiAgICAgIHBhcmFtZXRlcnM6XG4gKiAgICAgICAgLSBpbjogcGF0aFxuICogICAgICAgICAgbmFtZTogaWRcbiAqICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gKiAgICAgICAgICBkZXNjcmlwdGlvbjogeW91IGhhdmUgdG8gcHJvdmlkZSBhIHZhbGlkIHBvc3QgSWRcbiAqICAgICAgICAgIHNjaGVtYTpcbiAqICAgICAgICAgICAgJHJlZjogJyMvY29tcG9uZW50cy9zY2hlbWFzL0Jsb2cnXG4gKiAgICAgIHJlc3BvbnNlczpcbiAqICAgICAgICAyMDA6XG4gKiAgICAgICAgICBkZXNjcmlwdGlvbjogRGVsZXRlIGEgcG9zdFxuICogICAgICAgIDIwNDpcbiAqICAgICAgICAgIGRlc2NyaXB0aW9uOiBQb3N0IG5vdCBmb3VuZCFcbiAqICAgICAgICA0MDE6XG4gKiAgICAgICAgICBkZXNjcmlwdGlvbjogQWNjZXNzIGRlbmllZCFcbiAqL1xuXG4vLyEhIEhhbmRsaW5nIERFTEVURSByZXF1ZXN0XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCB2ZXJpZnlBZG1pbiwgYmxvZ19kZWxldGUpO1xuXG5leHBvcnQgeyByb3V0ZXIgfTtcbiJdfQ==","map":{"version":3,"sources":["blogRoutes.js"],"names":["router","get","blog_index","post","verify","blog_create_post","blog_details","put","blogUpdate","delete","verifyAdmin","blog_delete"],"mappings":";;;;;;;AAAA;;AAEA;;AAOA;;AAGA,MAAMA,MAAM,GAAG,sBAAf;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAA,MAAM,CAACC,GAAP,CAAW,GAAX,EAAgBC,0BAAhB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAIAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiBC,iBAAjB,EAAyBC,gCAAzB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAL,MAAM,CAACC,GAAP,CAAW,MAAX,EAAmBK,4BAAnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAN,MAAM,CAACO,GAAP,CAAW,MAAX,EAAmBH,iBAAnB,EAA2BI,0BAA3B,E,CACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACAR,MAAM,CAACS,MAAP,CAAc,MAAd,EAAsBC,kBAAtB,EAAmCC,2BAAnC","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/routes/api/","sourcesContent":["import { Router } from \"express\";\n\nimport {\n  blog_index,\n  blog_create_post,\n  blog_details,\n  blog_delete,\n  blogUpdate,\n} from \"../../controller/BlogController\";\nimport { auth as verify } from \"./verifyToken.js\";\nimport { admin as verifyAdmin } from \"./verifyToken.js\";\n\nconst router = Router();\n\n/**\n * @openapi\n * tags:\n *  name: Blog\n */\n\n/**\n * @swagger\n * components:\n *  schemas:\n *    Blog:\n *      type: object\n *      required:\n *        - title\n *        - author\n *        - body\n *      properties:\n *        title:\n *          type: string\n *          description: Every post must have title \n *        author:\n *          type: string\n *          description: This should be the author of post.\n *        body:\n *          type: string\n *          description: This holds the content of the post.\n *      example:\n *        title: My post\n *        author: I am muheto hodal\n *        body: This is content of my post\n */\n\n\n/**\n * @swagger\n * /api/v1/blogs:\n *  get:\n *    summary: This route returns a list of all blogs\n *    responses:\n *      200:\n *        description: Success\n *      500:\n *        description: Internal Server Error \n *        content:\n *          application/json:\n *            schema:\n *              type: array\n *              items:\n *                $ref: '#/components/schemas/Blog'\n */\nrouter.get(\"/\", blog_index);\n\n/**\n * @swagger\n * /api/v1/blogs:\n *  post:\n *    security:\n *      - Token: []\n *    summary: This route allow a user to create a new blog post\n *    description: A user must have a Token to create a post\n *    tags:\n *      - Blog\n *    requestBody:\n *      required: true\n *      content:\n *        application/json:\n *          schema:\n *            $ref: '#/components/schemas/Blog'\n *    responses:\n *      200:\n *        description: Successfully Added\n *        content:\n *          application/json:\n *            schema:\n *              $ref: '#/components/schemas/Blog'\n *      400:\n *        description: Invalid user input!\n *      500:\n *        description: Internal server error!\n *      401:\n *        description: Access denied!   \n */\n\n// router.get(\"/add-blog\", blog_create_get);\n\n\n\nrouter.post(\"/\", verify, blog_create_post);\n\n/**\n * @swagger\n * /api/v1/blogs/{id}:\n *  get:\n *    summary: This route returns the details of a specfic post\n *    description: The response should be formated in Json object\n *    tags:\n *      - Blog\n *    parameters:\n *      - in: id\n *        name: id\n *        required: true\n *        description: This should be a valid post Id\n *    responses:\n *      200:\n *        description: a post Found\n *        content:\n *          application/json:\n *            schema:\n *              $ref: '#/components/schemas/Blog'\n *      500:\n *        description: Internal Server Error\n *      404:\n *        description: Not found!\n */\n\nrouter.get(\"/:id\", blog_details);\n/**\n * @swagger\n *  /api/v1/blogs/{id}:\n *    put:\n *      security:\n *        - Token: []\n *      summary: This route update an existing blog post\n *      description: a Token is required to update a post\n *      tags:\n *        - Blog\n *      parameters:\n *        - in: path\n *          name: id\n *          required: true\n *          description: you have to provide a valid post Id\n *          schema:\n *            $ref: '#/components/schemas/Blog'\n *      responses:\n *        200:\n *          description: Successfully updated.\n *          content:\n *            application/json:\n *              schema:\n *                $ref: '#/components/schemas/Blog'\n *        404:\n *          description: invalid request!\n *        500:\n *          description: Internal server error\n *        401:\n *          description: Access denied!\n */\n//!! Update\nrouter.put(\"/:id\", verify, blogUpdate);\n//!! Handling DELETE request\n/**\n * @swagger\n * /api/v1/blogs/{id}:\n *    delete:\n *      security:\n *        - Token: []\n *      summary: This route Allow user to delete an existing post\n *      description: a Token is required to Delete a post\n *      tags:\n *        - Blog\n *      parameters:\n *        - in: path\n *          name: id\n *          required: true\n *          description: you have to provide a valid post Id\n *          schema:\n *            $ref: '#/components/schemas/Blog'\n *      responses:\n *        200:\n *          description: Delete a post\n *        204:\n *          description: Post not found!\n *        401:\n *          description: Access denied!\n */\n\n//!! Handling DELETE request\nrouter.delete(\"/:id\", verifyAdmin, blog_delete);\n\nexport { router };\n"]}},"mtime":1648467688390},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/controller/BlogController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"prod\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:prod":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.blog_index = exports.blog_details = exports.blog_delete = exports.blog_create_post = exports.blogUpdate = void 0;\n\nvar _blogRoutes = _interopRequireDefault(require(\"../routes/api/blogRoutes\"));\n\nvar _validation = require(\"../validation/validation\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//import {admin as verifyAdmin} from ''\n//blog_index, blog_details, blog_create_get, blog_create_post, blog_delete, blogUpdate, \n//DISPLAYING ALL BLOGS\nconst blog_index = async (req, res) => {\n  _blogRoutes.default.find().sort({\n    createdAt: -1\n  }).then(result => {\n    return res.status(200).json({\n      status: 200,\n      title: \"All Blogs\",\n      blogs: result\n    });\n  }).catch(err => {\n    console.log(err);\n    res.status(500);\n  });\n}; //DISPLAYING ONE POST\n\n\nexports.blog_index = blog_index;\n\nconst blog_details = async (req, res) => {\n  const id = req.params.id;\n\n  try {\n    const result = await _blogRoutes.default.findById(id);\n    if (!result) return res.status(404).json({\n      status: 404,\n      message: \"post not found\"\n    });\n    return res.json({\n      title: \"Blog Details\",\n      blog: result\n    });\n  } catch (error) {\n    // console.log(error)\n    return res.status(500).json({\n      status: 500,\n      message: \"Internal server error\"\n    });\n  }\n}; //CREATING A POST\n\n\nexports.blog_details = blog_details;\n\nconst blog_create_post = async (req, res) => {\n  //check an empty submission or invalid\n  const {\n    error\n  } = (0, _validation.blogValidation)(req.body);\n  if (error) return res.status(400).json({\n    status: 400,\n    message: error.details[0].message\n  }); //save  post\n\n  try {\n    const blog = await _blogRoutes.default.create(req.body);\n    return res.status(201).json(blog);\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      status: 500,\n      message: \"Internal server error\"\n    });\n  }\n}; //UPDATE POST\n\n\nexports.blog_create_post = blog_create_post;\n\nconst blogUpdate = async (req, res) => {\n  const id = await req.params.id;\n  console.log(id.length);\n  if (id.length != 24) return res.status(400).json({\n    status: 400,\n    message: \"Invalid id detected\"\n  });\n\n  try {\n    const result = await _blogRoutes.default.findById(id);\n    if (!result) return res.status(404).json({\n      status: 404,\n      message: \"Post not found\"\n    }); //   let title = req.body.title;\n\n    const updatedBlog = await _blogRoutes.default.findByIdAndUpdate(id, req.body, {\n      new: true\n    });\n    return res.json(updatedBlog);\n  } catch (error) {\n    return res.status(500).json({\n      status: 500,\n      message: \"Internal server error\"\n    });\n  }\n}; //DELETE POST\n\n\nexports.blogUpdate = blogUpdate;\n\nconst blog_delete = async (req, res) => {\n  const id = req.params.id;\n  const result = await _blogRoutes.default.findById(id);\n  if (!result) return res.status(404).json({\n    status: 404,\n    message: `post Not found!`\n  });\n  const postDelete = await result.delete();\n  console.log(postDelete);\n  if (postDelete) return res.status(200).json({\n    status: 200,\n    message: \"post deleted\"\n  });\n  return res.status(500).json({\n    status: 500,\n    message: \"Internal server error!\"\n  });\n};\n\nexports.blog_delete = blog_delete;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJsb2dDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImJsb2dfaW5kZXgiLCJyZXEiLCJyZXMiLCJCbG9nIiwiZmluZCIsInNvcnQiLCJjcmVhdGVkQXQiLCJ0aGVuIiwicmVzdWx0Iiwic3RhdHVzIiwianNvbiIsInRpdGxlIiwiYmxvZ3MiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJibG9nX2RldGFpbHMiLCJpZCIsInBhcmFtcyIsImZpbmRCeUlkIiwibWVzc2FnZSIsImJsb2ciLCJlcnJvciIsImJsb2dfY3JlYXRlX3Bvc3QiLCJib2R5IiwiZGV0YWlscyIsImNyZWF0ZSIsImJsb2dVcGRhdGUiLCJsZW5ndGgiLCJ1cGRhdGVkQmxvZyIsImZpbmRCeUlkQW5kVXBkYXRlIiwibmV3IiwiYmxvZ19kZWxldGUiLCJwb3N0RGVsZXRlIiwiZGVsZXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFDQTtBQUVBO0FBRUE7QUFDTyxNQUFNQSxVQUFVLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQzVDQyxzQkFBS0MsSUFBTCxHQUNHQyxJQURILENBQ1E7QUFBRUMsSUFBQUEsU0FBUyxFQUFFLENBQUM7QUFBZCxHQURSLEVBRUdDLElBRkgsQ0FFU0MsTUFBRCxJQUFZO0FBQ2hCLFdBQU9OLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNELE1BQUFBLE1BQU0sRUFBRSxHQUFUO0FBQWNFLE1BQUFBLEtBQUssRUFBRSxXQUFyQjtBQUFrQ0MsTUFBQUEsS0FBSyxFQUFFSjtBQUF6QyxLQUFyQixDQUFQO0FBQ0QsR0FKSCxFQUtHSyxLQUxILENBS1VDLEdBQUQsSUFBUztBQUNkQyxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsR0FBWjtBQUNBWixJQUFBQSxHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYO0FBQ0QsR0FSSDtBQVNELENBVk0sQyxDQVlQOzs7OztBQUNPLE1B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QVA7QUFFaEIsU0FBT25CLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNELElBQUFBLE1BQU0sRUFBRSxHQUFUO0FBQWNZLElBQUFBLE9BQU8sRUFBRTtBQUF2QixHQUFyQixDQUFQO0FBQ0QsQ0FaTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW5kZWxhcndhbmRhL0RvY3VtZW50cy9teWJyYW5kL3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCbG9nIGZyb20gXCIuLi9yb3V0ZXMvYXBpL2Jsb2dSb3V0ZXNcIjtcbmltcG9ydCB7IGJsb2dWYWxpZGF0aW9uIH0gZnJvbSBcIi4uL3ZhbGlkYXRpb24vdmFsaWRhdGlvblwiO1xuLy9pbXBvcnQge2FkbWluIGFzIHZlcmlmeUFkbWlufSBmcm9tICcnXG5cbi8vYmxvZ19pbmRleCwgYmxvZ19kZXRhaWxzLCBibG9nX2NyZWF0ZV9nZXQsIGJsb2dfY3JlYXRlX3Bvc3QsIGJsb2dfZGVsZXRlLCBibG9nVXBkYXRlLCBcblxuLy9ESVNQTEFZSU5HIEFMTCBCTE9HU1xuZXhwb3J0IGNvbnN0IGJsb2dfaW5kZXggPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgQmxvZy5maW5kKClcbiAgICAuc29ydCh7IGNyZWF0ZWRBdDogLTEgfSlcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe3N0YXR1czogMjAwLCB0aXRsZTogXCJBbGwgQmxvZ3NcIiwgYmxvZ3M6IHJlc3VsdCB9KTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApO1xuICAgIH0pO1xufTtcblxuLy9ESVNQTEFZSU5HIE9ORSBQT1NUXG5leHBvcnQgY29uc3QgYmxvZ19kZXRhaWxzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZDtcblxuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEJsb2cuZmluZEJ5SWQoaWQpO1xuICAgIGlmICghcmVzdWx0KSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe3N0YXR1czogNDA0LCBtZXNzYWdlOiBcInBvc3Qgbm90IGZvdW5kXCIgfSk7XG4gIFxuICAgIHJldHVybiByZXMuanNvbih7IHRpdGxlOiBcIkJsb2cgRGV0YWlsc1wiLCBibG9nOiByZXN1bHQgfSk7XG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gY29uc29sZS5sb2coZXJyb3IpXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtzdGF0dXM6IDUwMCwgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9KTtcbiAgfVxufTtcblxuLy9DUkVBVElORyBBIFBPU1RcbmV4cG9ydCBjb25zdCBibG9nX2NyZWF0ZV9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIC8vY2hlY2sgYW4gZW1wdHkgc3VibWlzc2lvbiBvciBpbnZhbGlkXG4gIGNvbnN0IHsgZXJyb3IgfSA9IGJsb2dWYWxpZGF0aW9uKHJlcS5ib2R5KTtcbiAgaWYgKGVycm9yKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe3N0YXR1czogNDAwLCBtZXNzYWdlOiBlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UgfSk7XG5cbiAgLy9zYXZlICBwb3N0XG4gIHRyeSB7XG4gICAgY29uc3QgYmxvZyA9IGF3YWl0IEJsb2cuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oYmxvZyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtzdGF0dXM6IDUwMCwgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9KTtcbiAgfVxufTtcblxuLy9VUERBVEUgUE9TVFxuZXhwb3J0IGNvbnN0IGJsb2dVcGRhdGUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgaWQgPSBhd2FpdCByZXEucGFyYW1zLmlkO1xuICBjb25zb2xlLmxvZyhpZC5sZW5ndGgpXG5cbiAgaWYoaWQubGVuZ3RoICE9IDI0KSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe3N0YXR1czogNDAwLCBtZXNzYWdlOiBcIkludmFsaWQgaWQgZGV0ZWN0ZWRcIn0pXG5cbiAgdHJ5IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQmxvZy5maW5kQnlJZChpZCk7XG4gIGlmICghcmVzdWx0KSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe3N0YXR1czogNDA0LCBtZXNzYWdlOiBcIlBvc3Qgbm90IGZvdW5kXCIgfSk7XG5cbiAgLy8gICBsZXQgdGl0bGUgPSByZXEuYm9keS50aXRsZTtcbiAgICBjb25zdCB1cGRhdGVkQmxvZyA9IGF3YWl0IEJsb2cuZmluZEJ5SWRBbmRVcGRhdGUoaWQsIHJlcS5ib2R5LCB7XG4gICAgICBuZXc6IHRydWUsXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcy5qc29uKHVwZGF0ZWRCbG9nKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe3N0YXR1czogNTAwLCBtZXNzYWdlOiBcIkludGVybmFsIHNlcnZlciBlcnJvclwiIH0pO1xuICAgIFxuICB9XG59O1xuXG4vL0RFTEVURSBQT1NUXG5leHBvcnQgY29uc3QgYmxvZ19kZWxldGUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBCbG9nLmZpbmRCeUlkKGlkKTtcblxuICBpZiAoIXJlc3VsdCkgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtzdGF0dXM6IDQwNCwgbWVzc2FnZTogYHBvc3QgTm90IGZvdW5kIWAgfSk7XG5cbiAgY29uc3QgcG9zdERlbGV0ZSA9IGF3YWl0IHJlc3VsdC5kZWxldGUoKTtcbiAgY29uc29sZS5sb2cocG9zdERlbGV0ZSlcblxuICBpZiAocG9zdERlbGV0ZSkgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtzdGF0dXM6IDIwMCwgbWVzc2FnZTogXCJwb3N0IGRlbGV0ZWRcIiB9KTtcblxuICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe3N0YXR1czogNTAwLCBtZXNzYWdlOiBcIkludGVybmFsIHNlcnZlciBlcnJvciFcIiB9KTtcbn07XG4iXX0=","map":{"version":3,"sources":["BlogController.js"],"names":["blog_index","req","res","Blog","find","sort","createdAt","then","result","status","json","title","blogs","catch","err","console","log","blog_details","id","params","findById","message","blog","error","blog_create_post","body","details","create","blogUpdate","length","updatedBlog","findByIdAndUpdate","new","blog_delete","postDelete","delete"],"mappings":"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","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/controller/","sourcesContent":["import Blog from \"../routes/api/blogRoutes\";\nimport { blogValidation } from \"../validation/validation\";\n//import {admin as verifyAdmin} from ''\n\n//blog_index, blog_details, blog_create_get, blog_create_post, blog_delete, blogUpdate, \n\n//DISPLAYING ALL BLOGS\nexport const blog_index = async (req, res) => {\n  Blog.find()\n    .sort({ createdAt: -1 })\n    .then((result) => {\n      return res.status(200).json({status: 200, title: \"All Blogs\", blogs: result });\n    })\n    .catch((err) => {\n      console.log(err);\n      res.status(500);\n    });\n};\n\n//DISPLAYING ONE POST\nexport const blog_details = async (req, res) => {\n  const id = req.params.id;\n\n  try {\n    const result = await Blog.findById(id);\n    if (!result) return res.status(404).json({status: 404, message: \"post not found\" });\n  \n    return res.json({ title: \"Blog Details\", blog: result });\n    \n  } catch (error) {\n    // console.log(error)\n    return res.status(500).json({status: 500, message: \"Internal server error\" });\n  }\n};\n\n//CREATING A POST\nexport const blog_create_post = async (req, res) => {\n  //check an empty submission or invalid\n  const { error } = blogValidation(req.body);\n  if (error) return res.status(400).json({status: 400, message: error.details[0].message });\n\n  //save  post\n  try {\n    const blog = await Blog.create(req.body);\n    return res.status(201).json(blog);\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({status: 500, message: \"Internal server error\" });\n  }\n};\n\n//UPDATE POST\nexport const blogUpdate = async (req, res) => {\n  const id = await req.params.id;\n  console.log(id.length)\n\n  if(id.length != 24) return res.status(400).json({status: 400, message: \"Invalid id detected\"})\n\n  try {\n  const result = await Blog.findById(id);\n  if (!result) return res.status(404).json({status: 404, message: \"Post not found\" });\n\n  //   let title = req.body.title;\n    const updatedBlog = await Blog.findByIdAndUpdate(id, req.body, {\n      new: true,\n    });\n    return res.json(updatedBlog);\n  } catch (error) {\n    return res.status(500).json({status: 500, message: \"Internal server error\" });\n    \n  }\n};\n\n//DELETE POST\nexport const blog_delete = async (req, res) => {\n  const id = req.params.id;\n  const result = await Blog.findById(id);\n\n  if (!result) return res.status(404).json({status: 404, message: `post Not found!` });\n\n  const postDelete = await result.delete();\n  console.log(postDelete)\n\n  if (postDelete) return res.status(200).json({status: 200, message: \"post deleted\" });\n\n  return res.status(500).json({status: 500, message: \"Internal server error!\" });\n};\n"]}},"mtime":1648467899829},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/routes/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/routes/api/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"prod\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:prod":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.router = void 0;\n\nvar _express = require(\"express\");\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _User = require(\"../../models/User\");\n\nvar _validation = require(\"../../validation/validation\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//!!VALIDATION\nconst router = (0, _express.Router)();\n/**\n * @openapi\n * tags:\n *  name: User\n *  description: APIs for the user\n */\n\n/**\n * @swagger\n * components:\n *  schemas:\n *    User:\n *      type: object\n *      required:\n *        - name\n *        - email\n *        - password\n *      properties:\n *        name:\n *          type: string\n *          description: Every user must provide a name\n *        email:\n *          type: string\n *          description: email must be provided\n *        password:\n *          type: string\n *          description: Also provide your password.\n *      example:\n *        name: muheto hodal\n *        email: me@gmail.com\n *        password: hodol123\n */\n\n/**\n * @swagger\n * components:\n *  responses:\n *    UnauthorizedError:\n *      description: Access need Token\n */\n\n/**\n * @swagger\n * components:\n *  securitySchemes:\n *    Token:\n *      type: http\n *      scheme: Bearer\n *      bearerFormat: JWT\n */\n\n/**\n * @swagger\n * components:\n *  schemas:\n *      LoginInfo:\n *          type: object\n *          required:\n *              - email\n *              - password\n *          properties:\n *              email:\n *                  type: string\n *                  description: an email must be valid\n *              password:\n *                  type: string\n *                  description: password required.\n *          example:\n *            email: mhthodol@gmail.com\n *            password: mine222\n */\n\n/**\n * @swagger\n * /api/v1/users/register:\n *  post:\n *    summary: A user can make registration\n *    description: both name, email and password must be provided\n *    tags:\n *      - User\n *    requestBody:\n *      required: true\n *      content:\n *        application/json:\n *          schema:\n *            $ref: '#/components/schemas/User'\n *\n *    responses:\n *      200:\n *        description: Successfully registered.\n *        content:\n *          application/json:\n *            schema:\n *              $ref: '#/components/schemas/User'\n *      400:\n *        description: Invalid input or Bad formated input\n *        content:\n *          application/json:\n *            schema:\n *              type: object\n *              properties:\n *                data:\n *                  type: object\n *                code:\n *                  type: number\n */\n\nexports.router = router;\nrouter.post(\"/register\", async (req, res) => {\n  console.log(req.body); //VALIDATING THE DATA BEFORE USER CREATED\n\n  const {\n    error\n  } = (0, _validation.registerValidation)(req.body); // console.log(error, !!error);\n\n  if (error) {\n    return res.status(400).json({\n      status: 400,\n      message: error.details[0].message\n    });\n  } //checking if the user is already in the database\n\n\n  const emailExist = await _User.User.findOne({\n    email: req.body.email\n  });\n  if (emailExist) return res.status(400).json({\n    status: 400,\n    message: \"Email already exists.\"\n  }); //encrypting password (Hash pswds)\n\n  const salt = await _bcrypt.default.genSalt(10);\n  const hashedPassword = await _bcrypt.default.hash(req.body.password, salt); //Creating a new User\n\n  const user = new _User.User({\n    name: req.body.name,\n    email: req.body.email,\n    password: hashedPassword\n  }); //!!saving a user to database\n\n  try {\n    const savedUser = await user.save(); // res.send(savedUser);\n\n    return res.status(201).json({\n      status: 201,\n      name: user.name,\n      email: user.email,\n      Id: user._id\n    });\n  } catch (error) {\n    return res.status(400);\n  }\n});\n/**\n * @swagger\n * /api/v1/users/login:\n *  post:\n *    summary: A user must sign-in with his/her credentials\n *    description: A user must provide a valid email and password to login\n *    tags:\n *      - User\n *    requestBody:\n *      required: true\n *      content:\n *        application/json:\n *          schema:\n *            $ref: '#/components/schemas/LoginInfo'\n *    responses:\n *      200:\n *        description: Logged-in successfully!, keep your Token\n *      400:\n *        description: Invalid userName or password!\n *      404:\n *        description: Email is not found!\n */\n//!!LOGIN\n\nrouter.post(\"/login\", async (req, res) => {\n  //Validating data before the user Logged In\n  const {\n    error\n  } = (0, _validation.loginValidation)(req.body);\n\n  if (error) {\n    return res.status(400).json({\n      status: 400,\n      message: error.details[0].message\n    });\n  } //checking if the userEmail exist in db\n\n\n  const user = await _User.User.findOne({\n    email: req.body.email\n  });\n  if (!user) return res.status(400).json({\n    status: 400,\n    message: \"Invalid credentials!\"\n  }); //Checking if password is valid\n\n  const validPass = await _bcrypt.default.compare(req.body.password, user.password);\n  if (!validPass) return res.status(400).json({\n    status: 400,\n    message: \"Invalid userName or password\"\n  });\n\n  if (user.email === \"admin@gmail.com\") {\n    const token = _jsonwebtoken.default.sign({\n      _id: user._id\n    }, process.env.ADMIN_TOKEN);\n\n    res.status(200).json({\n      authToken: token,\n      name: user.name,\n      id: user._id\n    });\n  } else {\n    //Create and assign a token to the legged user\n    const token = _jsonwebtoken.default.sign({\n      _id: user._id\n    }, process.env.TOKEN_SECRET);\n\n    res.status(200).json({\n      authToken: token,\n      name: user.name,\n      id: user._id\n    }); // adding token to the header to the user'\n  }\n});\n/**\n * @swagger\n * /api/v1/users/{id}:\n *  put:\n *    security:\n *      - Token: []\n *    summary: you can update your profile\n *    description: you need a valid Token to update your profile\n *    tags:\n *      - User\n *    parameters:\n *      - in: path\n *        name: id\n *        required: true\n *        description: use a Valid Id\n *        schema:\n *          type: string\n *    responses:\n *      200:\n *        description: Successfully updated\n *      500:\n *        description: Internal error!\n */\n//UPDATE A USER\n// router.put(\"/:id\", verify, async (req, res) => {\n//   const id = req.params.id;\n//   console.log(id);\n//   if (id.length != 24)\n//     return res.status(400).json({ status: 400, message: \"Wrong user Id\" });\n//   const result = await User.findById(id);\n//   if (!result)\n//     return res.status(404).json({ status: 404, message: \"User Not found\" });\n//   try {\n//     const updateUser = await User.findByIdAndUpdate(id, req.body, {\n//       new: true,\n//     });\n//     console.log(\"User updated!\");\n//     return res.status(200).json({status: \"Success\", name: req.body.name, email: req.body.email });\n//   } catch (error) {\n//     console.log(error);\n//     return res\n//       .status(500)\n//       .json({ status: 500, message: \"Internal server error!\" });\n//   }\n// });\n\n/**\n * @swagger\n * /api/v1/users/{id}:\n *  delete:\n *    security:\n *      - Token: []\n *    summary: This route Allow  to delete an existing User\n *    description: a Token is required to Delete a user\n *    tags:\n *      - User\n *    parameters:\n *      - in: path\n *        name: id\n *        required: true\n *        description: you have to provide a valid user Id\n *        schema:\n *          $ref: '#/components/schemas/User'\n *    responses:\n *      200:\n *        description: a user successfully Deleted\n *      204:\n *        description: user not found\n *      401:\n *        description: Access denied!\n */\n//!!Delete a user\n\nrouter.delete(\"/:id\", _validation.auth, async (req, res) => {\n  const id = req.params.id; // if(id !== 24 ) return res.status(400).json({status:\"fail\", code:400, message: \"Invalid Id\"})\n\n  const result = await _User.User.findById(id);\n  if (!result) return res.status(404).json({\n    status: 404,\n    message: \"User not found\"\n  });\n  const userDelete = await result.delete();\n  if (userDelete) return res.status(200).json({\n    status: 200,\n    message: \"User successfully deleted\"\n  });\n  return res.status(500).json({\n    status: 500,\n    message: \"Internal server error\"\n  });\n});\n/**\n * @swagger\n * /api/v1/users:\n *  get:\n *    security:\n *      - Token: []\n *    summary: This route returns a list of users\n *    responses:\n *      200:\n *        description: Success\n *      204:\n *        description: No user found\n *      401:\n *        description: Access denied\n *      500:\n *        description: Internal server error\n *        content:\n *          application/json:\n *            schema:\n *              type: array\n *              items:\n *                $ref: '#/components/schemas/User'\n */\n//!! Get all users\n\nrouter.get(\"/\", _validation.admin, async (req, res) => {\n  _User.User.find().sort({\n    createdAt: -1\n  }).then(result => {\n    return res.status(200).json({\n      title: \"All Users\",\n      status: 200,\n      users: result\n    });\n  }).catch(err => {\n    console.log(err);\n    res.status(500).json({\n      status: 500,\n      message: \"Internal server error\"\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsicm91dGVyIiwicG9zdCIsInJlcSIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwiZXJyb3IiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImRldGFpbHMiLCJlbWFpbEV4aXN0IiwiVXNlciIsImZpbmRPbmUiLCJlbWFpbCIsInNhbHQiLCJiY3J5cHQiLCJnZW5TYWx0IiwiaGFzaGVkUGFzc3dvcmQiLCJoYXNoIiwicGFzc3dvcmQiLCJ1c2VyIiwibmFtZSIsInNhdmVkVXNlciIsInNhdmUiLCJJZCIsIl9pZCIsInZhbGlkUGFzcyIsImNvbXBhcmUiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiQURNSU5fVE9LRU4iLCJhdXRoVG9rZW4iLCJpZCIsIlRPS0VOX1NFQ1JFVCIsImRlbGV0ZSIsInZlcmlmeSIsInBhcmFtcyIsInJlc3VsdCIsImZpbmRCeUlkIiwidXNlckRlbGV0ZSIsImdldCIsImFkbWluIiwiZmluZCIsInNvcnQiLCJjcmVhdGVkQXQiLCJ0aGVuIiwidGl0bGUiLCJ1c2VycyIsImNhdGNoIiwiZXJyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7Ozs7QUFJQTtBQUVBLE1BQU1BLE1BQU0sR0FBRyxzQkFBZjtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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Q0dDLElBREgsQ0FDUTtBQUFFQyxJQUFBQSxTQUFTLEVBQUUsQ0FBQztBQUFkLEdBRFIsRUFFR0MsSUFGSCxDQUVTUixNQUFELElBQVk7QUFDaEIsV0FBT3ZDLEdBQUcsQ0FDUEssTUFESSxDQUNHLEdBREgsRUFFSkMsSUFGSSxDQUVDO0FBQUUwQyxNQUFBQSxLQUFLLEVBQUUsV0FBVDtBQUFzQjNDLE1BQUFBLE1BQU0sRUFBRSxHQUE5QjtBQUFtQzRDLE1BQUFBLEtBQUssRUFBRVY7QUFBMUMsS0FGRCxDQUFQO0FBR0QsR0FOSCxFQU9HVyxLQVBILENBT1VDLEdBQUQsSUFBUztBQUNkbEQsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlpRCxHQUFaO0FBQ0FuRCxJQUFBQSxHQUFHLENBQUNLLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFRCxNQUFBQSxNQUFNLEVBQUUsR0FBVjtBQUFlRSxNQUFBQSxPQUFPLEVBQUU7QUFBeEIsS0FBckI7QUFDRCxHQVZIO0FBV0QsQ0FaRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW5kZWxhcndhbmRhL0RvY3VtZW50cy9teWJyYW5kL3NyYy9yb3V0ZXMvYXBpLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcbmltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSBcIi4uLy4uL21vZGVscy9Vc2VyXCI7XG5pbXBvcnQgeyByZWdpc3RlclZhbGlkYXRpb24sIGxvZ2luVmFsaWRhdGlvbiB9IGZyb20gXCIuLi8uLi92YWxpZGF0aW9uL3ZhbGlkYXRpb25cIjtcbmltcG9ydCB7IGF1dGggYXMgdmVyaWZ5IH0gZnJvbSBcIi4uLy4uL3ZhbGlkYXRpb24vdmFsaWRhdGlvblwiO1xuaW1wb3J0IHthZG1pbn0gZnJvbSBcIi4uLy4uL3ZhbGlkYXRpb24vdmFsaWRhdGlvblwiXG5cbi8vISFWQUxJREFUSU9OXG5cbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xuXG4vKipcbiAqIEBvcGVuYXBpXG4gKiB0YWdzOlxuICogIG5hbWU6IFVzZXJcbiAqICBkZXNjcmlwdGlvbjogQVBJcyBmb3IgdGhlIHVzZXJcbiAqL1xuXG4vKipcbiAqIEBzd2FnZ2VyXG4gKiBjb21wb25lbnRzOlxuICogIHNjaGVtYXM6XG4gKiAgICBVc2VyOlxuICogICAgICB0eXBlOiBvYmplY3RcbiAqICAgICAgcmVxdWlyZWQ6XG4gKiAgICAgICAgLSBuYW1lXG4gKiAgICAgICAgLSBlbWFpbFxuICogICAgICAgIC0gcGFzc3dvcmRcbiAqICAgICAgcHJvcGVydGllczpcbiAqICAgICAgICBuYW1lOlxuICogICAgICAgICAgdHlwZTogc3RyaW5nXG4gKiAgICAgICAgICBkZXNjcmlwdGlvbjogRXZlcnkgdXNlciBtdXN0IHByb3ZpZGUgYSBuYW1lXG4gKiAgICAgICAgZW1haWw6XG4gKiAgICAgICAgICB0eXBlOiBzdHJpbmdcbiAqICAgICAgICAgIGRlc2NyaXB0aW9uOiBlbWFpbCBtdXN0IGJlIHByb3ZpZGVkXG4gKiAgICAgICAgcGFzc3dvcmQ6XG4gKiAgICAgICAgICB0eXBlOiBzdHJpbmdcbiAqICAgICAgICAgIGRlc2NyaXB0aW9uOiBBbHNvIHByb3ZpZGUgeW91ciBwYXNzd29yZC5cbiAqICAgICAgZXhhbXBsZTpcbiAqICAgICAgICBuYW1lOiBtdWhldG8gaG9kYWxcbiAqICAgICAgICBlbWFpbDogbWVAZ21haWwuY29tXG4gKiAgICAgICAgcGFzc3dvcmQ6IGhvZG9sMTIzXG4gKi9cblxuLyoqXG4gKiBAc3dhZ2dlclxuICogY29tcG9uZW50czpcbiAqICByZXNwb25zZXM6XG4gKiAgICBVbmF1dGhvcml6ZWRFcnJvcjpcbiAqICAgICAgZGVzY3JpcHRpb246IEFjY2VzcyBuZWVkIFRva2VuXG4gKi9cblxuLyoqXG4gKiBAc3dhZ2dlclxuICogY29tcG9uZW50czpcbiAqICBzZWN1cml0eVNjaGVtZXM6XG4gKiAgICBUb2tlbjpcbiAqICAgICAgdHlwZTogaHR0cFxuICogICAgICBzY2hlbWU6IEJlYXJlclxuICogICAgICBiZWFyZXJGb3JtYXQ6IEpXVFxuICovXG5cbi8qKlxuICogQHN3YWdnZXJcbiAqIGNvbXBvbmVudHM6XG4gKiAgc2NoZW1hczpcbiAqICAgICAgTG9naW5JbmZvOlxuICogICAgICAgICAgdHlwZTogb2JqZWN0XG4gKiAgICAgICAgICByZXF1aXJlZDpcbiAqICAgICAgICAgICAgICAtIGVtYWlsXG4gKiAgICAgICAgICAgICAgLSBwYXNzd29yZFxuICogICAgICAgICAgcHJvcGVydGllczpcbiAqICAgICAgICAgICAgICBlbWFpbDpcbiAqICAgICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXG4gKiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBhbiBlbWFpbCBtdXN0IGJlIHZhbGlkXG4gKiAgICAgICAgICAgICAgcGFzc3dvcmQ6XG4gKiAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xuICogICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcGFzc3dvcmQgcmVxdWlyZWQuXG4gKiAgICAgICAgICBleGFtcGxlOlxuICogICAgICAgICAgICBlbWFpbDogbWh0aG9kb2xAZ21haWwuY29tXG4gKiAgICAgICAgICAgIHBhc3N3b3JkOiBtaW5lMjIyXG4gKi9cblxuLyoqXG4gKiBAc3dhZ2dlclxuICogL2FwaS92MS91c2Vycy9yZWdpc3RlcjpcbiAqICBwb3N0OlxuICogICAgc3VtbWFyeTogQSB1c2VyIGNhbiBtYWtlIHJlZ2lzdHJhdGlvblxuICogICAgZGVzY3JpcHRpb246IGJvdGggbmFtZSwgZW1haWwgYW5kIHBhc3N3b3JkIG11c3QgYmUgcHJvdmlkZWRcbiAqICAgIHRhZ3M6XG4gKiAgICAgIC0gVXNlclxuICogICAgcmVxdWVzdEJvZHk6XG4gKiAgICAgIHJlcXVpcmVkOiB0cnVlXG4gKiAgICAgIGNvbnRlbnQ6XG4gKiAgICAgICAgYXBwbGljYXRpb24vanNvbjpcbiAqICAgICAgICAgIHNjaGVtYTpcbiAqICAgICAgICAgICAgJHJlZjogJyMvY29tcG9uZW50cy9zY2hlbWFzL1VzZXInXG4gKlxuICogICAgcmVzcG9uc2VzOlxuICogICAgICAyMDA6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IFN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkLlxuICogICAgICAgIGNvbnRlbnQ6XG4gKiAgICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICogICAgICAgICAgICBzY2hlbWE6XG4gKiAgICAgICAgICAgICAgJHJlZjogJyMvY29tcG9uZW50cy9zY2hlbWFzL1VzZXInXG4gKiAgICAgIDQwMDpcbiAqICAgICAgICBkZXNjcmlwdGlvbjogSW52YWxpZCBpbnB1dCBvciBCYWQgZm9ybWF0ZWQgaW5wdXRcbiAqICAgICAgICBjb250ZW50OlxuICogICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcbiAqICAgICAgICAgICAgc2NoZW1hOlxuICogICAgICAgICAgICAgIHR5cGU6IG9iamVjdFxuICogICAgICAgICAgICAgIHByb3BlcnRpZXM6XG4gKiAgICAgICAgICAgICAgICBkYXRhOlxuICogICAgICAgICAgICAgICAgICB0eXBlOiBvYmplY3RcbiAqICAgICAgICAgICAgICAgIGNvZGU6XG4gKiAgICAgICAgICAgICAgICAgIHR5cGU6IG51bWJlclxuICovXG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zb2xlLmxvZyhyZXEuYm9keSk7XG5cbiAgLy9WQUxJREFUSU5HIFRIRSBEQVRBIEJFRk9SRSBVU0VSIENSRUFURURcbiAgY29uc3QgeyBlcnJvciB9ID0gcmVnaXN0ZXJWYWxpZGF0aW9uKHJlcS5ib2R5KTtcbiAgLy8gY29uc29sZS5sb2coZXJyb3IsICEhZXJyb3IpO1xuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4gcmVzXG4gICAgICAuc3RhdHVzKDQwMClcbiAgICAgIC5qc29uKHsgc3RhdHVzOiA0MDAsIG1lc3NhZ2U6IGVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSB9KTtcbiAgfVxuXG4gIC8vY2hlY2tpbmcgaWYgdGhlIHVzZXIgaXMgYWxyZWFkeSBpbiB0aGUgZGF0YWJhc2VcbiAgY29uc3QgZW1haWxFeGlzdCA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XG4gICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICB9KTtcbiAgaWYgKGVtYWlsRXhpc3QpXG4gICAgcmV0dXJuIHJlc1xuICAgICAgLnN0YXR1cyg0MDApXG4gICAgICAuanNvbih7IHN0YXR1czogNDAwLCBtZXNzYWdlOiBcIkVtYWlsIGFscmVhZHkgZXhpc3RzLlwiIH0pO1xuXG4gIC8vZW5jcnlwdGluZyBwYXNzd29yZCAoSGFzaCBwc3dkcylcbiAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKTtcbiAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwgc2FsdCk7XG5cbiAgLy9DcmVhdGluZyBhIG5ldyBVc2VyXG4gIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XG4gICAgbmFtZTogcmVxLmJvZHkubmFtZSxcbiAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXG4gICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLFxuICB9KTtcblxuICAvLyEhc2F2aW5nIGEgdXNlciB0byBkYXRhYmFzZVxuICB0cnkge1xuICAgIGNvbnN0IHNhdmVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgIC8vIHJlcy5zZW5kKHNhdmVkVXNlcik7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgIHN0YXR1czogMjAxLFxuICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICBJZDogdXNlci5faWQsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKTtcbiAgfVxufSk7XG4vKipcbiAqIEBzd2FnZ2VyXG4gKiAvYXBpL3YxL3VzZXJzL2xvZ2luOlxuICogIHBvc3Q6XG4gKiAgICBzdW1tYXJ5OiBBIHVzZXIgbXVzdCBzaWduLWluIHdpdGggaGlzL2hlciBjcmVkZW50aWFsc1xuICogICAgZGVzY3JpcHRpb246IEEgdXNlciBtdXN0IHByb3ZpZGUgYSB2YWxpZCBlbWFpbCBhbmQgcGFzc3dvcmQgdG8gbG9naW5cbiAqICAgIHRhZ3M6XG4gKiAgICAgIC0gVXNlclxuICogICAgcmVxdWVzdEJvZHk6XG4gKiAgICAgIHJlcXVpcmVkOiB0cnVlXG4gKiAgICAgIGNvbnRlbnQ6XG4gKiAgICAgICAgYXBwbGljYXRpb24vanNvbjpcbiAqICAgICAgICAgIHNjaGVtYTpcbiAqICAgICAgICAgICAgJHJlZjogJyMvY29tcG9uZW50cy9zY2hlbWFzL0xvZ2luSW5mbydcbiAqICAgIHJlc3BvbnNlczpcbiAqICAgICAgMjAwOlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBMb2dnZWQtaW4gc3VjY2Vzc2Z1bGx5ISwga2VlcCB5b3VyIFRva2VuXG4gKiAgICAgIDQwMDpcbiAqICAgICAgICBkZXNjcmlwdGlvbjogSW52YWxpZCB1c2VyTmFtZSBvciBwYXNzd29yZCFcbiAqICAgICAgNDA0OlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBFbWFpbCBpcyBub3QgZm91bmQhXG4gKi9cbi8vISFMT0dJTlxucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIC8vVmFsaWRhdGluZyBkYXRhIGJlZm9yZSB0aGUgdXNlciBMb2dnZWQgSW5cbiAgY29uc3QgeyBlcnJvciB9ID0gbG9naW5WYWxpZGF0aW9uKHJlcS5ib2R5KTtcbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIHJlc1xuICAgICAgLnN0YXR1cyg0MDApXG4gICAgICAuanNvbih7IHN0YXR1czogNDAwLCBtZXNzYWdlOiBlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UgfSk7XG4gIH1cblxuICAvL2NoZWNraW5nIGlmIHRoZSB1c2VyRW1haWwgZXhpc3QgaW4gZGJcbiAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XG4gICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICB9KTtcbiAgaWYgKCF1c2VyKVxuICAgIHJldHVybiByZXNcbiAgICAgIC5zdGF0dXMoNDAwKVxuICAgICAgLmpzb24oeyBzdGF0dXM6IDQwMCwgbWVzc2FnZTogXCJJbnZhbGlkIGNyZWRlbnRpYWxzIVwiIH0pO1xuXG4gIC8vQ2hlY2tpbmcgaWYgcGFzc3dvcmQgaXMgdmFsaWRcbiAgY29uc3QgdmFsaWRQYXNzID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xuICBpZiAoIXZhbGlkUGFzcylcbiAgICByZXR1cm4gcmVzXG4gICAgICAuc3RhdHVzKDQwMClcbiAgICAgIC5qc29uKHsgc3RhdHVzOiA0MDAsIG1lc3NhZ2U6IFwiSW52YWxpZCB1c2VyTmFtZSBvciBwYXNzd29yZFwiIH0pO1xuXG5cbiAgICAgIGlmKHVzZXIuZW1haWwgPT09IFwiYWRtaW5AZ21haWwuY29tXCIpe1xuICAgICAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHsgX2lkOiB1c2VyLl9pZCB9LCBwcm9jZXNzLmVudi5BRE1JTl9UT0tFTik7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgYXV0aFRva2VuOiB0b2tlbiwgbmFtZTogdXNlci5uYW1lLCBpZDogdXNlci5faWQgfSk7XG4gICAgICB9ZWxzZXtcbiAgLy9DcmVhdGUgYW5kIGFzc2lnbiBhIHRva2VuIHRvIHRoZSBsZWdnZWQgdXNlclxuICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHsgX2lkOiB1c2VyLl9pZCB9LCBwcm9jZXNzLmVudi5UT0tFTl9TRUNSRVQpO1xuICByZXMuc3RhdHVzKDIwMCkuanNvbih7IGF1dGhUb2tlbjogdG9rZW4sIG5hbWU6IHVzZXIubmFtZSwgaWQ6IHVzZXIuX2lkIH0pOyAvLyBhZGRpbmcgdG9rZW4gdG8gdGhlIGhlYWRlciB0byB0aGUgdXNlcidcbiAgICAgIH1cblxufSk7XG4vKipcbiAqIEBzd2FnZ2VyXG4gKiAvYXBpL3YxL3VzZXJzL3tpZH06XG4gKiAgcHV0OlxuICogICAgc2VjdXJpdHk6XG4gKiAgICAgIC0gVG9rZW46IFtdXG4gKiAgICBzdW1tYXJ5OiB5b3UgY2FuIHVwZGF0ZSB5b3VyIHByb2ZpbGVcbiAqICAgIGRlc2NyaXB0aW9uOiB5b3UgbmVlZCBhIHZhbGlkIFRva2VuIHRvIHVwZGF0ZSB5b3VyIHByb2ZpbGVcbiAqICAgIHRhZ3M6XG4gKiAgICAgIC0gVXNlclxuICogICAgcGFyYW1ldGVyczpcbiAqICAgICAgLSBpbjogcGF0aFxuICogICAgICAgIG5hbWU6IGlkXG4gKiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAqICAgICAgICBkZXNjcmlwdGlvbjogdXNlIGEgVmFsaWQgSWRcbiAqICAgICAgICBzY2hlbWE6XG4gKiAgICAgICAgICB0eXBlOiBzdHJpbmdcbiAqICAgIHJlc3BvbnNlczpcbiAqICAgICAgMjAwOlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBTdWNjZXNzZnVsbHkgdXBkYXRlZFxuICogICAgICA1MDA6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IEludGVybmFsIGVycm9yIVxuICovXG4vL1VQREFURSBBIFVTRVJcbi8vIHJvdXRlci5wdXQoXCIvOmlkXCIsIHZlcmlmeSwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4vLyAgIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZDtcbi8vICAgY29uc29sZS5sb2coaWQpO1xuXG4vLyAgIGlmIChpZC5sZW5ndGggIT0gMjQpXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgc3RhdHVzOiA0MDAsIG1lc3NhZ2U6IFwiV3JvbmcgdXNlciBJZFwiIH0pO1xuXG4vLyAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFVzZXIuZmluZEJ5SWQoaWQpO1xuLy8gICBpZiAoIXJlc3VsdClcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBzdGF0dXM6IDQwNCwgbWVzc2FnZTogXCJVc2VyIE5vdCBmb3VuZFwiIH0pO1xuXG4vLyAgIHRyeSB7XG4vLyAgICAgY29uc3QgdXBkYXRlVXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWRBbmRVcGRhdGUoaWQsIHJlcS5ib2R5LCB7XG4vLyAgICAgICBuZXc6IHRydWUsXG4vLyAgICAgfSk7XG4vLyAgICAgY29uc29sZS5sb2coXCJVc2VyIHVwZGF0ZWQhXCIpO1xuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7c3RhdHVzOiBcIlN1Y2Nlc3NcIiwgbmFtZTogcmVxLmJvZHkubmFtZSwgZW1haWw6IHJlcS5ib2R5LmVtYWlsIH0pO1xuLy8gICB9IGNhdGNoIChlcnJvcikge1xuLy8gICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbi8vICAgICByZXR1cm4gcmVzXG4vLyAgICAgICAuc3RhdHVzKDUwMClcbi8vICAgICAgIC5qc29uKHsgc3RhdHVzOiA1MDAsIG1lc3NhZ2U6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yIVwiIH0pO1xuLy8gICB9XG4vLyB9KTtcblxuLyoqXG4gKiBAc3dhZ2dlclxuICogL2FwaS92MS91c2Vycy97aWR9OlxuICogIGRlbGV0ZTpcbiAqICAgIHNlY3VyaXR5OlxuICogICAgICAtIFRva2VuOiBbXVxuICogICAgc3VtbWFyeTogVGhpcyByb3V0ZSBBbGxvdyAgdG8gZGVsZXRlIGFuIGV4aXN0aW5nIFVzZXJcbiAqICAgIGRlc2NyaXB0aW9uOiBhIFRva2VuIGlzIHJlcXVpcmVkIHRvIERlbGV0ZSBhIHVzZXJcbiAqICAgIHRhZ3M6XG4gKiAgICAgIC0gVXNlclxuICogICAgcGFyYW1ldGVyczpcbiAqICAgICAgLSBpbjogcGF0aFxuICogICAgICAgIG5hbWU6IGlkXG4gKiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAqICAgICAgICBkZXNjcmlwdGlvbjogeW91IGhhdmUgdG8gcHJvdmlkZSBhIHZhbGlkIHVzZXIgSWRcbiAqICAgICAgICBzY2hlbWE6XG4gKiAgICAgICAgICAkcmVmOiAnIy9jb21wb25lbnRzL3NjaGVtYXMvVXNlcidcbiAqICAgIHJlc3BvbnNlczpcbiAqICAgICAgMjAwOlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBhIHVzZXIgc3VjY2Vzc2Z1bGx5IERlbGV0ZWRcbiAqICAgICAgMjA0OlxuICogICAgICAgIGRlc2NyaXB0aW9uOiB1c2VyIG5vdCBmb3VuZFxuICogICAgICA0MDE6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IEFjY2VzcyBkZW5pZWQhXG4gKi9cblxuLy8hIURlbGV0ZSBhIHVzZXJcbnJvdXRlci5kZWxldGUoXCIvOmlkXCIsIHZlcmlmeSwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZDtcblxuLy8gaWYoaWQgIT09IDI0ICkgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtzdGF0dXM6XCJmYWlsXCIsIGNvZGU6NDAwLCBtZXNzYWdlOiBcIkludmFsaWQgSWRcIn0pXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFVzZXIuZmluZEJ5SWQoaWQpO1xuICBpZiAoIXJlc3VsdClcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBzdGF0dXM6IDQwNCwgbWVzc2FnZTogXCJVc2VyIG5vdCBmb3VuZFwiIH0pO1xuXG4gIGNvbnN0IHVzZXJEZWxldGUgPSBhd2FpdCByZXN1bHQuZGVsZXRlKCk7XG5cbiAgaWYgKHVzZXJEZWxldGUpXG4gICAgcmV0dXJuIHJlc1xuICAgICAgLnN0YXR1cygyMDApXG4gICAgICAuanNvbih7IHN0YXR1czogMjAwLCBtZXNzYWdlOiBcIlVzZXIgc3VjY2Vzc2Z1bGx5IGRlbGV0ZWRcIiB9KTtcblxuICByZXR1cm4gcmVzXG4gICAgLnN0YXR1cyg1MDApXG4gICAgLmpzb24oeyBzdGF0dXM6IDUwMCwgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9KTtcbn0pO1xuXG4vKipcbiAqIEBzd2FnZ2VyXG4gKiAvYXBpL3YxL3VzZXJzOlxuICogIGdldDpcbiAqICAgIHNlY3VyaXR5OlxuICogICAgICAtIFRva2VuOiBbXVxuICogICAgc3VtbWFyeTogVGhpcyByb3V0ZSByZXR1cm5zIGEgbGlzdCBvZiB1c2Vyc1xuICogICAgcmVzcG9uc2VzOlxuICogICAgICAyMDA6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IFN1Y2Nlc3NcbiAqICAgICAgMjA0OlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBObyB1c2VyIGZvdW5kXG4gKiAgICAgIDQwMTpcbiAqICAgICAgICBkZXNjcmlwdGlvbjogQWNjZXNzIGRlbmllZFxuICogICAgICA1MDA6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IEludGVybmFsIHNlcnZlciBlcnJvclxuICogICAgICAgIGNvbnRlbnQ6XG4gKiAgICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICogICAgICAgICAgICBzY2hlbWE6XG4gKiAgICAgICAgICAgICAgdHlwZTogYXJyYXlcbiAqICAgICAgICAgICAgICBpdGVtczpcbiAqICAgICAgICAgICAgICAgICRyZWY6ICcjL2NvbXBvbmVudHMvc2NoZW1hcy9Vc2VyJ1xuICovXG5cbi8vISEgR2V0IGFsbCB1c2Vyc1xucm91dGVyLmdldChcIi9cIiwgYWRtaW4sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBVc2VyLmZpbmQoKVxuICAgIC5zb3J0KHsgY3JlYXRlZEF0OiAtMSB9KVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIHJldHVybiByZXNcbiAgICAgICAgLnN0YXR1cygyMDApXG4gICAgICAgIC5qc29uKHsgdGl0bGU6IFwiQWxsIFVzZXJzXCIsIHN0YXR1czogMjAwLCB1c2VyczogcmVzdWx0IH0pO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IHN0YXR1czogNTAwLCBtZXNzYWdlOiBcIkludGVybmFsIHNlcnZlciBlcnJvclwiIH0pO1xuICAgIH0pO1xufSk7XG5cbmV4cG9ydCB7IHJvdXRlciB9O1xuIl19","map":{"version":3,"sources":["auth.js"],"names":["router","post","req","res","console","log","body","error","status","json","message","details","emailExist","User","findOne","email","salt","bcrypt","genSalt","hashedPassword","hash","password","user","name","savedUser","save","Id","_id","validPass","compare","token","jwt","sign","process","env","ADMIN_TOKEN","authToken","id","TOKEN_SECRET","delete","verify","params","result","findById","userDelete","get","admin","find","sort","createdAt","then","title","users","catch","err"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;;;AAIA;AAEA,MAAMA,MAAM,GAAG,sBAAf;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAA,MAAM,CAACC,IAAP,CAAY,WAAZ,EAAyB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC3CC,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,IAAhB,EAD2C,CAG3C;;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAY,oCAAmBL,GAAG,CAACI,IAAvB,CAAlB,CAJ2C,CAK3C;;AACA,MAAIC,KAAJ,EAAW;AACT,WAAOJ,GAAG,CACPK,MADI,CACG,GADH,EAEJC,IAFI,CAEC;AAAED,MAAAA,MAAM,EAAE,GAAV;AAAeE,MAAAA,OAAO,EAAEH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiBD;AAAzC,KAFD,CAAP;AAGD,GAV0C,CAY3C;;;AACA,QAAME,UAAU,GAAG,MAAMC,WAAKC,OAAL,CAAa;AACpCC,IAAAA,KAAK,EAAEb,GAAG,CAACI,IAAJ,CAASS;AADoB,GAAb,CAAzB;AAGA,MAAIH,UAAJ,EACE,OAAOT,GAAG,CACPK,MADI,CACG,GADH,EAEJC,IAFI,CAEC;AAAED,IAAAA,MAAM,EAAE,GAAV;AAAeE,IAAAA,OAAO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","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/routes/api/","sourcesContent":["import { Router } from \"express\";\nimport bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\n\nimport { User } from \"../../models/User\";\nimport { registerValidation, loginValidation } from \"../../validation/validation\";\nimport { auth as verify } from \"../../validation/validation\";\nimport {admin} from \"../../validation/validation\"\n\n//!!VALIDATION\n\nconst router = Router();\n\n/**\n * @openapi\n * tags:\n *  name: User\n *  description: APIs for the user\n */\n\n/**\n * @swagger\n * components:\n *  schemas:\n *    User:\n *      type: object\n *      required:\n *        - name\n *        - email\n *        - password\n *      properties:\n *        name:\n *          type: string\n *          description: Every user must provide a name\n *        email:\n *          type: string\n *          description: email must be provided\n *        password:\n *          type: string\n *          description: Also provide your password.\n *      example:\n *        name: muheto hodal\n *        email: me@gmail.com\n *        password: hodol123\n */\n\n/**\n * @swagger\n * components:\n *  responses:\n *    UnauthorizedError:\n *      description: Access need Token\n */\n\n/**\n * @swagger\n * components:\n *  securitySchemes:\n *    Token:\n *      type: http\n *      scheme: Bearer\n *      bearerFormat: JWT\n */\n\n/**\n * @swagger\n * components:\n *  schemas:\n *      LoginInfo:\n *          type: object\n *          required:\n *              - email\n *              - password\n *          properties:\n *              email:\n *                  type: string\n *                  description: an email must be valid\n *              password:\n *                  type: string\n *                  description: password required.\n *          example:\n *            email: mhthodol@gmail.com\n *            password: mine222\n */\n\n/**\n * @swagger\n * /api/v1/users/register:\n *  post:\n *    summary: A user can make registration\n *    description: both name, email and password must be provided\n *    tags:\n *      - User\n *    requestBody:\n *      required: true\n *      content:\n *        application/json:\n *          schema:\n *            $ref: '#/components/schemas/User'\n *\n *    responses:\n *      200:\n *        description: Successfully registered.\n *        content:\n *          application/json:\n *            schema:\n *              $ref: '#/components/schemas/User'\n *      400:\n *        description: Invalid input or Bad formated input\n *        content:\n *          application/json:\n *            schema:\n *              type: object\n *              properties:\n *                data:\n *                  type: object\n *                code:\n *                  type: number\n */\n\nrouter.post(\"/register\", async (req, res) => {\n  console.log(req.body);\n\n  //VALIDATING THE DATA BEFORE USER CREATED\n  const { error } = registerValidation(req.body);\n  // console.log(error, !!error);\n  if (error) {\n    return res\n      .status(400)\n      .json({ status: 400, message: error.details[0].message });\n  }\n\n  //checking if the user is already in the database\n  const emailExist = await User.findOne({\n    email: req.body.email,\n  });\n  if (emailExist)\n    return res\n      .status(400)\n      .json({ status: 400, message: \"Email already exists.\" });\n\n  //encrypting password (Hash pswds)\n  const salt = await bcrypt.genSalt(10);\n  const hashedPassword = await bcrypt.hash(req.body.password, salt);\n\n  //Creating a new User\n  const user = new User({\n    name: req.body.name,\n    email: req.body.email,\n    password: hashedPassword,\n  });\n\n  //!!saving a user to database\n  try {\n    const savedUser = await user.save();\n    // res.send(savedUser);\n    return res.status(201).json({\n      status: 201,\n      name: user.name,\n      email: user.email,\n      Id: user._id,\n    });\n  } catch (error) {\n    return res.status(400);\n  }\n});\n/**\n * @swagger\n * /api/v1/users/login:\n *  post:\n *    summary: A user must sign-in with his/her credentials\n *    description: A user must provide a valid email and password to login\n *    tags:\n *      - User\n *    requestBody:\n *      required: true\n *      content:\n *        application/json:\n *          schema:\n *            $ref: '#/components/schemas/LoginInfo'\n *    responses:\n *      200:\n *        description: Logged-in successfully!, keep your Token\n *      400:\n *        description: Invalid userName or password!\n *      404:\n *        description: Email is not found!\n */\n//!!LOGIN\nrouter.post(\"/login\", async (req, res) => {\n  //Validating data before the user Logged In\n  const { error } = loginValidation(req.body);\n  if (error) {\n    return res\n      .status(400)\n      .json({ status: 400, message: error.details[0].message });\n  }\n\n  //checking if the userEmail exist in db\n  const user = await User.findOne({\n    email: req.body.email,\n  });\n  if (!user)\n    return res\n      .status(400)\n      .json({ status: 400, message: \"Invalid credentials!\" });\n\n  //Checking if password is valid\n  const validPass = await bcrypt.compare(req.body.password, user.password);\n  if (!validPass)\n    return res\n      .status(400)\n      .json({ status: 400, message: \"Invalid userName or password\" });\n\n\n      if(user.email === \"admin@gmail.com\"){\n        const token = jwt.sign({ _id: user._id }, process.env.ADMIN_TOKEN);\n        res.status(200).json({ authToken: token, name: user.name, id: user._id });\n      }else{\n  //Create and assign a token to the legged user\n  const token = jwt.sign({ _id: user._id }, process.env.TOKEN_SECRET);\n  res.status(200).json({ authToken: token, name: user.name, id: user._id }); // adding token to the header to the user'\n      }\n\n});\n/**\n * @swagger\n * /api/v1/users/{id}:\n *  put:\n *    security:\n *      - Token: []\n *    summary: you can update your profile\n *    description: you need a valid Token to update your profile\n *    tags:\n *      - User\n *    parameters:\n *      - in: path\n *        name: id\n *        required: true\n *        description: use a Valid Id\n *        schema:\n *          type: string\n *    responses:\n *      200:\n *        description: Successfully updated\n *      500:\n *        description: Internal error!\n */\n//UPDATE A USER\n// router.put(\"/:id\", verify, async (req, res) => {\n//   const id = req.params.id;\n//   console.log(id);\n\n//   if (id.length != 24)\n//     return res.status(400).json({ status: 400, message: \"Wrong user Id\" });\n\n//   const result = await User.findById(id);\n//   if (!result)\n//     return res.status(404).json({ status: 404, message: \"User Not found\" });\n\n//   try {\n//     const updateUser = await User.findByIdAndUpdate(id, req.body, {\n//       new: true,\n//     });\n//     console.log(\"User updated!\");\n//     return res.status(200).json({status: \"Success\", name: req.body.name, email: req.body.email });\n//   } catch (error) {\n//     console.log(error);\n//     return res\n//       .status(500)\n//       .json({ status: 500, message: \"Internal server error!\" });\n//   }\n// });\n\n/**\n * @swagger\n * /api/v1/users/{id}:\n *  delete:\n *    security:\n *      - Token: []\n *    summary: This route Allow  to delete an existing User\n *    description: a Token is required to Delete a user\n *    tags:\n *      - User\n *    parameters:\n *      - in: path\n *        name: id\n *        required: true\n *        description: you have to provide a valid user Id\n *        schema:\n *          $ref: '#/components/schemas/User'\n *    responses:\n *      200:\n *        description: a user successfully Deleted\n *      204:\n *        description: user not found\n *      401:\n *        description: Access denied!\n */\n\n//!!Delete a user\nrouter.delete(\"/:id\", verify, async (req, res) => {\n  const id = req.params.id;\n\n// if(id !== 24 ) return res.status(400).json({status:\"fail\", code:400, message: \"Invalid Id\"})\n  const result = await User.findById(id);\n  if (!result)\n    return res.status(404).json({ status: 404, message: \"User not found\" });\n\n  const userDelete = await result.delete();\n\n  if (userDelete)\n    return res\n      .status(200)\n      .json({ status: 200, message: \"User successfully deleted\" });\n\n  return res\n    .status(500)\n    .json({ status: 500, message: \"Internal server error\" });\n});\n\n/**\n * @swagger\n * /api/v1/users:\n *  get:\n *    security:\n *      - Token: []\n *    summary: This route returns a list of users\n *    responses:\n *      200:\n *        description: Success\n *      204:\n *        description: No user found\n *      401:\n *        description: Access denied\n *      500:\n *        description: Internal server error\n *        content:\n *          application/json:\n *            schema:\n *              type: array\n *              items:\n *                $ref: '#/components/schemas/User'\n */\n\n//!! Get all users\nrouter.get(\"/\", admin, async (req, res) => {\n  User.find()\n    .sort({ createdAt: -1 })\n    .then((result) => {\n      return res\n        .status(200)\n        .json({ title: \"All Users\", status: 200, users: result });\n    })\n    .catch((err) => {\n      console.log(err);\n      res.status(500).json({ status: 500, message: \"Internal server error\" });\n    });\n});\n\nexport { router };\n"]}},"mtime":1648480317774},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"prod\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:prod":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.User = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//create a schema that represent  our model of The users\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true,\n    min: 3,\n    max: 30\n  },\n  email: {\n    type: String,\n    required: true,\n    min: 3,\n    max: 30\n  },\n  password: {\n    type: String,\n    required: true,\n    min: 3,\n    max: 30\n  },\n  date: {\n    type: Date,\n    default: Date.now\n  }\n}, {\n  timestamps: true\n});\n\nconst User = _mongoose.default.model(\"User\", userSchema);\n\nexports.User = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwibmFtZXMiOlsidXNlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsIm1pbiIsIm1heCIsImVtYWlsIiwicGFzc3dvcmQiLCJkYXRlIiwiRGF0ZSIsImRlZmF1bHQiLCJub3ciLCJ0aW1lc3RhbXBzIiwiVXNlciIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUE7Ozs7QUFGQTtBQUlBLE1BQU1BLFVBQVUsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUNqQjtBQUNFQyxFQUFBQSxJQUFJLEVBQUU7QUFDSkMsSUFBQUEsSUFBSSxFQUFFQyxNQURGO0FBRUpDLElBQUFBLFFBQVEsRUFBRSxJQUZOO0FBR0pDLElBQUFBLEdBQUcsRUFBRSxDQUhEO0FBSUpDLElBQUFBLEdBQUcsRUFBRTtBQUpELEdBRFI7QUFPRUMsRUFBQUEsS0FBSyxFQUFFO0FBQ0xMLElBQUFBLElBQUksRUFBRUMsTUFERDtBQUVMQyxJQUFBQSxRQUFRLEVBQUUsSUFGTDtBQUdMQyxJQUFBQSxHQUFHLEVBQUUsQ0FIQTtBQUlMQyxJQUFBQSxHQUFHLEVBQUU7QUFKQSxHQVBUO0FBYUVFLEVBQUFBLFFBQVEsRUFBRTtBQUNSTixJQUFBQSxJQUFJLEVBQUVDLE1BREU7QUFFUkMsSUFBQUEsUUFBUSxFQUFFLElBRkY7QUFHUkMsSUFBQUEsR0FBRyxFQUFFLENBSEc7QUFJUkMsSUFBQUEsR0FBRyxFQUFFO0FBSkcsR0FiWjtBQW1CRUcsRUFBQUEsSUFBSSxFQUFFO0FBQ0pQLElBQUFBLElBQUksRUFBRVEsSUFERjtBQUVKQyxJQUFBQSxPQUFPLEVBQUVELElBQUksQ0FBQ0U7QUFGVjtBQW5CUixDQURpQixFQXlCakI7QUFDRUMsRUFBQUEsVUFBVSxFQUFFO0FBRGQsQ0F6QmlCLENBQW5COztBQThCQSxNQUFNQyxJQUFJLEdBQUdmLGtCQUFTZ0IsS0FBVCxDQUFlLE1BQWYsRUFBdUJqQixVQUF2QixDQUFiIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbmRlbGFyd2FuZGEvRG9jdW1lbnRzL215YnJhbmQvc3JjL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyIvL2NyZWF0ZSBhIHNjaGVtYSB0aGF0IHJlcHJlc2VudCAgb3VyIG1vZGVsIG9mIFRoZSB1c2Vyc1xuXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxuICB7XG4gICAgbmFtZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICBtaW46IDMsXG4gICAgICBtYXg6IDMwLFxuICAgIH0sXG4gICAgZW1haWw6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgbWluOiAzLFxuICAgICAgbWF4OiAzMCxcbiAgICB9LFxuICAgIHBhc3N3b3JkOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIG1pbjogMyxcbiAgICAgIG1heDogMzAsXG4gICAgfSxcbiAgICBkYXRlOiB7XG4gICAgICB0eXBlOiBEYXRlLFxuICAgICAgZGVmYXVsdDogRGF0ZS5ub3csXG4gICAgfSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gIH1cbik7XG5cbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbChcIlVzZXJcIiwgdXNlclNjaGVtYSk7XG5cbmV4cG9ydCB7IFVzZXIgfTtcbiJdfQ==","map":{"version":3,"sources":["User.js"],"names":["userSchema","mongoose","Schema","name","type","String","required","min","max","email","password","date","Date","default","now","timestamps","User","model"],"mappings":";;;;;;;AAEA;;;;AAFA;AAIA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CACjB;AACEC,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAEC,MADF;AAEJC,IAAAA,QAAQ,EAAE,IAFN;AAGJC,IAAAA,GAAG,EAAE,CAHD;AAIJC,IAAAA,GAAG,EAAE;AAJD,GADR;AAOEC,EAAAA,KAAK,EAAE;AACLL,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE,IAFL;AAGLC,IAAAA,GAAG,EAAE,CAHA;AAILC,IAAAA,GAAG,EAAE;AAJA,GAPT;AAaEE,EAAAA,QAAQ,EAAE;AACRN,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE,IAFF;AAGRC,IAAAA,GAAG,EAAE,CAHG;AAIRC,IAAAA,GAAG,EAAE;AAJG,GAbZ;AAmBEG,EAAAA,IAAI,EAAE;AACJP,IAAAA,IAAI,EAAEQ,IADF;AAEJC,IAAAA,OAAO,EAAED,IAAI,CAACE;AAFV;AAnBR,CADiB,EAyBjB;AACEC,EAAAA,UAAU,EAAE;AADd,CAzBiB,CAAnB;;AA8BA,MAAMC,IAAI,GAAGf,kBAASgB,KAAT,CAAe,MAAf,EAAuBjB,UAAvB,CAAb","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/models/","sourcesContent":["//create a schema that represent  our model of The users\n\nimport mongoose from \"mongoose\";\n\nconst userSchema = new mongoose.Schema(\n  {\n    name: {\n      type: String,\n      required: true,\n      min: 3,\n      max: 30,\n    },\n    email: {\n      type: String,\n      required: true,\n      min: 3,\n      max: 30,\n    },\n    password: {\n      type: String,\n      required: true,\n      min: 3,\n      max: 30,\n    },\n    date: {\n      type: Date,\n      default: Date.now,\n    },\n  },\n  {\n    timestamps: true,\n  }\n);\n\nconst User = mongoose.model(\"User\", userSchema);\n\nexport { User };\n"]}},"mtime":1647162840076},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/swagger/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/swagger/swagger.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.swaggerOptions = void 0;\nconst swaggerOptions = {\n  definition: {\n    openapi: \"3.0.0\",\n    info: {\n      title: \"Capstone Project;\",\n      description: \"This is a backend APIs for Capstone project\",\n      version: \"1.0.0\",\n      contact: {\n        name: \"MUHETO Hodal\",\n        email: \"mhthodol@gmail.com\",\n        url: \"https://www.linkedin.com/in/muheto-hodal-23311a211/\"\n      }\n    },\n    servers: [{\n      url: \"http://localhost:9000\",\n      name: \"Local server\"\n    }]\n  },\n  apis: [\"./routes/*.js\"]\n};\nexports.swaggerOptions = swaggerOptions;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN3YWdnZXIuanMiXSwibmFtZXMiOlsic3dhZ2dlck9wdGlvbnMiLCJkZWZpbml0aW9uIiwib3BlbmFwaSIsImluZm8iLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidmVyc2lvbiIsImNvbnRhY3QiLCJuYW1lIiwiZW1haWwiLCJ1cmwiLCJzZXJ2ZXJzIiwiYXBpcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTUEsY0FBYyxHQUFHO0FBQzFCQyxFQUFBQSxVQUFVLEVBQUU7QUFDVkMsSUFBQUEsT0FBTyxFQUFFLE9BREM7QUFFVkMsSUFBQUEsSUFBSSxFQUFFO0FBQ0pDLE1BQUFBLEtBQUssRUFBRSxtQkFESDtBQUVKQyxNQUFBQSxXQUFXLEVBQUUsNkNBRlQ7QUFHSkMsTUFBQUEsT0FBTyxFQUFFLE9BSEw7QUFJSkMsTUFBQUEsT0FBTyxFQUFFO0FBQ1BDLFFBQUFBLElBQUksRUFBRSxjQURDO0FBRVBDLFFBQUFBLEtBQUssRUFBRSxvQkFGQTtBQUdQQyxRQUFBQSxHQUFHLEVBQUU7QUFIRTtBQUpMLEtBRkk7QUFZVkMsSUFBQUEsT0FBTyxFQUFFLENBQ1A7QUFDRUQsTUFBQUEsR0FBRyxFQUFFLHVCQURQO0FBRUVGLE1BQUFBLElBQUksRUFBRTtBQUZSLEtBRE87QUFaQyxHQURjO0FBb0IxQkksRUFBQUEsSUFBSSxFQUFFLENBQUMsZUFBRDtBQXBCb0IsQ0FBdkIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FuZGVsYXJ3YW5kYS9Eb2N1bWVudHMvbXlicmFuZC9zd2FnZ2VyLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBzd2FnZ2VyT3B0aW9ucyA9IHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICBvcGVuYXBpOiBcIjMuMC4wXCIsXG4gICAgICBpbmZvOiB7XG4gICAgICAgIHRpdGxlOiBcIkNhcHN0b25lIFByb2plY3Q7XCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlRoaXMgaXMgYSBiYWNrZW5kIEFQSXMgZm9yIENhcHN0b25lIHByb2plY3RcIixcbiAgICAgICAgdmVyc2lvbjogXCIxLjAuMFwiLFxuICAgICAgICBjb250YWN0OiB7XG4gICAgICAgICAgbmFtZTogXCJNVUhFVE8gSG9kYWxcIixcbiAgICAgICAgICBlbWFpbDogXCJtaHRob2RvbEBnbWFpbC5jb21cIixcbiAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL2luL211aGV0by1ob2RhbC0yMzMxMWEyMTEvXCIsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgc2VydmVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgdXJsOiBcImh0dHA6Ly9sb2NhbGhvc3Q6OTAwMFwiLFxuICAgICAgICAgIG5hbWU6IFwiTG9jYWwgc2VydmVyXCIsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAgYXBpczogW1wiLi9yb3V0ZXMvKi5qc1wiXSxcbiAgfTsiXX0=","map":{"version":3,"sources":["swagger.js"],"names":["swaggerOptions","definition","openapi","info","title","description","version","contact","name","email","url","servers","apis"],"mappings":";;;;;;AAAO,MAAMA,cAAc,GAAG;AAC1BC,EAAAA,UAAU,EAAE;AACVC,IAAAA,OAAO,EAAE,OADC;AAEVC,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE,mBADH;AAEJC,MAAAA,WAAW,EAAE,6CAFT;AAGJC,MAAAA,OAAO,EAAE,OAHL;AAIJC,MAAAA,OAAO,EAAE;AACPC,QAAAA,IAAI,EAAE,cADC;AAEPC,QAAAA,KAAK,EAAE,oBAFA;AAGPC,QAAAA,GAAG,EAAE;AAHE;AAJL,KAFI;AAYVC,IAAAA,OAAO,EAAE,CACP;AACED,MAAAA,GAAG,EAAE,uBADP;AAEEF,MAAAA,IAAI,EAAE;AAFR,KADO;AAZC,GADc;AAoB1BI,EAAAA,IAAI,EAAE,CAAC,eAAD;AApBoB,CAAvB","sourceRoot":"/Users/andelarwanda/Documents/mybrand/swagger/","sourcesContent":["export const swaggerOptions = {\n    definition: {\n      openapi: \"3.0.0\",\n      info: {\n        title: \"Capstone Project;\",\n        description: \"This is a backend APIs for Capstone project\",\n        version: \"1.0.0\",\n        contact: {\n          name: \"MUHETO Hodal\",\n          email: \"mhthodol@gmail.com\",\n          url: \"https://www.linkedin.com/in/muheto-hodal-23311a211/\",\n        },\n      },\n      servers: [\n        {\n          url: \"http://localhost:9000\",\n          name: \"Local server\",\n        },\n      ],\n    },\n    apis: [\"./routes/*.js\"],\n  };"]}},"mtime":1648466682321},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/routes/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _article = _interopRequireDefault(require(\"./api/article.route\"));\n\nvar _blogRoutes = require(\"./api/blogRoutes.js\");\n\nvar _auth = require(\"./api/auth\");\n\nvar _contactRoute = require(\"./api/contactRoute.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst routes = _express.default.Router();\n\nroutes.use('/users', _article.default);\nroutes.use('/blogs', _contactRoute.router); // routes.use('/contacts',auth);\n\nroutes.use('/articles', _blogRoutes.router);\nvar _default = routes;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInJvdXRlcyIsImV4cHJlc3MiLCJSb3V0ZXIiLCJ1c2UiLCJhcnRpY2xlcyIsImNvbnRhY3QiLCJibG9nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxNQUFNLEdBQUNDLGlCQUFRQyxNQUFSLEVBQWI7O0FBQ0FGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFFBQVgsRUFBb0JDLGdCQUFwQjtBQUNBSixNQUFNLENBQUNHLEdBQVAsQ0FBVyxRQUFYLEVBQW9CRSxvQkFBcEIsRSxDQUNBOztBQUNBTCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxXQUFYLEVBQXVCRyxrQkFBdkI7ZUFFZU4sTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW5kZWxhcndhbmRhL0RvY3VtZW50cy9teWJyYW5kL3NyYy9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBhcnRpY2xlcyBmcm9tIFwiLi9hcGkvYXJ0aWNsZS5yb3V0ZVwiO1xuaW1wb3J0IHsgcm91dGVyIGFzIGJsb2cgfSBmcm9tIFwiLi9hcGkvYmxvZ1JvdXRlcy5qc1wiO1xuaW1wb3J0IHsgcm91dGVyIGFzIGF1dGggfSBmcm9tIFwiLi9hcGkvYXV0aFwiXG5pbXBvcnQgeyByb3V0ZXIgYXMgY29udGFjdCB9IGZyb20gXCIuL2FwaS9jb250YWN0Um91dGUuanNcIjtcblxuY29uc3Qgcm91dGVzPWV4cHJlc3MuUm91dGVyKCk7XG5yb3V0ZXMudXNlKCcvdXNlcnMnLGFydGljbGVzKTtcbnJvdXRlcy51c2UoJy9ibG9ncycsY29udGFjdCk7XG4vLyByb3V0ZXMudXNlKCcvY29udGFjdHMnLGF1dGgpO1xucm91dGVzLnVzZSgnL2FydGljbGVzJyxibG9nKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVzOyJdfQ==","map":{"version":3,"sources":["index.js"],"names":["routes","express","Router","use","articles","contact","blog"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAACC,iBAAQC,MAAR,EAAb;;AACAF,MAAM,CAACG,GAAP,CAAW,QAAX,EAAoBC,gBAApB;AACAJ,MAAM,CAACG,GAAP,CAAW,QAAX,EAAoBE,oBAApB,E,CACA;;AACAL,MAAM,CAACG,GAAP,CAAW,WAAX,EAAuBG,kBAAvB;eAEeN,M","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/routes/","sourcesContent":["import express from \"express\";\nimport articles from \"./api/article.route\";\nimport { router as blog } from \"./api/blogRoutes.js\";\nimport { router as auth } from \"./api/auth\"\nimport { router as contact } from \"./api/contactRoute.js\";\n\nconst routes=express.Router();\nroutes.use('/users',articles);\nroutes.use('/blogs',contact);\n// routes.use('/contacts',auth);\nroutes.use('/articles',blog);\n\nexport default routes;"]}},"mtime":1648480974940},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/routes/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/routes/api/article.route.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _article = require(\"../../controller/article.controller\");\n\nvar _verifyToken = require(\"./verifyToken.js\");\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** @format */\nconst router = _express.default.Router();\n\nconst storage = _multer.default.diskStorage({});\n\nconst fileFilter = (req, file, cb) => {\n  if (file.mimetype.startsWith(\"image\")) {\n    cb(null, true);\n  } else {\n    cb(\"invalid image file!\", false);\n  }\n};\n\nconst uploads = (0, _multer.default)({\n  storage,\n  fileFilter\n});\nrouter.post(\"/\", _verifyToken.auth, uploads.single(\"image\"), _article.saveArticle);\nrouter.get(\"/\", _article.getAllArticles);\nrouter.get(\"/:id\", _article.getById);\nrouter.put(\"/:id\", _verifyToken.auth, _article.updateArticle);\nrouter.delete(\"/:id\", _verifyToken.auth, _article.deleteArticleById);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydGljbGUucm91dGUuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImZpbGVGaWx0ZXIiLCJyZXEiLCJmaWxlIiwiY2IiLCJtaW1ldHlwZSIsInN0YXJ0c1dpdGgiLCJ1cGxvYWRzIiwicG9zdCIsInZlcmlmeSIsInNpbmdsZSIsInNhdmVBcnRpY2xlIiwiZ2V0IiwiZ2V0QWxsQXJ0aWNsZXMiLCJnZXRCeUlkIiwicHV0IiwidXBkYXRlQXJ0aWNsZSIsImRlbGV0ZSIsImRlbGV0ZUFydGljbGVCeUlkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUE7O0FBQ0E7O0FBT0E7O0FBQ0E7Ozs7QUFYQTtBQWFBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQSxNQUFNQyxPQUFPLEdBQUdDLGdCQUFPQyxXQUFQLENBQW1CLEVBQW5CLENBQWhCOztBQUNBLE1BQU1DLFVBQVUsR0FBRyxDQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBWUMsRUFBWixLQUFtQjtBQUNyQyxNQUFJRCxJQUFJLENBQUNFLFFBQUwsQ0FBY0MsVUFBZCxDQUF5QixPQUF6QixDQUFKLEVBQXVDO0FBQ3RDRixJQUFBQSxFQUFFLENBQUMsSUFBRCxFQUFPLElBQVAsQ0FBRjtBQUNBLEdBRkQsTUFFTztBQUNOQSxJQUFBQSxFQUFFLENBQUMscUJBQUQsRUFBd0IsS0FBeEIsQ0FBRjtBQUNBO0FBQ0QsQ0FORDs7QUFPQSxNQUFNRyxPQUFPLEdBQUcscUJBQU87QUFBRVQsRUFBQUEsT0FBRjtBQUFXRyxFQUFBQTtBQUFYLENBQVAsQ0FBaEI7QUFFQU4sTUFBTSxDQUFDYSxJQUFQLENBQVksR0FBWixFQUFpQkMsaUJBQWpCLEVBQXlCRixPQUFPLENBQUNHLE1BQVIsQ0FBZSxPQUFmLENBQXpCLEVBQWtEQyxvQkFBbEQ7QUFDQWhCLE1BQU0sQ0FBQ2lCLEdBQVAsQ0FBVyxHQUFYLEVBQWdCQyx1QkFBaEI7QUFDQWxCLE1BQU0sQ0FBQ2lCLEdBQVAsQ0FBVyxNQUFYLEVBQW1CRSxnQkFBbkI7QUFDQW5CLE1BQU0sQ0FBQ29CLEdBQVAsQ0FBVyxNQUFYLEVBQW1CTixpQkFBbkIsRUFBMkJPLHNCQUEzQjtBQUNBckIsTUFBTSxDQUFDc0IsTUFBUCxDQUFjLE1BQWQsRUFBc0JSLGlCQUF0QixFQUE4QlMsMEJBQTlCO2VBRWV2QixNIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbmRlbGFyd2FuZGEvRG9jdW1lbnRzL215YnJhbmQvc3JjL3JvdXRlcy9hcGkvIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBmb3JtYXQgKi9cblxuaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCB7XG5cdGRlbGV0ZUFydGljbGVCeUlkLFxuXHRnZXRBbGxBcnRpY2xlcyxcblx0Z2V0QnlJZCxcblx0c2F2ZUFydGljbGUsXG5cdHVwZGF0ZUFydGljbGUsXG59IGZyb20gXCIuLi8uLi9jb250cm9sbGVyL2FydGljbGUuY29udHJvbGxlclwiO1xuaW1wb3J0IHsgYXV0aCBhcyB2ZXJpZnkgfSBmcm9tIFwiLi92ZXJpZnlUb2tlbi5qc1wiO1xuaW1wb3J0IG11bHRlciBmcm9tIFwibXVsdGVyXCI7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe30pO1xuY29uc3QgZmlsZUZpbHRlciA9IChyZXEsIGZpbGUsIGNiKSA9PiB7XG5cdGlmIChmaWxlLm1pbWV0eXBlLnN0YXJ0c1dpdGgoXCJpbWFnZVwiKSkge1xuXHRcdGNiKG51bGwsIHRydWUpO1xuXHR9IGVsc2Uge1xuXHRcdGNiKFwiaW52YWxpZCBpbWFnZSBmaWxlIVwiLCBmYWxzZSk7XG5cdH1cbn07XG5jb25zdCB1cGxvYWRzID0gbXVsdGVyKHsgc3RvcmFnZSwgZmlsZUZpbHRlciB9KTtcblxucm91dGVyLnBvc3QoXCIvXCIsIHZlcmlmeSwgdXBsb2Fkcy5zaW5nbGUoXCJpbWFnZVwiKSwgc2F2ZUFydGljbGUpO1xucm91dGVyLmdldChcIi9cIiwgZ2V0QWxsQXJ0aWNsZXMpO1xucm91dGVyLmdldChcIi86aWRcIiwgZ2V0QnlJZCk7XG5yb3V0ZXIucHV0KFwiLzppZFwiLCB2ZXJpZnksIHVwZGF0ZUFydGljbGUpO1xucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgdmVyaWZ5LCBkZWxldGVBcnRpY2xlQnlJZCk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdfQ==","map":{"version":3,"sources":["article.route.js"],"names":["router","express","Router","storage","multer","diskStorage","fileFilter","req","file","cb","mimetype","startsWith","uploads","post","verify","single","saveArticle","get","getAllArticles","getById","put","updateArticle","delete","deleteArticleById"],"mappings":";;;;;;;AAEA;;AACA;;AAOA;;AACA;;;;AAXA;AAaA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEA,MAAMC,OAAO,GAAGC,gBAAOC,WAAP,CAAmB,EAAnB,CAAhB;;AACA,MAAMC,UAAU,GAAG,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,KAAmB;AACrC,MAAID,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAyB,OAAzB,CAAJ,EAAuC;AACtCF,IAAAA,EAAE,CAAC,IAAD,EAAO,IAAP,CAAF;AACA,GAFD,MAEO;AACNA,IAAAA,EAAE,CAAC,qBAAD,EAAwB,KAAxB,CAAF;AACA;AACD,CAND;;AAOA,MAAMG,OAAO,GAAG,qBAAO;AAAET,EAAAA,OAAF;AAAWG,EAAAA;AAAX,CAAP,CAAhB;AAEAN,MAAM,CAACa,IAAP,CAAY,GAAZ,EAAiBC,iBAAjB,EAAyBF,OAAO,CAACG,MAAR,CAAe,OAAf,CAAzB,EAAkDC,oBAAlD;AACAhB,MAAM,CAACiB,GAAP,CAAW,GAAX,EAAgBC,uBAAhB;AACAlB,MAAM,CAACiB,GAAP,CAAW,MAAX,EAAmBE,gBAAnB;AACAnB,MAAM,CAACoB,GAAP,CAAW,MAAX,EAAmBN,iBAAnB,EAA2BO,sBAA3B;AACArB,MAAM,CAACsB,MAAP,CAAc,MAAd,EAAsBR,iBAAtB,EAA8BS,0BAA9B;eAEevB,M","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/routes/api/","sourcesContent":["/** @format */\n\nimport express from \"express\";\nimport {\n\tdeleteArticleById,\n\tgetAllArticles,\n\tgetById,\n\tsaveArticle,\n\tupdateArticle,\n} from \"../../controller/article.controller\";\nimport { auth as verify } from \"./verifyToken.js\";\nimport multer from \"multer\";\n\nconst router = express.Router();\n\nconst storage = multer.diskStorage({});\nconst fileFilter = (req, file, cb) => {\n\tif (file.mimetype.startsWith(\"image\")) {\n\t\tcb(null, true);\n\t} else {\n\t\tcb(\"invalid image file!\", false);\n\t}\n};\nconst uploads = multer({ storage, fileFilter });\n\nrouter.post(\"/\", verify, uploads.single(\"image\"), saveArticle);\nrouter.get(\"/\", getAllArticles);\nrouter.get(\"/:id\", getById);\nrouter.put(\"/:id\", verify, updateArticle);\nrouter.delete(\"/:id\", verify, deleteArticleById);\n\nexport default router;\n"]}},"mtime":1648468547422},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/controller/article.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateArticle = exports.saveArticle = exports.getById = exports.getAllArticles = exports.deleteArticleById = void 0;\n\nvar _article = _interopRequireDefault(require(\"../models/article.model\"));\n\nvar _multer = require(\"../helper/multer\");\n\nvar _validation = require(\"../validation/validation\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** @format */\nconst saveArticle = async (req, res, next) => {\n  const {\n    error\n  } = (0, _validation.articleValidation)(req.body);\n  if (error) return res.status(400).json({\n    message: error.details[0].message\n  });\n\n  if (req.file) {\n    req.body.image = await (0, _multer.fileUpload)(req);\n  } else {\n    req.body.image = \"https://images.app.goo.gl/KSrkEVNSfxm96ckT9\";\n  }\n\n  const article = {\n    cover: req.body.image,\n    title: req.body.title,\n    slug: req.body.content,\n    author: req.body.author,\n    content: req.body.author,\n    status: false\n  };\n  const newArticle = new _article.default(article);\n  await newArticle.save();\n  res.status(201).json({\n    success: true,\n    data: newArticle\n  });\n};\n\nexports.saveArticle = saveArticle;\n\nconst getAllArticles = async (req, res) => {\n  const articles = await _article.default.find();\n  res.status(200).json({\n    success: true,\n    data: articles\n  });\n};\n\nexports.getAllArticles = getAllArticles;\n\nconst getById = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const article = await _article.default.findById(id);\n  if (!article) return res.status(404).json({\n    success: false,\n    message: \"Article not found\"\n  });\n  res.status(200).json({\n    success: true,\n    data: article\n  });\n};\n\nexports.getById = getById;\n\nconst updateArticle = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const {\n    error\n  } = (0, _validation.articleValidation)(req.body);\n  if (error) return res.status(400).json({\n    message: error.details[0].message\n  });\n  const updates = req.body;\n  const article = await _article.default.findById(id);\n  if (!article) return res.status(404).json({\n    success: false,\n    message: \"Article not found\"\n  });\n  await _article.default.findByIdAndUpdate(id, updates);\n  res.status(200).json({\n    success: true,\n    message: \"Article updated successfully\"\n  });\n};\n\nexports.updateArticle = updateArticle;\n\nconst deleteArticleById = async (req, res) => {\n  const id = req.params.id;\n  const article = await _article.default.findById(id);\n  if (!article) return res.status(404).json({\n    success: 404,\n    message: \"Article not found\"\n  }); //await Article.findByIdAndDelete(id);\n\n  const articleDelete = await _article.default.findByIdAndDelete(id);\n  res.status(200).json({\n    success: 200,\n    message: \"Article deleted\"\n  }); //return res.status(500).json({status: 500, message: \"Internal server error!\" });\n};\n\nexports.deleteArticleById = deleteArticleById;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydGljbGUuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJzYXZlQXJ0aWNsZSIsInJlcSIsInJlcyIsIm5leHQiLCJlcnJvciIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImRldGFpbHMiLCJmaWxlIiwiaW1hZ2UiLCJhcnRpY2xlIiwiY292ZXIiLCJ0aXRsZSIsInNsdWciLCJjb250ZW50IiwiYXV0aG9yIiwibmV3QXJ0aWNsZSIsIkFydGljbGUiLCJzYXZlIiwic3VjY2VzcyIsImRhdGEiLCJnZXRBbGxBcnRpY2xlcyIsImFydGljbGVzIiwiZmluZCIsImdldEJ5SWQiLCJpZCIsInBhcmFtcyIsImZpbmRCeUlkIiwidXBkYXRlQXJ0aWNsZSIsInVwZGF0ZXMiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImRlbGV0ZUFydGljbGVCeUlkIiwiYXJ0aWNsZURlbGV0ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUE7O0FBQ0E7O0FBQ0E7Ozs7QUFKQTtBQU1PLE1BQU1BLFdBQVcsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0FBQ3BELFFBQU07QUFBRUMsSUFBQUE7QUFBRixNQUFZLG1DQUFrQkgsR0FBRyxDQUFDSSxJQUF0QixDQUFsQjtBQUNBLE1BQUlELEtBQUosRUFBVyxPQUFPRixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxJQUFBQSxPQUFPLEVBQUVKLEtBQUssQ0FBQ0ssT0FBTixDQUFjLENBQWQsRUFBaUJEO0FBQTVCLEdBQXJCLENBQVA7O0FBQ1gsTUFBSVAsR0FBRyxDQUFDUyxJQUFSLEVBQWM7QUFDYlQsSUFBQUEsR0FBRyxDQUFDSSxJQUFKLENBQVNNLEtBQVQsR0FBaUIsTUFBTSx3QkFBV1YsR0FBWCxDQUF2QjtBQUNBLEdBRkQsTUFFTztBQUNOQSxJQUFBQSxHQUFHLENBQUNJLElBQUosQ0FBU00sS0FBVCxH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QkksT0FBOUIsQ0FBTjtBQUNBN0IsRUFBQUEsR0FBRyxDQUNESSxNQURGLENBQ1MsR0FEVCxFQUVFQyxJQUZGLENBRU87QUFBRWMsSUFBQUEsT0FBTyxFQUFFLElBQVg7QUFBaUJiLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQUZQO0FBR0EsQ0FoQk07Ozs7QUFrQkEsTUFBTXlCLGlCQUFpQixHQUFHLE9BQU9oQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDcEQsUUFBTXlCLEVBQUUsR0FBRzFCLEdBQUcsQ0FBQzJCLE1BQUosQ0FBV0QsRUFBdEI7QUFDQSxRQUFNZixPQUFPLEdBQUcsTUFBTU8saUJBQVFVLFFBQVIsQ0FBaUJGLEVBQWpCLENBQXRCO0FBQ0EsTUFBSSxDQUFDZixPQUFMLEVBQ0MsT0FBT1YsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRWMsSUFBQUEsT0FBTyxFQUFFLEdBQVg7QUFBZ0JiLElBQUFBLE9BQU8sRUFBRTtBQUF6QixHQUFyQixDQUFQLENBSm1ELENBS3BEOztBQUNBLFFBQU0wQixhQUFhLEdBQUcsTUFBTWYsaUJBQVFnQixpQkFBUixDQUEwQlIsRUFBMUIsQ0FBNUI7QUFDQXpCLEVBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVjLElBQUFBLE9BQU8sRUFBRSxHQUFYO0FBQWdCYixJQUFBQSxPQUFPLEVBQUU7QUFBekIsR0FBckIsRUFQb0QsQ0FTcEQ7QUFFQSxDQVhNIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbmRlbGFyd2FuZGEvRG9jdW1lbnRzL215YnJhbmQvc3JjL2NvbnRyb2xsZXIvIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBmb3JtYXQgKi9cblxuaW1wb3J0IEFydGljbGUgZnJvbSBcIi4uL21vZGVscy9hcnRpY2xlLm1vZGVsXCI7XG5pbXBvcnQgeyBmaWxlVXBsb2FkIH0gZnJvbSBcIi4uL2hlbHBlci9tdWx0ZXJcIjtcbmltcG9ydCB7IGFydGljbGVWYWxpZGF0aW9uIH0gZnJvbSBcIi4uL3ZhbGlkYXRpb24vdmFsaWRhdGlvblwiO1xuXG5leHBvcnQgY29uc3Qgc2F2ZUFydGljbGUgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcblx0Y29uc3QgeyBlcnJvciB9ID0gYXJ0aWNsZVZhbGlkYXRpb24ocmVxLmJvZHkpO1xuXHRpZiAoZXJyb3IpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IGVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSB9KTtcblx0aWYgKHJlcS5maWxlKSB7XG5cdFx0cmVxLmJvZHkuaW1hZ2UgPSBhd2FpdCBmaWxlVXBsb2FkKHJlcSk7XG5cdH0gZWxzZSB7XG5cdFx0cmVxLmJvZHkuaW1hZ2UgPVxuXHRcdFx0XCJodHRwczovL2ltYWdlcy5hcHAuZ29vLmdsL0tTcmtFVk5TZnhtOTZja1Q5XCI7XG5cdH1cblx0Y29uc3QgYXJ0aWNsZSA9IHtcblx0XHRjb3ZlcjogcmVxLmJvZHkuaW1hZ2UsXG5cdFx0dGl0bGU6IHJlcS5ib2R5LnRpdGxlLFxuXHRcdHNsdWc6IHJlcS5ib2R5LmNvbnRlbnQsXG5cdFx0YXV0aG9yOiByZXEuYm9keS5hdXRob3IsXG5cdFx0Y29udGVudDogcmVxLmJvZHkuYXV0aG9yLFxuXHRcdHN0YXR1czogZmFsc2UsXG5cdH07XG5cdGNvbnN0IG5ld0FydGljbGUgPSBuZXcgQXJ0aWNsZShhcnRpY2xlKTtcblx0YXdhaXQgbmV3QXJ0aWNsZS5zYXZlKCk7XG5cdHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbmV3QXJ0aWNsZSB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRBbGxBcnRpY2xlcyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuXHRjb25zdCBhcnRpY2xlcyA9IGF3YWl0IEFydGljbGUuZmluZCgpO1xuXHRyZXMuc3RhdHVzKDIwMCkuanNvbih7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGFydGljbGVzIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEJ5SWQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcblx0Y29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcblx0Y29uc3QgYXJ0aWNsZSA9IGF3YWl0IEFydGljbGUuZmluZEJ5SWQoaWQpO1xuXHRpZiAoIWFydGljbGUpXG5cdFx0cmV0dXJuIHJlc1xuXHRcdFx0LnN0YXR1cyg0MDQpXG5cdFx0XHQuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIkFydGljbGUgbm90IGZvdW5kXCIgfSk7XG5cdHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogYXJ0aWNsZSB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVBcnRpY2xlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cdGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG5cblx0Y29uc3QgeyBlcnJvciB9ID0gYXJ0aWNsZVZhbGlkYXRpb24ocmVxLmJvZHkpO1xuXHRpZiAoZXJyb3IpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IGVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSB9KTtcblxuXHRjb25zdCB1cGRhdGVzID0gcmVxLmJvZHk7XG5cdGNvbnN0IGFydGljbGUgPSBhd2FpdCBBcnRpY2xlLmZpbmRCeUlkKGlkKTtcblx0aWYgKCFhcnRpY2xlKVxuXHRcdHJldHVybiByZXNcblx0XHRcdC5zdGF0dXMoNDA0KVxuXHRcdFx0Lmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJBcnRpY2xlIG5vdCBmb3VuZFwiIH0pO1xuXHRhd2FpdCBBcnRpY2xlLmZpbmRCeUlkQW5kVXBkYXRlKGlkLCB1cGRhdGVzKTtcblx0cmVzXG5cdFx0LnN0YXR1cygyMDApXG5cdFx0Lmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiBcIkFydGljbGUgdXBkYXRlZCBzdWNjZXNzZnVsbHlcIiB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVBcnRpY2xlQnlJZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuXHRjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XG5cdGNvbnN0IGFydGljbGUgPSBhd2FpdCBBcnRpY2xlLmZpbmRCeUlkKGlkKTtcblx0aWYgKCFhcnRpY2xlKVxuXHRcdHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IHN1Y2Nlc3M6IDQwNCwgbWVzc2FnZTogXCJBcnRpY2xlIG5vdCBmb3VuZFwiIH0pO1xuXHQvL2F3YWl0IEFydGljbGUuZmluZEJ5SWRBbmREZWxldGUoaWQpO1xuXHRjb25zdCBhcnRpY2xlRGVsZXRlID0gYXdhaXQgQXJ0aWNsZS5maW5kQnlJZEFuZERlbGV0ZShpZCk7XG5cdHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogMjAwLCBtZXNzYWdlOiBcIkFydGljbGUgZGVsZXRlZFwiIH0pO1xuXG5cdC8vcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtzdGF0dXM6IDUwMCwgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3IhXCIgfSk7XG5cbn07XG4gICJdfQ==","map":{"version":3,"sources":["article.controller.js"],"names":["saveArticle","req","res","next","error","body","status","json","message","details","file","image","article","cover","title","slug","content","author","newArticle","Article","save","success","data","getAllArticles","articles","find","getById","id","params","findById","updateArticle","updates","findByIdAndUpdate","deleteArticleById","articleDelete","findByIdAndDelete"],"mappings":"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","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/controller/","sourcesContent":["/** @format */\n\nimport Article from \"../models/article.model\";\nimport { fileUpload } from \"../helper/multer\";\nimport { articleValidation } from \"../validation/validation\";\n\nexport const saveArticle = async (req, res, next) => {\n\tconst { error } = articleValidation(req.body);\n\tif (error) return res.status(400).json({ message: error.details[0].message });\n\tif (req.file) {\n\t\treq.body.image = await fileUpload(req);\n\t} else {\n\t\treq.body.image =\n\t\t\t\"https://images.app.goo.gl/KSrkEVNSfxm96ckT9\";\n\t}\n\tconst article = {\n\t\tcover: req.body.image,\n\t\ttitle: req.body.title,\n\t\tslug: req.body.content,\n\t\tauthor: req.body.author,\n\t\tcontent: req.body.author,\n\t\tstatus: false,\n\t};\n\tconst newArticle = new Article(article);\n\tawait newArticle.save();\n\tres.status(201).json({ success: true, data: newArticle });\n};\n\nexport const getAllArticles = async (req, res) => {\n\tconst articles = await Article.find();\n\tres.status(200).json({ success: true, data: articles });\n};\n\nexport const getById = async (req, res) => {\n\tconst { id } = req.params;\n\tconst article = await Article.findById(id);\n\tif (!article)\n\t\treturn res\n\t\t\t.status(404)\n\t\t\t.json({ success: false, message: \"Article not found\" });\n\tres.status(200).json({ success: true, data: article });\n};\n\nexport const updateArticle = async (req, res) => {\n\tconst { id } = req.params;\n\n\tconst { error } = articleValidation(req.body);\n\tif (error) return res.status(400).json({ message: error.details[0].message });\n\n\tconst updates = req.body;\n\tconst article = await Article.findById(id);\n\tif (!article)\n\t\treturn res\n\t\t\t.status(404)\n\t\t\t.json({ success: false, message: \"Article not found\" });\n\tawait Article.findByIdAndUpdate(id, updates);\n\tres\n\t\t.status(200)\n\t\t.json({ success: true, message: \"Article updated successfully\" });\n};\n\nexport const deleteArticleById = async (req, res) => {\n\tconst id = req.params.id;\n\tconst article = await Article.findById(id);\n\tif (!article)\n\t\treturn res.status(404).json({ success: 404, message: \"Article not found\" });\n\t//await Article.findByIdAndDelete(id);\n\tconst articleDelete = await Article.findByIdAndDelete(id);\n\tres.status(200).json({ success: 200, message: \"Article deleted\" });\n\n\t//return res.status(500).json({status: 500, message: \"Internal server error!\" });\n\n};\n  "]}},"mtime":1648464787962},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/models/article.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** @format */\nconst ArticleSchema = new _mongoose.default.Schema({\n  title: {\n    type: String,\n    required: true\n  },\n  author: {\n    type: String,\n    required: true\n  },\n  content: {\n    type: String,\n    required: true\n  },\n  cover: {\n    type: String\n  },\n  createdAt: {\n    type: Date,\n    default: new Date()\n  },\n  comments: [{\n    type: String,\n    ref: \"Comment\"\n  }]\n});\n\nconst Article = _mongoose.default.model(\"Article\", ArticleSchema);\n\nvar _default = Article;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydGljbGUubW9kZWwuanMiXSwibmFtZXMiOlsiQXJ0aWNsZVNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJhdXRob3IiLCJjb250ZW50IiwiY292ZXIiLCJjcmVhdGVkQXQiLCJEYXRlIiwiZGVmYXVsdCIsImNvbW1lbnRzIiwicmVmIiwiQXJ0aWNsZSIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUE7Ozs7QUFGQTtBQUlBLE1BQU1BLGFBQWEsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUFvQjtBQUN6Q0MsRUFBQUEsS0FBSyxFQUFFO0FBQ05DLElBQUFBLElBQUksRUFBRUMsTUFEQTtBQUVOQyxJQUFBQSxRQUFRLEVBQUU7QUFGSixHQURrQztBQUt6Q0MsRUFBQUEsTUFBTSxFQUFFO0FBQ1BILElBQUFBLElBQUksRUFBRUMsTUFEQztBQUVQQyxJQUFBQSxRQUFRLEVBQUU7QUFGSCxHQUxpQztBQVN6Q0UsRUFBQUEsT0FBTyxFQUFFO0FBQ1JKLElBQUFBLElBQUksRUFBRUMsTUFERTtBQUVSQyxJQUFBQSxRQUFRLEVBQUU7QUFGRixHQVRnQztBQWF6Q0csRUFBQUEsS0FBSyxFQUFFO0FBQ05MLElBQUFBLElBQUksRUFBRUM7QUFEQSxHQWJrQztBQWdCekNLLEVBQUFBLFNBQVMsRUFBRTtBQUNWTixJQUFBQSxJQUFJLEVBQUVPLElBREk7QUFFVkMsSUFBQUEsT0FBTyxFQUFFLElBQUlELElBQUo7QUFGQyxHQWhCOEI7QUFvQnpDRSxFQUFBQSxRQUFRLEVBQUUsQ0FDVDtBQUNDVCxJQUFBQSxJQUFJLEVBQUNDLE1BRE47QUFFQ1MsSUFBQUEsR0FBRyxFQUFFO0FBRk4sR0FEUztBQXBCK0IsQ0FBcEIsQ0FBdEI7O0FBMkJBLE1BQU1DLE9BQU8sR0FBR2Qsa0JBQVNlLEtBQVQsQ0FBZSxTQUFmLEVBQTBCaEIsYUFBMUIsQ0FBaEI7O2VBQ2VlLE8iLCJzb3VyY2VSb290IjoiL1VzZXJzL2FuZGVsYXJ3YW5kYS9Eb2N1bWVudHMvbXlicmFuZC9zcmMvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAZm9ybWF0ICovXG5cbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgQXJ0aWNsZVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuXHR0aXRsZToge1xuXHRcdHR5cGU6IFN0cmluZyxcblx0XHRyZXF1aXJlZDogdHJ1ZSxcblx0fSxcblx0YXV0aG9yOiB7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiB0cnVlLFxuXHR9LFxuXHRjb250ZW50OiB7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiB0cnVlLFxuXHR9LFxuXHRjb3Zlcjoge1xuXHRcdHR5cGU6IFN0cmluZyxcblx0fSxcblx0Y3JlYXRlZEF0OiB7XG5cdFx0dHlwZTogRGF0ZSxcblx0XHRkZWZhdWx0OiBuZXcgRGF0ZSgpLFxuXHR9LFxuXHRjb21tZW50czogW1xuXHRcdHtcblx0XHRcdHR5cGU6U3RyaW5nLFxuXHRcdFx0cmVmOiBcIkNvbW1lbnRcIixcblx0XHR9LFxuXHRdLFxufSk7XG5jb25zdCBBcnRpY2xlID0gbW9uZ29vc2UubW9kZWwoXCJBcnRpY2xlXCIsIEFydGljbGVTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgQXJ0aWNsZTtcbiJdfQ==","map":{"version":3,"sources":["article.model.js"],"names":["ArticleSchema","mongoose","Schema","title","type","String","required","author","content","cover","createdAt","Date","default","comments","ref","Article","model"],"mappings":";;;;;;;AAEA;;;;AAFA;AAIA,MAAMA,aAAa,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACzCC,EAAAA,KAAK,EAAE;AACNC,IAAAA,IAAI,EAAEC,MADA;AAENC,IAAAA,QAAQ,EAAE;AAFJ,GADkC;AAKzCC,EAAAA,MAAM,EAAE;AACPH,IAAAA,IAAI,EAAEC,MADC;AAEPC,IAAAA,QAAQ,EAAE;AAFH,GALiC;AASzCE,EAAAA,OAAO,EAAE;AACRJ,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF,GATgC;AAazCG,EAAAA,KAAK,EAAE;AACNL,IAAAA,IAAI,EAAEC;AADA,GAbkC;AAgBzCK,EAAAA,SAAS,EAAE;AACVN,IAAAA,IAAI,EAAEO,IADI;AAEVC,IAAAA,OAAO,EAAE,IAAID,IAAJ;AAFC,GAhB8B;AAoBzCE,EAAAA,QAAQ,EAAE,CACT;AACCT,IAAAA,IAAI,EAACC,MADN;AAECS,IAAAA,GAAG,EAAE;AAFN,GADS;AApB+B,CAApB,CAAtB;;AA2BA,MAAMC,OAAO,GAAGd,kBAASe,KAAT,CAAe,SAAf,EAA0BhB,aAA1B,CAAhB;;eACee,O","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/models/","sourcesContent":["/** @format */\n\nimport mongoose from \"mongoose\";\n\nconst ArticleSchema = new mongoose.Schema({\n\ttitle: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tauthor: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tcontent: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tcover: {\n\t\ttype: String,\n\t},\n\tcreatedAt: {\n\t\ttype: Date,\n\t\tdefault: new Date(),\n\t},\n\tcomments: [\n\t\t{\n\t\t\ttype:String,\n\t\t\tref: \"Comment\",\n\t\t},\n\t],\n});\nconst Article = mongoose.model(\"Article\", ArticleSchema);\nexport default Article;\n"]}},"mtime":1648207687269},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/routes/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/routes/api/contactRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"prod\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:prod":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.router = void 0;\n\nvar _express = require(\"express\");\n\nvar _verifyToken = require(\"./verifyToken.js\");\n\nvar _contactController = require(\"../../controller/contactController\");\n\nconst router = (0, _express.Router)();\n/**\n * @openapi\n * tags:\n *  name: Contact\n */\n\n/**\n * @swagger\n * components:\n *  schemas:\n *    Contact:\n *      type: object\n *      required:\n *        - name\n *        - email\n *        - message\n *      properties:\n *        name:\n *          type: string\n *          description: Every message should have a name for sender\n *        email:\n *          type: string\n *          description: Every message should have an email for sender\n *        message:\n *          type: string\n *          description: content should be included to be sent\n *      example:\n *        name: your name\n *        email: me@gmail.com\n *        message: your message\n */\n\n/**\n * @swagger\n * /api/v1/contacts:\n *  get:\n *    summary: This route returns a list of messages\n *    responses:\n *      200:\n *        description: Success\n *      204:\n *        description: No content found\n *      500:\n *        description: Internal server error\n *        content:\n *          application/json:\n *            schema:\n *              type: array\n *              items:\n *                $ref: '#/components/schemas/Contact'\n */\n//!!get All messages\n\nexports.router = router;\nrouter.get(\"/\", _contactController.allMessage);\n/**\n * @swagger\n * /api/v1/contacts/contactUs:\n *  post:\n *    summary: a user can send a question or comment\n *    description: both name, email and message must be filled\n *    tags:\n *      - Contact\n *    requestBody:\n *      required: true\n *      content:\n *        application/json:\n *          schema:\n *            $ref: '#/components/schemas/Contact'\n *    responses:\n *      200:\n *        description: Successfully Sent\n *        content:\n *          application/json:\n *            schema:\n *              $ref: '#/components/schemas/Contact'\n *      400:\n *        description: Invalid user input!\n *      500:\n *        description: Internal server error!\n */\n//!!Posting new message\n\nrouter.post(\"/contactUs\", _contactController.createMessage);\n/**\n * @swagger\n * /api/v1/contacts/{id}:\n *  get:\n *    summary: This route returns the details of a specfic message\n *    description: The response should be formated in Json object\n *    tags:\n *      - Contact\n *    parameters:\n *      - in: id\n *        name: id\n *        required: true\n *        description: This should be a valid message Id\n *    responses:\n *      200:\n *        description: a Message Found\n *        content:\n *          application/json:\n *            schema:\n *              $ref: '#/components/schemas/Contact'\n *      404:\n *        description: Not found!\n *      500:\n *        description: Internal Server Error\n */\n//!!get one message\n\nrouter.get(\"/:id\", _contactController.messageDetails);\n/**\n * @swagger\n * /api/v1/contacts/{id}:\n *  delete:\n *    security:\n *      - Token: []\n *    summary: This route Allow user to delete an existing message\n *    description: a Token is required to Delete a message\n *    tags:\n *      - Contact\n *    parameters:\n *      - in: path\n *        name: id\n *        required: true\n *        description: you have to provide a valid message Id\n *        schema:\n *          $ref: '#/components/schemas/Contact'\n *    responses:\n *      200:\n *        description: a message Deleted\n *      204:\n *        description: Message not found\n *      401:\n *        description: Access denied!\n */\n//!!Delete a Message\n\nrouter.delete(\"/:id\", _verifyToken.auth, _contactController.deleteMessage);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhY3RSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJnZXQiLCJhbGxNZXNzYWdlIiwicG9zdCIsImNyZWF0ZU1lc3NhZ2UiLCJtZXNzYWdlRGV0YWlscyIsImRlbGV0ZSIsImF1dGgiLCJkZWxldGVNZXNzYWdlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7O0FBRUE7O0FBT0EsTUFBTUEsTUFBTSxHQUFHLHNCQUFmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFDQUEsTUFBTSxDQUFDQyxHQUFQLENBQVcsR0FBWCxFQUFnQkMsNkJBQWhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxZQUFaLEVBQTBCQyxnQ0FBMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBSixNQUFNLENBQUNDLEdBQVAsQ0FBVyxNQUFYLEVBQW1CSSxpQ0FBbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBTCxNQUFNLENBQUNNLE1BQVAsQ0FBYyxNQUFkLEVBQXNCQyxpQkFBdEIsRUFBNEJDLGdDQUE1QiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW5kZWxhcndhbmRhL0RvY3VtZW50cy9teWJyYW5kL3NyYy9yb3V0ZXMvYXBpLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gXCJleHByZXNzXCI7XG5cbmltcG9ydCB7IGF1dGggfSBmcm9tIFwiLi92ZXJpZnlUb2tlbi5qc1wiO1xuXG5pbXBvcnQge1xuICBhbGxNZXNzYWdlLFxuICBjcmVhdGVNZXNzYWdlLFxuICBtZXNzYWdlRGV0YWlscyxcbiAgZGVsZXRlTWVzc2FnZSxcbn0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXIvY29udGFjdENvbnRyb2xsZXJcIjtcblxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XG4vKipcbiAqIEBvcGVuYXBpXG4gKiB0YWdzOlxuICogIG5hbWU6IENvbnRhY3RcbiAqL1xuXG4vKipcbiAqIEBzd2FnZ2VyXG4gKiBjb21wb25lbnRzOlxuICogIHNjaGVtYXM6XG4gKiAgICBDb250YWN0OlxuICogICAgICB0eXBlOiBvYmplY3RcbiAqICAgICAgcmVxdWlyZWQ6XG4gKiAgICAgICAgLSBuYW1lXG4gKiAgICAgICAgLSBlbWFpbFxuICogICAgICAgIC0gbWVzc2FnZVxuICogICAgICBwcm9wZXJ0aWVzOlxuICogICAgICAgIG5hbWU6XG4gKiAgICAgICAgICB0eXBlOiBzdHJpbmdcbiAqICAgICAgICAgIGRlc2NyaXB0aW9uOiBFdmVyeSBtZXNzYWdlIHNob3VsZCBoYXZlIGEgbmFtZSBmb3Igc2VuZGVyXG4gKiAgICAgICAgZW1haWw6XG4gKiAgICAgICAgICB0eXBlOiBzdHJpbmdcbiAqICAgICAgICAgIGRlc2NyaXB0aW9uOiBFdmVyeSBtZXNzYWdlIHNob3VsZCBoYXZlIGFuIGVtYWlsIGZvciBzZW5kZXJcbiAqICAgICAgICBtZXNzYWdlOlxuICogICAgICAgICAgdHlwZTogc3RyaW5nXG4gKiAgICAgICAgICBkZXNjcmlwdGlvbjogY29udGVudCBzaG91bGQgYmUgaW5jbHVkZWQgdG8gYmUgc2VudFxuICogICAgICBleGFtcGxlOlxuICogICAgICAgIG5hbWU6IHlvdXIgbmFtZVxuICogICAgICAgIGVtYWlsOiBtZUBnbWFpbC5jb21cbiAqICAgICAgICBtZXNzYWdlOiB5b3VyIG1lc3NhZ2VcbiAqL1xuXG4vKipcbiAqIEBzd2FnZ2VyXG4gKiAvYXBpL3YxL2NvbnRhY3RzOlxuICogIGdldDpcbiAqICAgIHN1bW1hcnk6IFRoaXMgcm91dGUgcmV0dXJucyBhIGxpc3Qgb2YgbWVzc2FnZXNcbiAqICAgIHJlc3BvbnNlczpcbiAqICAgICAgMjAwOlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBTdWNjZXNzXG4gKiAgICAgIDIwNDpcbiAqICAgICAgICBkZXNjcmlwdGlvbjogTm8gY29udGVudCBmb3VuZFxuICogICAgICA1MDA6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IEludGVybmFsIHNlcnZlciBlcnJvclxuICogICAgICAgIGNvbnRlbnQ6XG4gKiAgICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICogICAgICAgICAgICBzY2hlbWE6XG4gKiAgICAgICAgICAgICAgdHlwZTogYXJyYXlcbiAqICAgICAgICAgICAgICBpdGVtczpcbiAqICAgICAgICAgICAgICAgICRyZWY6ICcjL2NvbXBvbmVudHMvc2NoZW1hcy9Db250YWN0J1xuICovXG5cbi8vISFnZXQgQWxsIG1lc3NhZ2VzXG5yb3V0ZXIuZ2V0KFwiL1wiLCBhbGxNZXNzYWdlKTtcbi8qKlxuICogQHN3YWdnZXJcbiAqIC9hcGkvdjEvY29udGFjdHMvY29udGFjdFVzOlxuICogIHBvc3Q6XG4gKiAgICBzdW1tYXJ5OiBhIHVzZXIgY2FuIHNlbmQgYSBxdWVzdGlvbiBvciBjb21tZW50XG4gKiAgICBkZXNjcmlwdGlvbjogYm90aCBuYW1lLCBlbWFpbCBhbmQgbWVzc2FnZSBtdXN0IGJlIGZpbGxlZFxuICogICAgdGFnczpcbiAqICAgICAgLSBDb250YWN0XG4gKiAgICByZXF1ZXN0Qm9keTpcbiAqICAgICAgcmVxdWlyZWQ6IHRydWVcbiAqICAgICAgY29udGVudDpcbiAqICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICogICAgICAgICAgc2NoZW1hOlxuICogICAgICAgICAgICAkcmVmOiAnIy9jb21wb25lbnRzL3NjaGVtYXMvQ29udGFjdCdcbiAqICAgIHJlc3BvbnNlczpcbiAqICAgICAgMjAwOlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBTdWNjZXNzZnVsbHkgU2VudFxuICogICAgICAgIGNvbnRlbnQ6XG4gKiAgICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICogICAgICAgICAgICBzY2hlbWE6XG4gKiAgICAgICAgICAgICAgJHJlZjogJyMvY29tcG9uZW50cy9zY2hlbWFzL0NvbnRhY3QnXG4gKiAgICAgIDQwMDpcbiAqICAgICAgICBkZXNjcmlwdGlvbjogSW52YWxpZCB1c2VyIGlucHV0IVxuICogICAgICA1MDA6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IEludGVybmFsIHNlcnZlciBlcnJvciFcbiAqL1xuXG4vLyEhUG9zdGluZyBuZXcgbWVzc2FnZVxucm91dGVyLnBvc3QoXCIvY29udGFjdFVzXCIsIGNyZWF0ZU1lc3NhZ2UpO1xuLyoqXG4gKiBAc3dhZ2dlclxuICogL2FwaS92MS9jb250YWN0cy97aWR9OlxuICogIGdldDpcbiAqICAgIHN1bW1hcnk6IFRoaXMgcm91dGUgcmV0dXJucyB0aGUgZGV0YWlscyBvZiBhIHNwZWNmaWMgbWVzc2FnZVxuICogICAgZGVzY3JpcHRpb246IFRoZSByZXNwb25zZSBzaG91bGQgYmUgZm9ybWF0ZWQgaW4gSnNvbiBvYmplY3RcbiAqICAgIHRhZ3M6XG4gKiAgICAgIC0gQ29udGFjdFxuICogICAgcGFyYW1ldGVyczpcbiAqICAgICAgLSBpbjogaWRcbiAqICAgICAgICBuYW1lOiBpZFxuICogICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFRoaXMgc2hvdWxkIGJlIGEgdmFsaWQgbWVzc2FnZSBJZFxuICogICAgcmVzcG9uc2VzOlxuICogICAgICAyMDA6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IGEgTWVzc2FnZSBGb3VuZFxuICogICAgICAgIGNvbnRlbnQ6XG4gKiAgICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICogICAgICAgICAgICBzY2hlbWE6XG4gKiAgICAgICAgICAgICAgJHJlZjogJyMvY29tcG9uZW50cy9zY2hlbWFzL0NvbnRhY3QnXG4gKiAgICAgIDQwNDpcbiAqICAgICAgICBkZXNjcmlwdGlvbjogTm90IGZvdW5kIVxuICogICAgICA1MDA6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IEludGVybmFsIFNlcnZlciBFcnJvclxuICovXG4vLyEhZ2V0IG9uZSBtZXNzYWdlXG5yb3V0ZXIuZ2V0KFwiLzppZFwiLCBtZXNzYWdlRGV0YWlscyk7XG4vKipcbiAqIEBzd2FnZ2VyXG4gKiAvYXBpL3YxL2NvbnRhY3RzL3tpZH06XG4gKiAgZGVsZXRlOlxuICogICAgc2VjdXJpdHk6XG4gKiAgICAgIC0gVG9rZW46IFtdXG4gKiAgICBzdW1tYXJ5OiBUaGlzIHJvdXRlIEFsbG93IHVzZXIgdG8gZGVsZXRlIGFuIGV4aXN0aW5nIG1lc3NhZ2VcbiAqICAgIGRlc2NyaXB0aW9uOiBhIFRva2VuIGlzIHJlcXVpcmVkIHRvIERlbGV0ZSBhIG1lc3NhZ2VcbiAqICAgIHRhZ3M6XG4gKiAgICAgIC0gQ29udGFjdFxuICogICAgcGFyYW1ldGVyczpcbiAqICAgICAgLSBpbjogcGF0aFxuICogICAgICAgIG5hbWU6IGlkXG4gKiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAqICAgICAgICBkZXNjcmlwdGlvbjogeW91IGhhdmUgdG8gcHJvdmlkZSBhIHZhbGlkIG1lc3NhZ2UgSWRcbiAqICAgICAgICBzY2hlbWE6XG4gKiAgICAgICAgICAkcmVmOiAnIy9jb21wb25lbnRzL3NjaGVtYXMvQ29udGFjdCdcbiAqICAgIHJlc3BvbnNlczpcbiAqICAgICAgMjAwOlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBhIG1lc3NhZ2UgRGVsZXRlZFxuICogICAgICAyMDQ6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IE1lc3NhZ2Ugbm90IGZvdW5kXG4gKiAgICAgIDQwMTpcbiAqICAgICAgICBkZXNjcmlwdGlvbjogQWNjZXNzIGRlbmllZCFcbiAqL1xuLy8hIURlbGV0ZSBhIE1lc3NhZ2VcbnJvdXRlci5kZWxldGUoXCIvOmlkXCIsIGF1dGgsIGRlbGV0ZU1lc3NhZ2UpO1xuXG5leHBvcnQgeyByb3V0ZXIgfTtcbiJdfQ==","map":{"version":3,"sources":["contactRoute.js"],"names":["router","get","allMessage","post","createMessage","messageDetails","delete","auth","deleteMessage"],"mappings":";;;;;;;AAAA;;AAEA;;AAEA;;AAOA,MAAMA,MAAM,GAAG,sBAAf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AACAA,MAAM,CAACC,GAAP,CAAW,GAAX,EAAgBC,6BAAhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACAF,MAAM,CAACG,IAAP,CAAY,YAAZ,EAA0BC,gCAA1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAJ,MAAM,CAACC,GAAP,CAAW,MAAX,EAAmBI,iCAAnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAL,MAAM,CAACM,MAAP,CAAc,MAAd,EAAsBC,iBAAtB,EAA4BC,gCAA5B","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/routes/api/","sourcesContent":["import { Router } from \"express\";\n\nimport { auth } from \"./verifyToken.js\";\n\nimport {\n  allMessage,\n  createMessage,\n  messageDetails,\n  deleteMessage,\n} from \"../../controller/contactController\";\n\nconst router = Router();\n/**\n * @openapi\n * tags:\n *  name: Contact\n */\n\n/**\n * @swagger\n * components:\n *  schemas:\n *    Contact:\n *      type: object\n *      required:\n *        - name\n *        - email\n *        - message\n *      properties:\n *        name:\n *          type: string\n *          description: Every message should have a name for sender\n *        email:\n *          type: string\n *          description: Every message should have an email for sender\n *        message:\n *          type: string\n *          description: content should be included to be sent\n *      example:\n *        name: your name\n *        email: me@gmail.com\n *        message: your message\n */\n\n/**\n * @swagger\n * /api/v1/contacts:\n *  get:\n *    summary: This route returns a list of messages\n *    responses:\n *      200:\n *        description: Success\n *      204:\n *        description: No content found\n *      500:\n *        description: Internal server error\n *        content:\n *          application/json:\n *            schema:\n *              type: array\n *              items:\n *                $ref: '#/components/schemas/Contact'\n */\n\n//!!get All messages\nrouter.get(\"/\", allMessage);\n/**\n * @swagger\n * /api/v1/contacts/contactUs:\n *  post:\n *    summary: a user can send a question or comment\n *    description: both name, email and message must be filled\n *    tags:\n *      - Contact\n *    requestBody:\n *      required: true\n *      content:\n *        application/json:\n *          schema:\n *            $ref: '#/components/schemas/Contact'\n *    responses:\n *      200:\n *        description: Successfully Sent\n *        content:\n *          application/json:\n *            schema:\n *              $ref: '#/components/schemas/Contact'\n *      400:\n *        description: Invalid user input!\n *      500:\n *        description: Internal server error!\n */\n\n//!!Posting new message\nrouter.post(\"/contactUs\", createMessage);\n/**\n * @swagger\n * /api/v1/contacts/{id}:\n *  get:\n *    summary: This route returns the details of a specfic message\n *    description: The response should be formated in Json object\n *    tags:\n *      - Contact\n *    parameters:\n *      - in: id\n *        name: id\n *        required: true\n *        description: This should be a valid message Id\n *    responses:\n *      200:\n *        description: a Message Found\n *        content:\n *          application/json:\n *            schema:\n *              $ref: '#/components/schemas/Contact'\n *      404:\n *        description: Not found!\n *      500:\n *        description: Internal Server Error\n */\n//!!get one message\nrouter.get(\"/:id\", messageDetails);\n/**\n * @swagger\n * /api/v1/contacts/{id}:\n *  delete:\n *    security:\n *      - Token: []\n *    summary: This route Allow user to delete an existing message\n *    description: a Token is required to Delete a message\n *    tags:\n *      - Contact\n *    parameters:\n *      - in: path\n *        name: id\n *        required: true\n *        description: you have to provide a valid message Id\n *        schema:\n *          $ref: '#/components/schemas/Contact'\n *    responses:\n *      200:\n *        description: a message Deleted\n *      204:\n *        description: Message not found\n *      401:\n *        description: Access denied!\n */\n//!!Delete a Message\nrouter.delete(\"/:id\", auth, deleteMessage);\n\nexport { router };\n"]}},"mtime":1648476319590},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/helper/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/helper/multer.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fileUpload = exports.fileFilter = void 0;\n\nvar _cloudinary = _interopRequireDefault(require(\"./cloudinary.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** @format */\nconst fileFilter = (req, file, cb) => {\n  if (file.mimetype.startsWith(\"image\")) {\n    cb(null, true);\n  } else {\n    cb(\"invalid image file!\", false);\n  }\n};\n\nexports.fileFilter = fileFilter;\n\nconst fileUpload = async req => {\n  let imageUrl = \"\";\n  await _cloudinary.default.v2.uploader.upload(req.file.path, async function (err, image) {\n    if (err) {\n      console.log(err);\n    }\n\n    imageUrl = image.url;\n  });\n  return imageUrl;\n};\n\nexports.fileUpload = fileUpload;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm11bHRlci5qcyJdLCJuYW1lcyI6WyJmaWxlRmlsdGVyIiwicmVxIiwiZmlsZSIsImNiIiwibWltZXR5cGUiLCJzdGFydHNXaXRoIiwiZmlsZVVwbG9hZCIsImltYWdlVXJsIiwiY2xvdWRpbmFyeSIsInYyIiwidXBsb2FkZXIiLCJ1cGxvYWQiLCJwYXRoIiwiZXJyIiwiaW1hZ2UiLCJjb25zb2xlIiwibG9nIiwidXJsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7Ozs7QUFEQTtBQUdPLE1BQU1BLFVBQVUsR0FBRyxDQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBWUMsRUFBWixLQUFtQjtBQUM1QyxNQUFJRCxJQUFJLENBQUNFLFFBQUwsQ0FBY0MsVUFBZCxDQUF5QixPQUF6QixDQUFKLEVBQXVDO0FBQ3RDRixJQUFBQSxFQUFFLENBQUMsSUFBRCxFQUFPLElBQVAsQ0FBRjtBQUNBLEdBRkQsTUFFTztBQUNOQSxJQUFBQSxFQUFFLENBQUMscUJBQUQsRUFBd0IsS0FBeEIsQ0FBRjtBQUNBO0FBQ0QsQ0FOTTs7OztBQU9BLE1BQU1HLFVBQVUsR0FBRyxNQUFPTCxHQUFQLElBQWU7QUFDeEMsTUFBSU0sUUFBUSxHQUFHLEVBQWY7QUFDQSxRQUFNQyxvQkFBV0MsRUFBWCxDQUFjQyxRQUFkLENBQXVCQyxNQUF2QixDQUNMVixHQUFHLENBQUNDLElBQUosQ0FBU1UsSUFESixFQUVMLGdCQUFnQkMsR0FBaEIsRUFBcUJDLEtBQXJCLEVBQTRCO0FBQzNCLFFBQUlELEdBQUosRUFBUztBQUNSRSxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUgsR0FBWjtBQUNBOztBQUNETixJQUFBQSxRQUFRLEdBQUdPLEtBQUssQ0FBQ0csR0FBakI7QUFDQSxHQVBJLENBQU47QUFTQSxTQUFPVixRQUFQO0FBQ0EsQ0FaTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW5kZWxhcndhbmRhL0RvY3VtZW50cy9teWJyYW5kL3NyYy9oZWxwZXIvIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBmb3JtYXQgKi9cbmltcG9ydCBjbG91ZGluYXJ5IGZyb20gXCIuL2Nsb3VkaW5hcnkuanNcIjtcblxuZXhwb3J0IGNvbnN0IGZpbGVGaWx0ZXIgPSAocmVxLCBmaWxlLCBjYikgPT4ge1xuXHRpZiAoZmlsZS5taW1ldHlwZS5zdGFydHNXaXRoKFwiaW1hZ2VcIikpIHtcblx0XHRjYihudWxsLCB0cnVlKTtcblx0fSBlbHNlIHtcblx0XHRjYihcImludmFsaWQgaW1hZ2UgZmlsZSFcIiwgZmFsc2UpO1xuXHR9XG59O1xuZXhwb3J0IGNvbnN0IGZpbGVVcGxvYWQgPSBhc3luYyAocmVxKSA9PiB7XG5cdGxldCBpbWFnZVVybCA9IFwiXCI7XG5cdGF3YWl0IGNsb3VkaW5hcnkudjIudXBsb2FkZXIudXBsb2FkKFxuXHRcdHJlcS5maWxlLnBhdGgsXG5cdFx0YXN5bmMgZnVuY3Rpb24gKGVyciwgaW1hZ2UpIHtcblx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcblx0XHRcdH1cblx0XHRcdGltYWdlVXJsID0gaW1hZ2UudXJsO1xuXHRcdH1cblx0KTtcblx0cmV0dXJuIGltYWdlVXJsO1xufTtcbiJdfQ==","map":{"version":3,"sources":["multer.js"],"names":["fileFilter","req","file","cb","mimetype","startsWith","fileUpload","imageUrl","cloudinary","v2","uploader","upload","path","err","image","console","log","url"],"mappings":";;;;;;;AACA;;;;AADA;AAGO,MAAMA,UAAU,GAAG,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,KAAmB;AAC5C,MAAID,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAyB,OAAzB,CAAJ,EAAuC;AACtCF,IAAAA,EAAE,CAAC,IAAD,EAAO,IAAP,CAAF;AACA,GAFD,MAEO;AACNA,IAAAA,EAAE,CAAC,qBAAD,EAAwB,KAAxB,CAAF;AACA;AACD,CANM;;;;AAOA,MAAMG,UAAU,GAAG,MAAOL,GAAP,IAAe;AACxC,MAAIM,QAAQ,GAAG,EAAf;AACA,QAAMC,oBAAWC,EAAX,CAAcC,QAAd,CAAuBC,MAAvB,CACLV,GAAG,CAACC,IAAJ,CAASU,IADJ,EAEL,gBAAgBC,GAAhB,EAAqBC,KAArB,EAA4B;AAC3B,QAAID,GAAJ,EAAS;AACRE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA;;AACDN,IAAAA,QAAQ,GAAGO,KAAK,CAACG,GAAjB;AACA,GAPI,CAAN;AASA,SAAOV,QAAP;AACA,CAZM","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/helper/","sourcesContent":["/** @format */\nimport cloudinary from \"./cloudinary.js\";\n\nexport const fileFilter = (req, file, cb) => {\n\tif (file.mimetype.startsWith(\"image\")) {\n\t\tcb(null, true);\n\t} else {\n\t\tcb(\"invalid image file!\", false);\n\t}\n};\nexport const fileUpload = async (req) => {\n\tlet imageUrl = \"\";\n\tawait cloudinary.v2.uploader.upload(\n\t\treq.file.path,\n\t\tasync function (err, image) {\n\t\t\tif (err) {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t\timageUrl = image.url;\n\t\t}\n\t);\n\treturn imageUrl;\n};\n"]}},"mtime":1648463791860},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/helper/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/helper/cloudinary.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _cloudinary = _interopRequireDefault(require(\"cloudinary\"));\n\nrequire(\"dotenv/config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** @format */\n_cloudinary.default.config({\n  cloud_name: process.env.CLOUDINARY_USER_NAME,\n  api_key: process.env.CLOUDINARY_API_KEY,\n  api_secret: process.env.CLOUDINARY_API_SECRET\n});\n\nvar _default = _cloudinary.default;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsb3VkaW5hcnkuanMiXSwibmFtZXMiOlsiY2xvdWRpbmFyeSIsImNvbmZpZyIsImNsb3VkX25hbWUiLCJwcm9jZXNzIiwiZW52IiwiQ0xPVURJTkFSWV9VU0VSX05BTUUiLCJhcGlfa2V5IiwiQ0xPVURJTkFSWV9BUElfS0VZIiwiYXBpX3NlY3JldCIsIkNMT1VESU5BUllfQVBJX1NFQ1JFVCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVBOztBQUNBOzs7O0FBSEE7QUFJQUEsb0JBQVdDLE1BQVgsQ0FBa0I7QUFDakJDLEVBQUFBLFVBQVUsRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLG9CQURQO0FBRWpCQyxFQUFBQSxPQUFPLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxrQkFGSjtBQUdqQkMsRUFBQUEsVUFBVSxFQUFFTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUs7QUFIUCxDQUFsQjs7ZUFNZVQsbUIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FuZGVsYXJ3YW5kYS9Eb2N1bWVudHMvbXlicmFuZC9zcmMvaGVscGVyLyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAZm9ybWF0ICovXG5cbmltcG9ydCBjbG91ZGluYXJ5IGZyb20gXCJjbG91ZGluYXJ5XCI7XG5pbXBvcnQgXCJkb3RlbnYvY29uZmlnXCI7XG5jbG91ZGluYXJ5LmNvbmZpZyh7XG5cdGNsb3VkX25hbWU6IHByb2Nlc3MuZW52LkNMT1VESU5BUllfVVNFUl9OQU1FLFxuXHRhcGlfa2V5OiBwcm9jZXNzLmVudi5DTE9VRElOQVJZX0FQSV9LRVksXG5cdGFwaV9zZWNyZXQ6IHByb2Nlc3MuZW52LkNMT1VESU5BUllfQVBJX1NFQ1JFVCxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjbG91ZGluYXJ5O1xuIl19","map":{"version":3,"sources":["cloudinary.js"],"names":["cloudinary","config","cloud_name","process","env","CLOUDINARY_USER_NAME","api_key","CLOUDINARY_API_KEY","api_secret","CLOUDINARY_API_SECRET"],"mappings":";;;;;;;AAEA;;AACA;;;;AAHA;AAIAA,oBAAWC,MAAX,CAAkB;AACjBC,EAAAA,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC,oBADP;AAEjBC,EAAAA,OAAO,EAAEH,OAAO,CAACC,GAAR,CAAYG,kBAFJ;AAGjBC,EAAAA,UAAU,EAAEL,OAAO,CAACC,GAAR,CAAYK;AAHP,CAAlB;;eAMeT,mB","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/helper/","sourcesContent":["/** @format */\n\nimport cloudinary from \"cloudinary\";\nimport \"dotenv/config\";\ncloudinary.config({\n\tcloud_name: process.env.CLOUDINARY_USER_NAME,\n\tapi_key: process.env.CLOUDINARY_API_KEY,\n\tapi_secret: process.env.CLOUDINARY_API_SECRET,\n});\n\nexport default cloudinary;\n"]}},"mtime":1648463791859},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/controller/contactController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"prod\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:prod":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.subscribeToNewsletter = exports.messageDetails = exports.deleteMessage = exports.createMessage = exports.allMessage = void 0;\n\nvar _contactUs = require(\"../models/contactUs\");\n\nvar _validation = require(\"../validation/validation\");\n\n//!!get All messages\nconst allMessage = async (req, res) => {\n  _contactUs.Contact.find().sort({\n    createdAt: -1\n  }).then(result => {\n    return res.status(200).json({\n      title: \"All messages\",\n      status: 200,\n      messages: result\n    });\n  }).catch(err => {\n    console.log(err);\n    res.status(500).json({\n      status: 500,\n      message: \"Internal server error\"\n    });\n  });\n}; //!!Posting new message\n\n\nexports.allMessage = allMessage;\n\nconst createMessage = async (req, res) => {\n  const {\n    error\n  } = (0, _validation.contactValidation)(req.body);\n  if (error) return res.status(400).json({\n    status: 400,\n    message: error.details[0].message\n  }); //!!creating new message\n\n  var contact = new _contactUs.Contact({\n    name: req.body.name,\n    email: req.body.email,\n    message: req.body.message\n  }); //!!save a message to db\n\n  try {\n    const savedMessage = await contact.save();\n    console.log(savedMessage.id);\n    return res.status(201).json({\n      status: \"success\",\n      message: \"Successfully sent, we will talk soon.\"\n    });\n  } catch (error) {\n    console.log(error);\n    return res.status(500).json({\n      status: 500,\n      message: \"Internal server error\"\n    });\n  }\n}; //!!get one message\n\n\nexports.createMessage = createMessage;\n\nconst messageDetails = async (req, res) => {\n  const id = req.params.id;\n  if (!id) return res.status(404).json({\n    status: 404,\n    message: \"Message not found\"\n  });\n\n  _contactUs.Contact.findById(id).then(result => {\n    return res.status(200).json({\n      title: \"Message details\",\n      status: 200,\n      message: result\n    });\n  }).catch(err => {\n    console.log(err);\n    return res.status(500).json({\n      status: 500,\n      message: \"Internal server error\"\n    });\n  });\n}; //!!Delete a Message\n\n\nexports.messageDetails = messageDetails;\n\nconst deleteMessage = async (req, res) => {\n  const id = req.params.id;\n  const result = await _contactUs.Contact.findById(id);\n  if (!result) return res.status(404).json({\n    status: 404,\n    message: \"Message not found\"\n  });\n  const contactDelete = await result.delete();\n  if (contactDelete) return res.status(200).json({\n    status: 200,\n    message: \"Message successfully deleted\"\n  });\n  return res.status(500).json({\n    status: 500,\n    message: \"Internal server error\"\n  });\n}; ///////////////////////////////////////////\n\n\nexports.deleteMessage = deleteMessage;\n\nconst subscribeToNewsletter = async (req, res) => {\n  const {\n    error\n  } = subscriberValidation(req.body);\n  if (error) return res.status(400).json({\n    message: error.details[0].message\n  });\n  let subscriber = await Subscriber.findOne({\n    email: req.body.email\n  });\n\n  if (subscriber) {\n    return res.status(400).json({\n      error: true,\n      message: \"Sorry , you are already subscribed to our newsletter\"\n    });\n  }\n\n  subscriber = req.body;\n  const newSubscriber = new Subscriber(subscriber);\n  await newSubscriber.save();\n  res.status(201).json({\n    success: true,\n    data: newSubscriber\n  });\n}; // export const getAllSubscribers = async (req, res) => {\n// \tconst subscribers = await Subscriber.find();\n// \tres.status(200).json({ success: true, data: subscribers });\n// };\n// export const unsubscribeToNewsletter = async (req, res) => {\n// \tconst { error } = subscriberValidation(req.body);\n// \tif (error) return res.status(400).json({ message: error.details[0].message });\n// \tlet subscriber = await Subscriber.findOne({\n// \t\temail: req.body.email,\n// \t});\n// \tif (subscriber) {\n// \t\tawait Subscriber.findByIdAndDelete(subscriber.id);\n// \t\tres.status(200).json({\n// \t\t\tsuccess: true, message: \"Successfully unsubscribed from our newsletter\",\n// \t\t});\n// \t}\n// \treturn res.status(404).json({ success: false, message: \"No record found for your email\" });\n// };\n\n\nexports.subscribeToNewsletter = subscribeToNewsletter;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhY3RDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImFsbE1lc3NhZ2UiLCJyZXEiLCJyZXMiLCJDb250YWN0IiwiZmluZCIsInNvcnQiLCJjcmVhdGVkQXQiLCJ0aGVuIiwicmVzdWx0Iiwic3RhdHVzIiwianNvbiIsInRpdGxlIiwibWVzc2FnZXMiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJtZXNzYWdlIiwiY3JlYXRlTWVzc2FnZSIsImVycm9yIiwiYm9keSIsImRldGFpbHMiLCJjb250YWN0IiwibmFtZSIsImVtYWlsIiwic2F2ZWRNZXNzYWdlIiwic2F2ZSIsImlkIiwibWVzc2FnZURldGFpbHMiLCJwYXJhbXMiLCJmaW5kQnlJZCIsImRlbGV0ZU1lc3NhZ2UiLCJjb250YWN0RGVsZXRlIiwiZGVsZXRlIiwic3Vic2NyaWJlVG9OZXdzbGV0dGVyIiwic3Vic2NyaWJlclZhbGlkYXRpb24iLCJzdWJzY3JpYmVyIiwiU3Vic2NyaWJlciIsImZpbmRPbmUiLCJuZXdTdWJzY3JpYmVyIiwic3VjY2VzcyIsImRhdGEiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7QUFDQTs7QUFFQTtBQUNPLE1BQU1BLFVBQVUsR0FBSSxPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDM0NDLHFCQUFRQyxJQUFSLEdBQ0dDLElBREgsQ0FDUTtBQUFFQyxJQUFBQSxTQUFTLEVBQUUsQ0FBQztBQUFkLEdBRFIsRUFFR0MsSUFGSCxDQUVTQyxNQUFELElBQVk7QUFDaEIsV0FBT04sR0FBRyxDQUFDTyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsS0FBSyxFQUFFLGNBQVQ7QUFBeUJGLE1BQUFBLE1BQU0sRUFBRSxHQUFqQztBQUFzQ0csTUFBQUEsUUFBUSxFQUFFSjtBQUFoRCxLQUFyQixDQUFQO0FBQ0QsR0FKSCxFQUtHSyxLQUxILENBS1VDLEdBQUQsSUFBUztBQUNkQyxJQUFBQSxPQUFPLENBQUNDLEdBQVIs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SyxDQUFDRSxPQUFOLENBQWMsQ0FBZCxFQUFpQko7QUFBNUIsR0FBckIsQ0FBUDtBQUVYLE1BQUltQixVQUFVLEdBQUcsTUFBTUMsVUFBVSxDQUFDQyxPQUFYLENBQW1CO0FBQ3pDZCxJQUFBQSxLQUFLLEVBQUV2QixHQUFHLENBQUNtQixJQUFKLENBQVNJO0FBRHlCLEdBQW5CLENBQXZCOztBQUdBLE1BQUlZLFVBQUosRUFBZ0I7QUFDZixXQUFPbEMsR0FBRyxDQUFDTyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDM0JTLE1BQUFBLEtBQUssRUFBRSxJQURvQjtBQUUzQkYsTUFBQUEsT0FBTyxFQUFFO0FBRmtCLEtBQXJCLENBQVA7QUFJQTs7QUFDRG1CLEVBQUFBLFVBQVUsR0FBR25DLEdBQUcsQ0FBQ21CLElBQWpCO0FBQ0EsUUFBTW1CLGFBQWEsR0FBRyxJQUFJRixVQUFKLENBQWVELFVBQWYsQ0FBdEI7QUFDQSxRQUFNRyxhQUFhLENBQUNiLElBQWQsRUFBTjtBQUNBeEIsRUFBQUEsR0FBRyxDQUFDTyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRThCLElBQUFBLE9BQU8sRUFBRSxJQUFYO0FBQWlCQyxJQUFBQSxJQUFJLEVBQUVGO0FBQXZCLEdBQXJCO0FBQ0EsQ0FqQk0sQyxDQW1CUDtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FuZGVsYXJ3YW5kYS9Eb2N1bWVudHMvbXlicmFuZC9zcmMvY29udHJvbGxlci8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IENvbnRhY3QgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbnRhY3RVc1wiO1xuaW1wb3J0IHsgY29udGFjdFZhbGlkYXRpb24gfSBmcm9tIFwiLi4vdmFsaWRhdGlvbi92YWxpZGF0aW9uXCI7XG5cbi8vISFnZXQgQWxsIG1lc3NhZ2VzXG5leHBvcnQgY29uc3QgYWxsTWVzc2FnZSA9ICBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBDb250YWN0LmZpbmQoKVxuICAgICAgLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHRpdGxlOiBcIkFsbCBtZXNzYWdlc1wiLCBzdGF0dXM6IDIwMCwgbWVzc2FnZXM6IHJlc3VsdCB9KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7c3RhdHVzOiA1MDAsIG1lc3NhZ2U6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIgfSk7XG4gICAgICB9KTtcbiAgfTtcblxuLy8hIVBvc3RpbmcgbmV3IG1lc3NhZ2VcbmV4cG9ydCBjb25zdCBjcmVhdGVNZXNzYWdlID0gYXN5bmMgKHJlcSwgcmVzKSA9PntcbiAgICBjb25zdCB7IGVycm9yIH0gPSBjb250YWN0VmFsaWRhdGlvbihyZXEuYm9keSk7XG5cbiAgICBpZiAoZXJyb3IpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7c3RhdHVzOiA0MDAsIG1lc3NhZ2U6IGVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSB9KTtcbiAgXG4gICAgLy8hIWNyZWF0aW5nIG5ldyBtZXNzYWdlXG4gICAgdmFyIGNvbnRhY3QgPSBuZXcgQ29udGFjdCh7XG4gICAgICBuYW1lOiByZXEuYm9keS5uYW1lLFxuICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgICAgbWVzc2FnZTogcmVxLmJvZHkubWVzc2FnZSxcbiAgICB9KTtcbiAgXG4gICAgLy8hIXNhdmUgYSBtZXNzYWdlIHRvIGRiXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNhdmVkTWVzc2FnZSA9IGF3YWl0IGNvbnRhY3Quc2F2ZSgpO1xuICAgICAgY29uc29sZS5sb2coc2F2ZWRNZXNzYWdlLmlkKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7c3RhdHVzOlwic3VjY2Vzc1wiLCBtZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSBzZW50LCB3ZSB3aWxsIHRhbGsgc29vbi5cIiB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe3N0YXR1czogNTAwLCBtZXNzYWdlOiBcIkludGVybmFsIHNlcnZlciBlcnJvclwiIH0pO1xuICAgIH1cbn1cblxuLy8hIWdldCBvbmUgbWVzc2FnZVxuZXhwb3J0IGNvbnN0IG1lc3NhZ2VEZXRhaWxzID0gYXN5bmMgKHJlcSwgcmVzKSA9PntcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XG5cbiAgICBpZiAoIWlkKSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe3N0YXR1czogNDA0LCBtZXNzYWdlOiBcIk1lc3NhZ2Ugbm90IGZvdW5kXCIgfSk7XG4gIFxuICAgIENvbnRhY3QuZmluZEJ5SWQoaWQpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHRpdGxlOiBcIk1lc3NhZ2UgZGV0YWlsc1wiLHN0YXR1czogMjAwLCBtZXNzYWdlOiByZXN1bHQgfSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7c3RhdHVzOiA1MDAsIG1lc3NhZ2U6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCJcbiAgICAgICAgIH0pO1xuICAgICAgfSk7XG59XG5cbi8vISFEZWxldGUgYSBNZXNzYWdlXG5leHBvcnQgY29uc3QgZGVsZXRlTWVzc2FnZSA9IGFzeW5jIChyZXEsIHJlcykgPT57XG4gICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29udGFjdC5maW5kQnlJZChpZCk7XG4gICAgaWYgKCFyZXN1bHQpIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7c3RhdHVzOiA0MDQsIG1lc3NhZ2U6IFwiTWVzc2FnZSBub3QgZm91bmRcIiB9KTtcbiAgXG4gICAgY29uc3QgY29udGFjdERlbGV0ZSA9IGF3YWl0IHJlc3VsdC5kZWxldGUoKTtcbiAgXG4gICAgaWYgKGNvbnRhY3REZWxldGUpXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe3N0YXR1czogMjAwLCBtZXNzYWdlOiBcIk1lc3NhZ2Ugc3VjY2Vzc2Z1bGx5IGRlbGV0ZWRcIiB9KTtcbiAgXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtzdGF0dXM6IDUwMCwgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9KTtcbn1cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG5cblxuXG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlVG9OZXdzbGV0dGVyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cdGNvbnN0IHsgZXJyb3IgfSA9IHN1YnNjcmliZXJWYWxpZGF0aW9uKHJlcS5ib2R5KTtcblx0aWYgKGVycm9yKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UgfSk7XG5cblx0bGV0IHN1YnNjcmliZXIgPSBhd2FpdCBTdWJzY3JpYmVyLmZpbmRPbmUoe1xuXHRcdGVtYWlsOiByZXEuYm9keS5lbWFpbCxcblx0fSk7XG5cdGlmIChzdWJzY3JpYmVyKSB7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcblx0XHRcdGVycm9yOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJTb3JyeSAsIHlvdSBhcmUgYWxyZWFkeSBzdWJzY3JpYmVkIHRvIG91ciBuZXdzbGV0dGVyXCIsXG5cdFx0fSk7XG5cdH1cblx0c3Vic2NyaWJlciA9IHJlcS5ib2R5O1xuXHRjb25zdCBuZXdTdWJzY3JpYmVyID0gbmV3IFN1YnNjcmliZXIoc3Vic2NyaWJlcik7XG5cdGF3YWl0IG5ld1N1YnNjcmliZXIuc2F2ZSgpO1xuXHRyZXMuc3RhdHVzKDIwMSkuanNvbih7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG5ld1N1YnNjcmliZXIgfSk7XG59O1xuXG4vLyBleHBvcnQgY29uc3QgZ2V0QWxsU3Vic2NyaWJlcnMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbi8vIFx0Y29uc3Qgc3Vic2NyaWJlcnMgPSBhd2FpdCBTdWJzY3JpYmVyLmZpbmQoKTtcbi8vIFx0cmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBzdWJzY3JpYmVycyB9KTtcbi8vIH07XG5cbi8vIGV4cG9ydCBjb25zdCB1bnN1YnNjcmliZVRvTmV3c2xldHRlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuLy8gXHRjb25zdCB7IGVycm9yIH0gPSBzdWJzY3JpYmVyVmFsaWRhdGlvbihyZXEuYm9keSk7XG4vLyBcdGlmIChlcnJvcikgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlIH0pO1xuXG4vLyBcdGxldCBzdWJzY3JpYmVyID0gYXdhaXQgU3Vic2NyaWJlci5maW5kT25lKHtcbi8vIFx0XHRlbWFpbDogcmVxLmJvZHkuZW1haWwsXG4vLyBcdH0pO1xuLy8gXHRpZiAoc3Vic2NyaWJlcikge1xuLy8gXHRcdGF3YWl0IFN1YnNjcmliZXIuZmluZEJ5SWRBbmREZWxldGUoc3Vic2NyaWJlci5pZCk7XG4vLyBcdFx0cmVzLnN0YXR1cygyMDApLmpzb24oe1xuLy8gXHRcdFx0c3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgdW5zdWJzY3JpYmVkIGZyb20gb3VyIG5ld3NsZXR0ZXJcIixcbi8vIFx0XHR9KTtcbi8vIFx0fVxuLy8gXHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJObyByZWNvcmQgZm91bmQgZm9yIHlvdXIgZW1haWxcIiB9KTtcbi8vIH07XG4iXX0=","map":{"version":3,"sources":["contactController.js"],"names":["allMessage","req","res","Contact","find","sort","createdAt","then","result","status","json","title","messages","catch","err","console","log","message","createMessage","error","body","details","contact","name","email","savedMessage","save","id","messageDetails","params","findById","deleteMessage","contactDelete","delete","subscribeToNewsletter","subscriberValidation","subscriber","Subscriber","findOne","newSubscriber","success","data"],"mappings":"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","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/controller/","sourcesContent":["\nimport { Contact } from \"../models/contactUs\";\nimport { contactValidation } from \"../validation/validation\";\n\n//!!get All messages\nexport const allMessage =  async (req, res) => {\n    Contact.find()\n      .sort({ createdAt: -1 })\n      .then((result) => {\n        return res.status(200).json({ title: \"All messages\", status: 200, messages: result });\n      })\n      .catch((err) => {\n        console.log(err);\n        res.status(500).json({status: 500, message: \"Internal server error\" });\n      });\n  };\n\n//!!Posting new message\nexport const createMessage = async (req, res) =>{\n    const { error } = contactValidation(req.body);\n\n    if (error) return res.status(400).json({status: 400, message: error.details[0].message });\n  \n    //!!creating new message\n    var contact = new Contact({\n      name: req.body.name,\n      email: req.body.email,\n      message: req.body.message,\n    });\n  \n    //!!save a message to db\n    try {\n      const savedMessage = await contact.save();\n      console.log(savedMessage.id);\n      return res.status(201).json({status:\"success\", message: \"Successfully sent, we will talk soon.\" });\n    } catch (error) {\n      console.log(error)\n      return res.status(500).json({status: 500, message: \"Internal server error\" });\n    }\n}\n\n//!!get one message\nexport const messageDetails = async (req, res) =>{\n    const id = req.params.id;\n\n    if (!id) return res.status(404).json({status: 404, message: \"Message not found\" });\n  \n    Contact.findById(id)\n      .then((result) => {\n        return res.status(200).json({ title: \"Message details\",status: 200, message: result });\n      })\n      .catch((err) => {\n        console.log(err);\n        \n        return res.status(500).json({status: 500, message: \"Internal server error\"\n         });\n      });\n}\n\n//!!Delete a Message\nexport const deleteMessage = async (req, res) =>{\n    const id = req.params.id;\n\n    const result = await Contact.findById(id);\n    if (!result) return res.status(404).json({status: 404, message: \"Message not found\" });\n  \n    const contactDelete = await result.delete();\n  \n    if (contactDelete)\n      return res.status(200).json({status: 200, message: \"Message successfully deleted\" });\n  \n    return res.status(500).json({status: 500, message: \"Internal server error\" });\n}\n///////////////////////////////////////////\n\n\n\n\n\nexport const subscribeToNewsletter = async (req, res) => {\n\tconst { error } = subscriberValidation(req.body);\n\tif (error) return res.status(400).json({ message: error.details[0].message });\n\n\tlet subscriber = await Subscriber.findOne({\n\t\temail: req.body.email,\n\t});\n\tif (subscriber) {\n\t\treturn res.status(400).json({\n\t\t\terror: true,\n\t\t\tmessage: \"Sorry , you are already subscribed to our newsletter\",\n\t\t});\n\t}\n\tsubscriber = req.body;\n\tconst newSubscriber = new Subscriber(subscriber);\n\tawait newSubscriber.save();\n\tres.status(201).json({ success: true, data: newSubscriber });\n};\n\n// export const getAllSubscribers = async (req, res) => {\n// \tconst subscribers = await Subscriber.find();\n// \tres.status(200).json({ success: true, data: subscribers });\n// };\n\n// export const unsubscribeToNewsletter = async (req, res) => {\n// \tconst { error } = subscriberValidation(req.body);\n// \tif (error) return res.status(400).json({ message: error.details[0].message });\n\n// \tlet subscriber = await Subscriber.findOne({\n// \t\temail: req.body.email,\n// \t});\n// \tif (subscriber) {\n// \t\tawait Subscriber.findByIdAndDelete(subscriber.id);\n// \t\tres.status(200).json({\n// \t\t\tsuccess: true, message: \"Successfully unsubscribed from our newsletter\",\n// \t\t});\n// \t}\n// \treturn res.status(404).json({ success: false, message: \"No record found for your email\" });\n// };\n"]}},"mtime":1648476653869},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/validation/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/validation/validation.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"prod\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:prod":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.registerValidation = exports.newsletterValidation = exports.loginValidation = exports.contactValidation = exports.blogValidation = exports.articleValidation = void 0;\n\nvar _joi = _interopRequireDefault(require(\"@hapi/joi\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//!!VALIDATION\nconst Joi = _joi.default; //!!REGISTER VALIDATION\n\nconst registerValidation = data => {\n  const schema = Joi.object({\n    name: Joi.string().min(3).required(),\n    email: Joi.string().min(3).required().email(),\n    password: Joi.string().min(3).required()\n  });\n  const validation = schema.validate(data);\n  return validation;\n};\n\nexports.registerValidation = registerValidation;\n\nconst loginValidation = data => {\n  const schema = Joi.object({\n    email: Joi.string().min(3).required().email(),\n    password: Joi.string().min(3).required()\n  });\n  const validation = schema.validate(data);\n  return validation;\n}; //!! NEW POST VALIDATION\n\n\nexports.loginValidation = loginValidation;\n\nconst blogValidation = data => {\n  const schema = Joi.object({\n    title: Joi.string().min(3).required(),\n    author: Joi.string().min(3).required(),\n    body: Joi.string().min(5).required()\n  });\n  const validation = schema.validate(data);\n  return validation;\n}; //!!CONTACT-US VALIDATION\n\n\nexports.blogValidation = blogValidation;\n\nconst contactValidation = data => {\n  const schema = Joi.object({\n    name: Joi.string().min(3).max(30).required(),\n    email: Joi.string().min(3).max(30).required(),\n    message: Joi.string().min(3).max(1000).required()\n  });\n  const validation = schema.validate(data);\n  return validation;\n}; // New Comment subscriber\n\n\nexports.contactValidation = contactValidation;\n\nconst newsletterValidation = data => {\n  const schema = Joi.object({\n    email: Joi.string().min(6).required().email()\n  });\n  return schema.validate(data);\n}; //!! NEW POST articleValidation\n\n\nexports.newsletterValidation = newsletterValidation;\n\nconst articleValidation = data => {\n  const schema = Joi.object({\n    title: Joi.string().min(3).required(),\n    slug: Joi.string().min(3).required(),\n    author: Joi.string().min(5).required(),\n    content: Joi.string().min(3).required(),\n    comments: Joi.string().min(3).required()\n  });\n  const validation = schema.validate(data);\n  return validation;\n};\n\nexports.articleValidation = articleValidation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRpb24uanMiXSwibmFtZXMiOlsiSm9pIiwiam9pIiwicmVnaXN0ZXJWYWxpZGF0aW9uIiwiZGF0YSIsInNjaGVtYSIsIm9iamVjdCIsIm5hbWUiLCJzdHJpbmciLCJtaW4iLCJyZXF1aXJlZCIsImVtYWlsIiwicGFzc3dvcmQiLCJ2YWxpZGF0aW9uIiwidmFsaWRhdGUiLCJsb2dpblZhbGlkYXRpb24iLCJibG9nVmFsaWRhdGlvbiIsInRpdGxlIiwiYXV0aG9yIiwiYm9keSIsImNvbnRhY3RWYWxpZGF0aW9uIiwibWF4IiwibWVzc2FnZSIsIm5ld3NsZXR0ZXJWYWxpZGF0aW9uIiwiYXJ0aWNsZVZhbGlkYXRpb24iLCJzbHVnIiwiY29udGVudCIsImNvbW1lbnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7Ozs7QUFEQTtBQUdBLE1BQU1BLEdBQUcsR0FBR0MsWUFBWixDLENBRUE7O0FBQ0EsTUFBTUMsa0JBQWtCLEdBQUlDLElBQUQsSUFBVTtBQUNuQyxRQUFNQyxNQUFNLEdBQUdKLEdBQUcsQ0FBQ0ssTUFBSixDQUFXO0FBQ3hCQyxJQUFBQSxJQUFJLEVBQUVOLEdBQUcsQ0FBQ08sTUFBSixHQUFhQyxHQUFiLENBQWlCLENBQWpCLEVBQW9CQyxRQUFwQixFQURrQjtBQUV4QkMsSUFBQUEsS0FBSyxFQUFFVixHQUFHLENBQUNPLE1BQUosR0FBYUMsR0FBYixDQUFpQixDQUFqQixFQUFvQkMsUUFBcEIsR0FBK0JDLEtBQS9CLEVBRmlCO0FBR3hCQyxJQUFBQSxRQUFRLEVBQUVYLEdBQUcsQ0FBQ08sTUFBSixHQUFhQyxHQUFiLENBQWlCLENBQWpCLEVBQW9CQyxRQUFwQjtBQUhjLEdBQVgsQ0FBZjtBQU1BLFFBQU1HLFVBQVUsR0FBR1IsTUFBTSxDQUFDUyxRQUFQLENBQWdCVixJQUFoQixDQUFuQjtBQUNBLFNBQU9TLFVBQVA7QUFDRCxDQVREOzs7O0FBV0EsTUFBTUUsZUFBZSxHQUFJWCxJQUFELElBQVU7QUFDaEMsUUFBTUMsTUFBTSxH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QW9CQyxRQUFwQixFQUhnQjtBQUl4QmdCLElBQUFBLE9BQU8sRUFBRXpCLEdBQUcsQ0FBQ08sTUFBSixHQUFhQyxHQUFiLENBQWlCLENBQWpCLEVBQW9CQyxRQUFwQixFQUplO0FBS3hCaUIsSUFBQUEsUUFBUSxFQUFFMUIsR0FBRyxDQUFDTyxNQUFKLEdBQWFDLEdBQWIsQ0FBaUIsQ0FBakIsRUFBb0JDLFFBQXBCO0FBTGMsR0FBWCxDQUFmO0FBUUEsUUFBTUcsVUFBVSxHQUFHUixNQUFNLENBQUNTLFFBQVAsQ0FBZ0JWLElBQWhCLENBQW5CO0FBQ0EsU0FBT1MsVUFBUDtBQUNELENBWEQiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FuZGVsYXJ3YW5kYS9Eb2N1bWVudHMvbXlicmFuZC9zcmMvdmFsaWRhdGlvbi8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyEhVkFMSURBVElPTlxuaW1wb3J0IGpvaSBmcm9tIFwiQGhhcGkvam9pXCI7XG5cbmNvbnN0IEpvaSA9IGpvaTtcblxuLy8hIVJFR0lTVEVSIFZBTElEQVRJT05cbmNvbnN0IHJlZ2lzdGVyVmFsaWRhdGlvbiA9IChkYXRhKSA9PiB7XG4gIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5taW4oMykucmVxdWlyZWQoKSxcbiAgICBlbWFpbDogSm9pLnN0cmluZygpLm1pbigzKS5yZXF1aXJlZCgpLmVtYWlsKCksXG4gICAgcGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS5taW4oMykucmVxdWlyZWQoKSxcbiAgfSk7XG5cbiAgY29uc3QgdmFsaWRhdGlvbiA9IHNjaGVtYS52YWxpZGF0ZShkYXRhKTtcbiAgcmV0dXJuIHZhbGlkYXRpb247XG59O1xuXG5jb25zdCBsb2dpblZhbGlkYXRpb24gPSAoZGF0YSkgPT4ge1xuICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICBlbWFpbDogSm9pLnN0cmluZygpLm1pbigzKS5yZXF1aXJlZCgpLmVtYWlsKCksXG4gICAgcGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS5taW4oMykucmVxdWlyZWQoKSxcbiAgfSk7XG5cbiAgY29uc3QgdmFsaWRhdGlvbiA9IHNjaGVtYS52YWxpZGF0ZShkYXRhKTtcbiAgcmV0dXJuIHZhbGlkYXRpb247XG59O1xuXG5cbi8vISEgTkVXIFBPU1QgVkFMSURBVElPTlxuY29uc3QgYmxvZ1ZhbGlkYXRpb24gPSAoKGRhdGEpPT57XG4gIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgIHRpdGxlOiBKb2kuc3RyaW5nKCkubWluKDMpLnJlcXVpcmVkKCksXG4gICAgYXV0aG9yOiBKb2kuc3RyaW5nKCkubWluKDMpLnJlcXVpcmVkKCksXG4gICAgYm9keTogSm9pLnN0cmluZygpLm1pbig1KS5yZXF1aXJlZCgpLFxuICB9KTtcblxuICBjb25zdCB2YWxpZGF0aW9uID0gc2NoZW1hLnZhbGlkYXRlKGRhdGEpO1xuICByZXR1cm4gdmFsaWRhdGlvbjtcbn0pO1xuXG5cbi8vISFDT05UQUNULVVTIFZBTElEQVRJT05cbmNvbnN0IGNvbnRhY3RWYWxpZGF0aW9uID0gKGRhdGEpID0+e1xuICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICBuYW1lOiBKb2kuc3RyaW5nKCkubWluKDMpLm1heCgzMCkucmVxdWlyZWQoKSxcbiAgICBlbWFpbDogSm9pLnN0cmluZygpLm1pbigzKS5tYXgoMzApLnJlcXVpcmVkKCksXG4gICAgbWVzc2FnZTogSm9pLnN0cmluZygpLm1pbigzKS5tYXgoMTAwMCkucmVxdWlyZWQoKSxcblxuICB9KTtcblxuICBjb25zdCB2YWxpZGF0aW9uID0gc2NoZW1hLnZhbGlkYXRlKGRhdGEpO1xuICByZXR1cm4gdmFsaWRhdGlvbjtcbn1cbi8vIE5ldyBDb21tZW50IHN1YnNjcmliZXJcbmV4cG9ydCBjb25zdCBuZXdzbGV0dGVyVmFsaWRhdGlvbiA9IChkYXRhKSA9PiB7XG4gIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5taW4oNikucmVxdWlyZWQoKS5lbWFpbCgpLFxuICB9KTtcblxuICByZXR1cm4gc2NoZW1hLnZhbGlkYXRlKGRhdGEpO1xufTtcbi8vISEgTkVXIFBPU1QgYXJ0aWNsZVZhbGlkYXRpb25cbmNvbnN0IGFydGljbGVWYWxpZGF0aW9uID0gKChkYXRhKT0+e1xuICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICB0aXRsZTogSm9pLnN0cmluZygpLm1pbigzKS5yZXF1aXJlZCgpLFxuICAgIHNsdWc6IEpvaS5zdHJpbmcoKS5taW4oMykucmVxdWlyZWQoKSxcbiAgICBhdXRob3I6IEpvaS5zdHJpbmcoKS5taW4oNSkucmVxdWlyZWQoKSxcbiAgICBjb250ZW50OiBKb2kuc3RyaW5nKCkubWluKDMpLnJlcXVpcmVkKCksXG4gICAgY29tbWVudHM6IEpvaS5zdHJpbmcoKS5taW4oMykucmVxdWlyZWQoKVxuICB9KTtcblxuICBjb25zdCB2YWxpZGF0aW9uID0gc2NoZW1hLnZhbGlkYXRlKGRhdGEpO1xuICByZXR1cm4gdmFsaWRhdGlvbjtcbn0pO1xuXG5leHBvcnQgeyByZWdpc3RlclZhbGlkYXRpb24gfTtcbmV4cG9ydCB7IGxvZ2luVmFsaWRhdGlvbiB9O1xuZXhwb3J0IHsgYmxvZ1ZhbGlkYXRpb24gfTtcbmV4cG9ydCB7IGNvbnRhY3RWYWxpZGF0aW9uIH07XG4vL2V4cG9ydCB7IHN1YnNjcmliZXJWYWxpZGF0aW9uIH07XG5leHBvcnQgeyBhcnRpY2xlVmFsaWRhdGlvbiB9OyJdfQ==","map":{"version":3,"sources":["validation.js"],"names":["Joi","joi","registerValidation","data","schema","object","name","string","min","required","email","password","validation","validate","loginValidation","blogValidation","title","author","body","contactValidation","max","message","newsletterValidation","articleValidation","slug","content","comments"],"mappings":"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","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/validation/","sourcesContent":["//!!VALIDATION\nimport joi from \"@hapi/joi\";\n\nconst Joi = joi;\n\n//!!REGISTER VALIDATION\nconst registerValidation = (data) => {\n  const schema = Joi.object({\n    name: Joi.string().min(3).required(),\n    email: Joi.string().min(3).required().email(),\n    password: Joi.string().min(3).required(),\n  });\n\n  const validation = schema.validate(data);\n  return validation;\n};\n\nconst loginValidation = (data) => {\n  const schema = Joi.object({\n    email: Joi.string().min(3).required().email(),\n    password: Joi.string().min(3).required(),\n  });\n\n  const validation = schema.validate(data);\n  return validation;\n};\n\n\n//!! NEW POST VALIDATION\nconst blogValidation = ((data)=>{\n  const schema = Joi.object({\n    title: Joi.string().min(3).required(),\n    author: Joi.string().min(3).required(),\n    body: Joi.string().min(5).required(),\n  });\n\n  const validation = schema.validate(data);\n  return validation;\n});\n\n\n//!!CONTACT-US VALIDATION\nconst contactValidation = (data) =>{\n  const schema = Joi.object({\n    name: Joi.string().min(3).max(30).required(),\n    email: Joi.string().min(3).max(30).required(),\n    message: Joi.string().min(3).max(1000).required(),\n\n  });\n\n  const validation = schema.validate(data);\n  return validation;\n}\n// New Comment subscriber\nexport const newsletterValidation = (data) => {\n  const schema = Joi.object({\n      email: Joi.string().min(6).required().email(),\n  });\n\n  return schema.validate(data);\n};\n//!! NEW POST articleValidation\nconst articleValidation = ((data)=>{\n  const schema = Joi.object({\n    title: Joi.string().min(3).required(),\n    slug: Joi.string().min(3).required(),\n    author: Joi.string().min(5).required(),\n    content: Joi.string().min(3).required(),\n    comments: Joi.string().min(3).required()\n  });\n\n  const validation = schema.validate(data);\n  return validation;\n});\n\nexport { registerValidation };\nexport { loginValidation };\nexport { blogValidation };\nexport { contactValidation };\n//export { subscriberValidation };\nexport { articleValidation };"]}},"mtime":1647989420535},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/routes/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/routes/api/verifyToken.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"prod\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:prod":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.admin = admin;\nexports.auth = auth;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst jwt = _jsonwebtoken.default;\n\nfunction auth(req, res, next) {\n  //assign a token for a request\n  // const token = req.header('auth-token');      \n  const authHeader = req.headers[\"authorization\"];\n  if (!authHeader) return res.status(401).json({\n    message: 'Access Denied!'\n  });\n  const token = authHeader.split(\" \")[1];\n\n  try {\n    //verifying a req Token above with actual Token u have in .env file\n    const verified = jwt.verify(token, process.env.TOKEN_SECRET);\n    req.user = verified;\n    next();\n  } catch (error) {\n    res.status(400).json({\n      status: \"Fail\",\n      message: 'Invalid Token'\n    });\n  }\n}\n\nfunction admin(req, res, next) {\n  //assign a token for a request\n  // const token = req.header('auth-token');      \n  const authHeader = req.headers[\"authorization\"];\n  if (!authHeader) return res.status(401).json({\n    message: 'Access Denied!'\n  });\n  const token = authHeader.split(\" \")[1];\n\n  try {\n    //verifying a req Token above with actual Token u have in .env file\n    const verified = jwt.verify(token, process.env.ADMIN_TOKEN);\n    req.user = verified;\n    next();\n  } catch (error) {\n    res.status(400).json({\n      status: \"Fail\",\n      message: 'Invalid Token'\n    });\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlcmlmeVRva2VuLmpzIl0sIm5hbWVzIjpbImp3dCIsImpzb253ZWJ0b2tlbiIsImF1dGgiLCJyZXEiLCJyZXMiLCJuZXh0IiwiYXV0aEhlYWRlciIsImhlYWRlcnMiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInRva2VuIiwic3BsaXQiLCJ2ZXJpZmllZCIsInZlcmlmeSIsInByb2Nlc3MiLCJlbnYiLCJUT0tFTl9TRUNSRVQiLCJ1c2VyIiwiZXJyb3IiLCJhZG1pbiIsIkFETUlOX1RPS0VOIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsR0FBRyxHQUFHQyxxQkFBWjs7QUFFTyxTQUFTQyxJQUFULENBQWVDLEdBQWYsRUFBb0JDLEdBQXBCLEVBQXlCQyxJQUF6QixFQUE4QjtBQUNqQztBQUNBO0FBQ0EsUUFBTUMsVUFBVSxHQUFHSCxHQUFHLENBQUNJLE9BQUosQ0FBWSxlQUFaLENBQW5CO0FBQ0EsTUFBRyxDQUFDRCxVQUFKLEVBQWdCLE9BQU9GLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNDLElBQUFBLE9BQU8sRUFBRTtBQUFWLEdBQXJCLENBQVA7QUFFaEIsUUFBTUMsS0FBSyxHQUFHTCxVQUFVLENBQUNNLEtBQVgsQ0FBaUIsR0FBakIsRUFBc0IsQ0FBdEIsQ0FBZDs7QUFFQSxNQUFJO0FBQ0E7QUFDQSxVQUFNQyxRQUFRLEdBQUdiLEdBQUcsQ0FBQ2MsTUFBSixDQUFXSCxLQUFYLEVBQWtCSSxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsWUFBOUIsQ0FBakI7QUFDQWQsSUFBQUEsR0FBRyxDQUFDZSxJQUFKLEdBQVdMLFFBQVg7QUFFQVIsSUFBQUEsSUFBSTtBQUNQLEdBTkQsQ0FNRSxPQUFPYyxLQUFQLEVBQWM7QUFDWmYsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0QsTUFBQUEsTUFBTSxFQUFFLE1BQVQ7QUFBaUJFLE1BQUFBLE9BQU8sRUFBRTtBQUExQixLQUFyQjtBQUNIO0FBQ0o7O0FBRU0sU0FBU1UsS0FBVCxDQUFnQmpCLEdBQWhCLEVBQXFCQyxHQUFyQixFQUEwQkMsSUFBMUIsRUFBK0I7QUFDbEM7QUFDQTtBQUNBLFFBQU1DLFVBQVUsR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVksZUFBWixDQUFuQjtBQUNBLE1BQUcsQ0FBQ0QsVUFBSixFQUFnQixPQUFPRixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxJQUFBQSxPQUFPLEVBQUU7QUFBVixHQUFyQixDQUFQO0FBRWhCLFFBQU1DLEtBQUssR0FBR0wsVUFBVSxDQUFDTSxLQUFYLENBQWlCLEdBQWpCLEVBQXNCLENBQXRCLENBQWQ7O0FBRUEsTUFBSTtBQUNBO0FBQ0EsVUFBTUMsUUFBUSxHQUFHYixHQUFHLENBQUNjLE1BQUosQ0FBV0gsS0FBWCxFQUFrQkksT0FBTyxDQUFDQyxHQUFSLENBQVlLLFdBQTlCLENBQWpCO0FBQ0FsQixJQUFBQSxHQUFHLENBQUNlLElBQUosR0FBV0wsUUFBWDtBQUVBUixJQUFBQSxJQUFJO0FBQ1AsR0FORCxDQU1FLE9BQU9jLEtBQVAsRUFBYztBQUNaZixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDRCxNQUFBQSxNQUFNLEVBQUUsTUFBVDtBQUFpQkUsTUFBQUEsT0FBTyxFQUFFO0FBQTFCLEtBQXJCO0FBQ0g7QUFDSiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW5kZWxhcndhbmRhL0RvY3VtZW50cy9teWJyYW5kL3NyYy9yb3V0ZXMvYXBpLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqc29ud2VidG9rZW4gZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuXG5jb25zdCBqd3QgPSBqc29ud2VidG9rZW47XG5cbmV4cG9ydCBmdW5jdGlvbiBhdXRoIChyZXEsIHJlcywgbmV4dCl7XG4gICAgLy9hc3NpZ24gYSB0b2tlbiBmb3IgYSByZXF1ZXN0XG4gICAgLy8gY29uc3QgdG9rZW4gPSByZXEuaGVhZGVyKCdhdXRoLXRva2VuJyk7ICAgICAgXG4gICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzW1wiYXV0aG9yaXphdGlvblwiXVxuICAgIGlmKCFhdXRoSGVhZGVyKSByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6ICdBY2Nlc3MgRGVuaWVkISd9KSBcblxuICAgIGNvbnN0IHRva2VuID0gYXV0aEhlYWRlci5zcGxpdChcIiBcIilbMV07XG5cbiAgICB0cnkge1xuICAgICAgICAvL3ZlcmlmeWluZyBhIHJlcSBUb2tlbiBhYm92ZSB3aXRoIGFjdHVhbCBUb2tlbiB1IGhhdmUgaW4gLmVudiBmaWxlXG4gICAgICAgIGNvbnN0IHZlcmlmaWVkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuVE9LRU5fU0VDUkVUKTsgXG4gICAgICAgIHJlcS51c2VyID0gdmVyaWZpZWQ7XG5cbiAgICAgICAgbmV4dCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtzdGF0dXM6IFwiRmFpbFwiLCBtZXNzYWdlOiAnSW52YWxpZCBUb2tlbid9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZG1pbiAocmVxLCByZXMsIG5leHQpe1xuICAgIC8vYXNzaWduIGEgdG9rZW4gZm9yIGEgcmVxdWVzdFxuICAgIC8vIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcignYXV0aC10b2tlbicpOyAgICAgIFxuICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXEuaGVhZGVyc1tcImF1dGhvcml6YXRpb25cIl1cbiAgICBpZighYXV0aEhlYWRlcikgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHttZXNzYWdlOiAnQWNjZXNzIERlbmllZCEnfSkgXG5cbiAgICBjb25zdCB0b2tlbiA9IGF1dGhIZWFkZXIuc3BsaXQoXCIgXCIpWzFdO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgLy92ZXJpZnlpbmcgYSByZXEgVG9rZW4gYWJvdmUgd2l0aCBhY3R1YWwgVG9rZW4gdSBoYXZlIGluIC5lbnYgZmlsZVxuICAgICAgICBjb25zdCB2ZXJpZmllZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkFETUlOX1RPS0VOKTsgXG4gICAgICAgIHJlcS51c2VyID0gdmVyaWZpZWQ7XG5cbiAgICAgICAgbmV4dCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtzdGF0dXM6IFwiRmFpbFwiLCBtZXNzYWdlOiAnSW52YWxpZCBUb2tlbid9KTtcbiAgICB9XG59Il19","map":{"version":3,"sources":["verifyToken.js"],"names":["jwt","jsonwebtoken","auth","req","res","next","authHeader","headers","status","json","message","token","split","verified","verify","process","env","TOKEN_SECRET","user","error","admin","ADMIN_TOKEN"],"mappings":";;;;;;;;AAAA;;;;AAEA,MAAMA,GAAG,GAAGC,qBAAZ;;AAEO,SAASC,IAAT,CAAeC,GAAf,EAAoBC,GAApB,EAAyBC,IAAzB,EAA8B;AACjC;AACA;AACA,QAAMC,UAAU,GAAGH,GAAG,CAACI,OAAJ,CAAY,eAAZ,CAAnB;AACA,MAAG,CAACD,UAAJ,EAAgB,OAAOF,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,IAAAA,OAAO,EAAE;AAAV,GAArB,CAAP;AAEhB,QAAMC,KAAK,GAAGL,UAAU,CAACM,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAAd;;AAEA,MAAI;AACA;AACA,UAAMC,QAAQ,GAAGb,GAAG,CAACc,MAAJ,CAAWH,KAAX,EAAkBI,OAAO,CAACC,GAAR,CAAYC,YAA9B,CAAjB;AACAd,IAAAA,GAAG,CAACe,IAAJ,GAAWL,QAAX;AAEAR,IAAAA,IAAI;AACP,GAND,CAME,OAAOc,KAAP,EAAc;AACZf,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACD,MAAAA,MAAM,EAAE,MAAT;AAAiBE,MAAAA,OAAO,EAAE;AAA1B,KAArB;AACH;AACJ;;AAEM,SAASU,KAAT,CAAgBjB,GAAhB,EAAqBC,GAArB,EAA0BC,IAA1B,EAA+B;AAClC;AACA;AACA,QAAMC,UAAU,GAAGH,GAAG,CAACI,OAAJ,CAAY,eAAZ,CAAnB;AACA,MAAG,CAACD,UAAJ,EAAgB,OAAOF,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,IAAAA,OAAO,EAAE;AAAV,GAArB,CAAP;AAEhB,QAAMC,KAAK,GAAGL,UAAU,CAACM,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAAd;;AAEA,MAAI;AACA;AACA,UAAMC,QAAQ,GAAGb,GAAG,CAACc,MAAJ,CAAWH,KAAX,EAAkBI,OAAO,CAACC,GAAR,CAAYK,WAA9B,CAAjB;AACAlB,IAAAA,GAAG,CAACe,IAAJ,GAAWL,QAAX;AAEAR,IAAAA,IAAI;AACP,GAND,CAME,OAAOc,KAAP,EAAc;AACZf,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACD,MAAAA,MAAM,EAAE,MAAT;AAAiBE,MAAAA,OAAO,EAAE;AAA1B,KAArB;AACH;AACJ","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/routes/api/","sourcesContent":["import jsonwebtoken from \"jsonwebtoken\";\n\nconst jwt = jsonwebtoken;\n\nexport function auth (req, res, next){\n    //assign a token for a request\n    // const token = req.header('auth-token');      \n    const authHeader = req.headers[\"authorization\"]\n    if(!authHeader) return res.status(401).json({message: 'Access Denied!'}) \n\n    const token = authHeader.split(\" \")[1];\n\n    try {\n        //verifying a req Token above with actual Token u have in .env file\n        const verified = jwt.verify(token, process.env.TOKEN_SECRET); \n        req.user = verified;\n\n        next();\n    } catch (error) {\n        res.status(400).json({status: \"Fail\", message: 'Invalid Token'});\n    }\n}\n\nexport function admin (req, res, next){\n    //assign a token for a request\n    // const token = req.header('auth-token');      \n    const authHeader = req.headers[\"authorization\"]\n    if(!authHeader) return res.status(401).json({message: 'Access Denied!'}) \n\n    const token = authHeader.split(\" \")[1];\n\n    try {\n        //verifying a req Token above with actual Token u have in .env file\n        const verified = jwt.verify(token, process.env.ADMIN_TOKEN); \n        req.user = verified;\n\n        next();\n    } catch (error) {\n        res.status(400).json({status: \"Fail\", message: 'Invalid Token'});\n    }\n}"]}},"mtime":1648460512174},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/models/contactUs.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"prod\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:prod":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Contact = void 0;\n\nvar _dateFns = require(\"date-fns\");\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst schema = _mongoose.default.Schema;\nconst contactSchema = new schema({\n  name: {\n    type: String,\n    required: true,\n    min: 3,\n    max: 30\n  },\n  email: {\n    type: String,\n    required: true,\n    min: 3,\n    max: 30\n  },\n  message: {\n    type: String,\n    required: true,\n    min: 3,\n    max: 1000\n  },\n  date: {\n    type: Date,\n    default: Date.now\n  }\n}, {\n  timestamps: true\n});\n\nconst Contact = _mongoose.default.model(\"Contact\", contactSchema);\n\nexports.Contact = Contact;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhY3RVcy5qcyJdLCJuYW1lcyI6WyJzY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsImNvbnRhY3RTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwibWluIiwibWF4IiwiZW1haWwiLCJtZXNzYWdlIiwiZGF0ZSIsIkRhdGUiLCJkZWZhdWx0Iiwibm93IiwidGltZXN0YW1wcyIsIkNvbnRhY3QiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBQ0EsTUFBTUEsTUFBTSxHQUFHQyxrQkFBU0MsTUFBeEI7QUFFQSxNQUFNQyxhQUFhLEdBQUcsSUFBSUgsTUFBSixDQUNsQjtBQUNJSSxFQUFBQSxJQUFJLEVBQUU7QUFDRkMsSUFBQUEsSUFBSSxFQUFFQyxNQURKO0FBRUZDLElBQUFBLFFBQVEsRUFBRSxJQUZSO0FBR0ZDLElBQUFBLEdBQUcsRUFBRSxDQUhIO0FBSUZDLElBQUFBLEdBQUcsRUFBRTtBQUpILEdBRFY7QUFPSUMsRUFBQUEsS0FBSyxFQUFFO0FBQ0hMLElBQUFBLElBQUksRUFBRUMsTUFESDtBQUVIQyxJQUFBQSxRQUFRLEVBQUUsSUFGUDtBQUdIQyxJQUFBQSxHQUFHLEVBQUUsQ0FIRjtBQUlIQyxJQUFBQSxHQUFHLEVBQUU7QUFKRixHQVBYO0FBYUlFLEVBQUFBLE9BQU8sRUFBRTtBQUNMTixJQUFBQSxJQUFJLEVBQUVDLE1BREQ7QUFFTEMsSUFBQUEsUUFBUSxFQUFFLElBRkw7QUFHTEMsSUFBQUEsR0FBRyxFQUFFLENBSEE7QUFJTEMsSUFBQUEsR0FBRyxFQUFFO0FBSkEsR0FiYjtBQW1CSUcsRUFBQUEsSUFBSSxFQUFFO0FBQ0ZQLElBQUFBLElBQUksRUFBRVEsSUFESjtBQUVGQyxJQUFBQSxPQUFPLEVBQUVELElBQUksQ0FBQ0U7QUFGWjtBQW5CVixDQURrQixFQTBCbEI7QUFDSUMsRUFBQUEsVUFBVSxFQUFFO0FBRGhCLENBMUJrQixDQUF0Qjs7QUErQkEsTUFBTUMsT0FBTyxHQUFHaEIsa0JBQVNpQixLQUFULENBQWUsU0FBZixFQUEwQmYsYUFBMUIsQ0FBaEIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FuZGVsYXJ3YW5kYS9Eb2N1bWVudHMvbXlicmFuZC9zcmMvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1pbiB9IGZyb20gXCJkYXRlLWZuc1wiO1xuaW1wb3J0ICBtb25nb29zZSAgZnJvbSBcIm1vbmdvb3NlXCI7XG5jb25zdCBzY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XG5cbmNvbnN0IGNvbnRhY3RTY2hlbWEgPSBuZXcgc2NoZW1hKFxuICAgIHtcbiAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICBtaW46IDMsXG4gICAgICAgICAgICBtYXg6IDMwLFxuICAgICAgICB9LFxuICAgICAgICBlbWFpbDoge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICBtaW46IDMsXG4gICAgICAgICAgICBtYXg6IDMwLFxuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIG1pbjogMyxcbiAgICAgICAgICAgIG1heDogMTAwMCxcbiAgICAgICAgfSxcbiAgICAgICAgZGF0ZToge1xuICAgICAgICAgICAgdHlwZTogRGF0ZSxcbiAgICAgICAgICAgIGRlZmF1bHQ6IERhdGUubm93LFxuICAgICAgICB9XG5cbiAgICB9LFxuICAgIHtcbiAgICAgICAgdGltZXN0YW1wczogdHJ1ZSxcbiAgICB9XG4pO1xuXG5jb25zdCBDb250YWN0ID0gbW9uZ29vc2UubW9kZWwoXCJDb250YWN0XCIsIGNvbnRhY3RTY2hlbWEpO1xuXG5leHBvcnQgeyBDb250YWN0IH07XG4iXX0=","map":{"version":3,"sources":["contactUs.js"],"names":["schema","mongoose","Schema","contactSchema","name","type","String","required","min","max","email","message","date","Date","default","now","timestamps","Contact","model"],"mappings":";;;;;;;AAAA;;AACA;;;;AACA,MAAMA,MAAM,GAAGC,kBAASC,MAAxB;AAEA,MAAMC,aAAa,GAAG,IAAIH,MAAJ,CAClB;AACII,EAAAA,IAAI,EAAE;AACFC,IAAAA,IAAI,EAAEC,MADJ;AAEFC,IAAAA,QAAQ,EAAE,IAFR;AAGFC,IAAAA,GAAG,EAAE,CAHH;AAIFC,IAAAA,GAAG,EAAE;AAJH,GADV;AAOIC,EAAAA,KAAK,EAAE;AACHL,IAAAA,IAAI,EAAEC,MADH;AAEHC,IAAAA,QAAQ,EAAE,IAFP;AAGHC,IAAAA,GAAG,EAAE,CAHF;AAIHC,IAAAA,GAAG,EAAE;AAJF,GAPX;AAaIE,EAAAA,OAAO,EAAE;AACLN,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE,IAFL;AAGLC,IAAAA,GAAG,EAAE,CAHA;AAILC,IAAAA,GAAG,EAAE;AAJA,GAbb;AAmBIG,EAAAA,IAAI,EAAE;AACFP,IAAAA,IAAI,EAAEQ,IADJ;AAEFC,IAAAA,OAAO,EAAED,IAAI,CAACE;AAFZ;AAnBV,CADkB,EA0BlB;AACIC,EAAAA,UAAU,EAAE;AADhB,CA1BkB,CAAtB;;AA+BA,MAAMC,OAAO,GAAGhB,kBAASiB,KAAT,CAAe,SAAf,EAA0Bf,aAA1B,CAAhB","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/models/","sourcesContent":["import { min } from \"date-fns\";\nimport  mongoose  from \"mongoose\";\nconst schema = mongoose.Schema;\n\nconst contactSchema = new schema(\n    {\n        name: {\n            type: String,\n            required: true,\n            min: 3,\n            max: 30,\n        },\n        email: {\n            type: String,\n            required: true,\n            min: 3,\n            max: 30,\n        },\n        message: {\n            type: String,\n            required: true,\n            min: 3,\n            max: 1000,\n        },\n        date: {\n            type: Date,\n            default: Date.now,\n        }\n\n    },\n    {\n        timestamps: true,\n    }\n);\n\nconst Contact = mongoose.model(\"Contact\", contactSchema);\n\nexport { Contact };\n"]}},"mtime":1647162840076},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/routes/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/routes/api/blogRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"prod\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:prod":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.router = void 0;\n\nvar _express = require(\"express\");\n\nvar _BlogController = require(\"../../controller/BlogController\");\n\nvar _verifyToken = require(\"./verifyToken.js\");\n\nconst router = (0, _express.Router)();\n/**\n * @openapi\n * tags:\n *  name: Blog\n */\n\n/**\n * @swagger\n * components:\n *  schemas:\n *    Blog:\n *      type: object\n *      required:\n *        - title\n *        - author\n *        - body\n *      properties:\n *        title:\n *          type: string\n *          description: Every post must have title \n *        author:\n *          type: string\n *          description: This should be the author of post.\n *        body:\n *          type: string\n *          description: This holds the content of the post.\n *      example:\n *        title: My post\n *        author: I am muheto hodal\n *        body: This is content of my post\n */\n\n/**\n * @swagger\n * /api/v1/blogs:\n *  get:\n *    summary: This route returns a list of all blogs\n *    responses:\n *      200:\n *        description: Success\n *      500:\n *        description: Internal Server Error \n *        content:\n *          application/json:\n *            schema:\n *              type: array\n *              items:\n *                $ref: '#/components/schemas/Blog'\n */\n\nexports.router = router;\nrouter.get(\"/\", _BlogController.blog_index);\n/**\n * @swagger\n * /api/v1/blogs:\n *  post:\n *    security:\n *      - Token: []\n *    summary: This route allow a user to create a new blog post\n *    description: A user must have a Token to create a post\n *    tags:\n *      - Blog\n *    requestBody:\n *      required: true\n *      content:\n *        application/json:\n *          schema:\n *            $ref: '#/components/schemas/Blog'\n *    responses:\n *      200:\n *        description: Successfully Added\n *        content:\n *          application/json:\n *            schema:\n *              $ref: '#/components/schemas/Blog'\n *      400:\n *        description: Invalid user input!\n *      500:\n *        description: Internal server error!\n *      401:\n *        description: Access denied!   \n */\n// router.get(\"/add-blog\", blog_create_get);\n\nrouter.post(\"/\", _verifyToken.auth, _BlogController.blog_create_post);\n/**\n * @swagger\n * /api/v1/blogs/{id}:\n *  get:\n *    summary: This route returns the details of a specfic post\n *    description: The response should be formated in Json object\n *    tags:\n *      - Blog\n *    parameters:\n *      - in: id\n *        name: id\n *        required: true\n *        description: This should be a valid post Id\n *    responses:\n *      200:\n *        description: a post Found\n *        content:\n *          application/json:\n *            schema:\n *              $ref: '#/components/schemas/Blog'\n *      500:\n *        description: Internal Server Error\n *      404:\n *        description: Not found!\n */\n\nrouter.get(\"/:id\", _BlogController.blog_details);\n/**\n * @swagger\n *  /api/v1/blogs/{id}:\n *    put:\n *      security:\n *        - Token: []\n *      summary: This route update an existing blog post\n *      description: a Token is required to update a post\n *      tags:\n *        - Blog\n *      parameters:\n *        - in: path\n *          name: id\n *          required: true\n *          description: you have to provide a valid post Id\n *          schema:\n *            $ref: '#/components/schemas/Blog'\n *      responses:\n *        200:\n *          description: Successfully updated.\n *          content:\n *            application/json:\n *              schema:\n *                $ref: '#/components/schemas/Blog'\n *        404:\n *          description: invalid request!\n *        500:\n *          description: Internal server error\n *        401:\n *          description: Access denied!\n */\n//!! Update\n\nrouter.put(\"/:id\", _verifyToken.auth, _BlogController.blogUpdate); //!! Handling DELETE request\n\n/**\n * @swagger\n * /api/v1/blogs/{id}:\n *    delete:\n *      security:\n *        - Token: []\n *      summary: This route Allow user to delete an existing post\n *      description: a Token is required to Delete a post\n *      tags:\n *        - Blog\n *      parameters:\n *        - in: path\n *          name: id\n *          required: true\n *          description: you have to provide a valid post Id\n *          schema:\n *            $ref: '#/components/schemas/Blog'\n *      responses:\n *        200:\n *          description: Delete a post\n *        204:\n *          description: Post not found!\n *        401:\n *          description: Access denied!\n */\n//!! Handling DELETE request\n\nrouter.delete(\"/:id\", _verifyToken.admin, _BlogController.blog_delete);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2dSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZ2V0IiwiYmxvZ19pbmRleCIsInBvc3QiLCJ2ZXJpZnkiLCJibG9nX2NyZWF0ZV9wb3N0IiwiYmxvZ19kZXRhaWxzIiwicHV0IiwiYmxvZ1VwZGF0ZSIsImRlbGV0ZSIsInZlcmlmeUFkbWluIiwiYmxvZ19kZWxldGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7QUFPQTs7QUFHQSxNQUFNQSxNQUFNLEdBQUcsc0JBQWY7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBQSxNQUFNLENBQUNDLEdBQVAsQ0FBVyxHQUFYLEVBQWdCQywwQkFBaEI7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFJQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksR0FBWixFQUFpQkMsaUJBQWpCLEVBQXlCQyxnQ0FBekI7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQUwsTUFBTSxDQUFDQyxHQUFQLENBQVcsTUFBWCxFQUFtQkssNEJBQW5CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQU4sTUFBTSxDQUFDTyxHQUFQLENBQVcsTUFBWCxFQUFtQkgsaUJBQW5CLEVBQTJCSSwwQkFBM0IsRSxDQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0FSLE1BQU0sQ0FBQ1MsTUFBUCxDQUFjLE1BQWQsRUFBc0JDLGtCQUF0QixFQUFtQ0MsMkJBQW5DIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbmRlbGFyd2FuZGEvRG9jdW1lbnRzL215YnJhbmQvc3JjL3JvdXRlcy9hcGkvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSBcImV4cHJlc3NcIjtcblxuaW1wb3J0IHtcbiAgYmxvZ19pbmRleCxcbiAgYmxvZ19jcmVhdGVfcG9zdCxcbiAgYmxvZ19kZXRhaWxzLFxuICBibG9nX2RlbGV0ZSxcbiAgYmxvZ1VwZGF0ZSxcbn0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXIvQmxvZ0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IGF1dGggYXMgdmVyaWZ5IH0gZnJvbSBcIi4vdmVyaWZ5VG9rZW4uanNcIjtcbmltcG9ydCB7IGFkbWluIGFzIHZlcmlmeUFkbWluIH0gZnJvbSBcIi4vdmVyaWZ5VG9rZW4uanNcIjtcblxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XG5cbi8qKlxuICogQG9wZW5hcGlcbiAqIHRhZ3M6XG4gKiAgbmFtZTogQmxvZ1xuICovXG5cbi8qKlxuICogQHN3YWdnZXJcbiAqIGNvbXBvbmVudHM6XG4gKiAgc2NoZW1hczpcbiAqICAgIEJsb2c6XG4gKiAgICAgIHR5cGU6IG9iamVjdFxuICogICAgICByZXF1aXJlZDpcbiAqICAgICAgICAtIHRpdGxlXG4gKiAgICAgICAgLSBhdXRob3JcbiAqICAgICAgICAtIGJvZHlcbiAqICAgICAgcHJvcGVydGllczpcbiAqICAgICAgICB0aXRsZTpcbiAqICAgICAgICAgIHR5cGU6IHN0cmluZ1xuICogICAgICAgICAgZGVzY3JpcHRpb246IEV2ZXJ5IHBvc3QgbXVzdCBoYXZlIHRpdGxlIFxuICogICAgICAgIGF1dGhvcjpcbiAqICAgICAgICAgIHR5cGU6IHN0cmluZ1xuICogICAgICAgICAgZGVzY3JpcHRpb246IFRoaXMgc2hvdWxkIGJlIHRoZSBhdXRob3Igb2YgcG9zdC5cbiAqICAgICAgICBib2R5OlxuICogICAgICAgICAgdHlwZTogc3RyaW5nXG4gKiAgICAgICAgICBkZXNjcmlwdGlvbjogVGhpcyBob2xkcyB0aGUgY29udGVudCBvZiB0aGUgcG9zdC5cbiAqICAgICAgZXhhbXBsZTpcbiAqICAgICAgICB0aXRsZTogTXkgcG9zdFxuICogICAgICAgIGF1dGhvcjogSSBhbSBtdWhldG8gaG9kYWxcbiAqICAgICAgICBib2R5OiBUaGlzIGlzIGNvbnRlbnQgb2YgbXkgcG9zdFxuICovXG5cblxuLyoqXG4gKiBAc3dhZ2dlclxuICogL2FwaS92MS9ibG9nczpcbiAqICBnZXQ6XG4gKiAgICBzdW1tYXJ5OiBUaGlzIHJvdXRlIHJldHVybnMgYSBsaXN0IG9mIGFsbCBibG9nc1xuICogICAgcmVzcG9uc2VzOlxuICogICAgICAyMDA6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IFN1Y2Nlc3NcbiAqICAgICAgNTAwOlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IgXG4gKiAgICAgICAgY29udGVudDpcbiAqICAgICAgICAgIGFwcGxpY2F0aW9uL2pzb246XG4gKiAgICAgICAgICAgIHNjaGVtYTpcbiAqICAgICAgICAgICAgICB0eXBlOiBhcnJheVxuICogICAgICAgICAgICAgIGl0ZW1zOlxuICogICAgICAgICAgICAgICAgJHJlZjogJyMvY29tcG9uZW50cy9zY2hlbWFzL0Jsb2cnXG4gKi9cbnJvdXRlci5nZXQoXCIvXCIsIGJsb2dfaW5kZXgpO1xuXG4vKipcbiAqIEBzd2FnZ2VyXG4gKiAvYXBpL3YxL2Jsb2dzOlxuICogIHBvc3Q6XG4gKiAgICBzZWN1cml0eTpcbiAqICAgICAgLSBUb2tlbjogW11cbiAqICAgIHN1bW1hcnk6IFRoaXMgcm91dGUgYWxsb3cgYSB1c2VyIHRvIGNyZWF0ZSBhIG5ldyBibG9nIHBvc3RcbiAqICAgIGRlc2NyaXB0aW9uOiBBIHVzZXIgbXVzdCBoYXZlIGEgVG9rZW4gdG8gY3JlYXRlIGEgcG9zdFxuICogICAgdGFnczpcbiAqICAgICAgLSBCbG9nXG4gKiAgICByZXF1ZXN0Qm9keTpcbiAqICAgICAgcmVxdWlyZWQ6IHRydWVcbiAqICAgICAgY29udGVudDpcbiAqICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICogICAgICAgICAgc2NoZW1hOlxuICogICAgICAgICAgICAkcmVmOiAnIy9jb21wb25lbnRzL3NjaGVtYXMvQmxvZydcbiAqICAgIHJlc3BvbnNlczpcbiAqICAgICAgMjAwOlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBTdWNjZXNzZnVsbHkgQWRkZWRcbiAqICAgICAgICBjb250ZW50OlxuICogICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcbiAqICAgICAgICAgICAgc2NoZW1hOlxuICogICAgICAgICAgICAgICRyZWY6ICcjL2NvbXBvbmVudHMvc2NoZW1hcy9CbG9nJ1xuICogICAgICA0MDA6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IEludmFsaWQgdXNlciBpbnB1dCFcbiAqICAgICAgNTAwOlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBJbnRlcm5hbCBzZXJ2ZXIgZXJyb3IhXG4gKiAgICAgIDQwMTpcbiAqICAgICAgICBkZXNjcmlwdGlvbjogQWNjZXNzIGRlbmllZCEgICBcbiAqL1xuXG4vLyByb3V0ZXIuZ2V0KFwiL2FkZC1ibG9nXCIsIGJsb2dfY3JlYXRlX2dldCk7XG5cblxuXG5yb3V0ZXIucG9zdChcIi9cIiwgdmVyaWZ5LCBibG9nX2NyZWF0ZV9wb3N0KTtcblxuLyoqXG4gKiBAc3dhZ2dlclxuICogL2FwaS92MS9ibG9ncy97aWR9OlxuICogIGdldDpcbiAqICAgIHN1bW1hcnk6IFRoaXMgcm91dGUgcmV0dXJucyB0aGUgZGV0YWlscyBvZiBhIHNwZWNmaWMgcG9zdFxuICogICAgZGVzY3JpcHRpb246IFRoZSByZXNwb25zZSBzaG91bGQgYmUgZm9ybWF0ZWQgaW4gSnNvbiBvYmplY3RcbiAqICAgIHRhZ3M6XG4gKiAgICAgIC0gQmxvZ1xuICogICAgcGFyYW1ldGVyczpcbiAqICAgICAgLSBpbjogaWRcbiAqICAgICAgICBuYW1lOiBpZFxuICogICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFRoaXMgc2hvdWxkIGJlIGEgdmFsaWQgcG9zdCBJZFxuICogICAgcmVzcG9uc2VzOlxuICogICAgICAyMDA6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IGEgcG9zdCBGb3VuZFxuICogICAgICAgIGNvbnRlbnQ6XG4gKiAgICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICogICAgICAgICAgICBzY2hlbWE6XG4gKiAgICAgICAgICAgICAgJHJlZjogJyMvY29tcG9uZW50cy9zY2hlbWFzL0Jsb2cnXG4gKiAgICAgIDUwMDpcbiAqICAgICAgICBkZXNjcmlwdGlvbjogSW50ZXJuYWwgU2VydmVyIEVycm9yXG4gKiAgICAgIDQwNDpcbiAqICAgICAgICBkZXNjcmlwdGlvbjogTm90IGZvdW5kIVxuICovXG5cbnJvdXRlci5nZXQoXCIvOmlkXCIsIGJsb2dfZGV0YWlscyk7XG4vKipcbiAqIEBzd2FnZ2VyXG4gKiAgL2FwaS92MS9ibG9ncy97aWR9OlxuICogICAgcHV0OlxuICogICAgICBzZWN1cml0eTpcbiAqICAgICAgICAtIFRva2VuOiBbXVxuICogICAgICBzdW1tYXJ5OiBUaGlzIHJvdXRlIHVwZGF0ZSBhbiBleGlzdGluZyBibG9nIHBvc3RcbiAqICAgICAgZGVzY3JpcHRpb246IGEgVG9rZW4gaXMgcmVxdWlyZWQgdG8gdXBkYXRlIGEgcG9zdFxuICogICAgICB0YWdzOlxuICogICAgICAgIC0gQmxvZ1xuICogICAgICBwYXJhbWV0ZXJzOlxuICogICAgICAgIC0gaW46IHBhdGhcbiAqICAgICAgICAgIG5hbWU6IGlkXG4gKiAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICogICAgICAgICAgZGVzY3JpcHRpb246IHlvdSBoYXZlIHRvIHByb3ZpZGUgYSB2YWxpZCBwb3N0IElkXG4gKiAgICAgICAgICBzY2hlbWE6XG4gKiAgICAgICAgICAgICRyZWY6ICcjL2NvbXBvbmVudHMvc2NoZW1hcy9CbG9nJ1xuICogICAgICByZXNwb25zZXM6XG4gKiAgICAgICAgMjAwOlxuICogICAgICAgICAgZGVzY3JpcHRpb246IFN1Y2Nlc3NmdWxseSB1cGRhdGVkLlxuICogICAgICAgICAgY29udGVudDpcbiAqICAgICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcbiAqICAgICAgICAgICAgICBzY2hlbWE6XG4gKiAgICAgICAgICAgICAgICAkcmVmOiAnIy9jb21wb25lbnRzL3NjaGVtYXMvQmxvZydcbiAqICAgICAgICA0MDQ6XG4gKiAgICAgICAgICBkZXNjcmlwdGlvbjogaW52YWxpZCByZXF1ZXN0IVxuICogICAgICAgIDUwMDpcbiAqICAgICAgICAgIGRlc2NyaXB0aW9uOiBJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcbiAqICAgICAgICA0MDE6XG4gKiAgICAgICAgICBkZXNjcmlwdGlvbjogQWNjZXNzIGRlbmllZCFcbiAqL1xuLy8hISBVcGRhdGVcbnJvdXRlci5wdXQoXCIvOmlkXCIsIHZlcmlmeSwgYmxvZ1VwZGF0ZSk7XG4vLyEhIEhhbmRsaW5nIERFTEVURSByZXF1ZXN0XG4vKipcbiAqIEBzd2FnZ2VyXG4gKiAvYXBpL3YxL2Jsb2dzL3tpZH06XG4gKiAgICBkZWxldGU6XG4gKiAgICAgIHNlY3VyaXR5OlxuICogICAgICAgIC0gVG9rZW46IFtdXG4gKiAgICAgIHN1bW1hcnk6IFRoaXMgcm91dGUgQWxsb3cgdXNlciB0byBkZWxldGUgYW4gZXhpc3RpbmcgcG9zdFxuICogICAgICBkZXNjcmlwdGlvbjogYSBUb2tlbiBpcyByZXF1aXJlZCB0byBEZWxldGUgYSBwb3N0XG4gKiAgICAgIHRhZ3M6XG4gKiAgICAgICAgLSBCbG9nXG4gKiAgICAgIHBhcmFtZXRlcnM6XG4gKiAgICAgICAgLSBpbjogcGF0aFxuICogICAgICAgICAgbmFtZTogaWRcbiAqICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gKiAgICAgICAgICBkZXNjcmlwdGlvbjogeW91IGhhdmUgdG8gcHJvdmlkZSBhIHZhbGlkIHBvc3QgSWRcbiAqICAgICAgICAgIHNjaGVtYTpcbiAqICAgICAgICAgICAgJHJlZjogJyMvY29tcG9uZW50cy9zY2hlbWFzL0Jsb2cnXG4gKiAgICAgIHJlc3BvbnNlczpcbiAqICAgICAgICAyMDA6XG4gKiAgICAgICAgICBkZXNjcmlwdGlvbjogRGVsZXRlIGEgcG9zdFxuICogICAgICAgIDIwNDpcbiAqICAgICAgICAgIGRlc2NyaXB0aW9uOiBQb3N0IG5vdCBmb3VuZCFcbiAqICAgICAgICA0MDE6XG4gKiAgICAgICAgICBkZXNjcmlwdGlvbjogQWNjZXNzIGRlbmllZCFcbiAqL1xuXG4vLyEhIEhhbmRsaW5nIERFTEVURSByZXF1ZXN0XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCB2ZXJpZnlBZG1pbiwgYmxvZ19kZWxldGUpO1xuXG5leHBvcnQgeyByb3V0ZXIgfTtcbiJdfQ==","map":{"version":3,"sources":["blogRoutes.js"],"names":["router","get","blog_index","post","verify","blog_create_post","blog_details","put","blogUpdate","delete","verifyAdmin","blog_delete"],"mappings":";;;;;;;AAAA;;AAEA;;AAOA;;AAGA,MAAMA,MAAM,GAAG,sBAAf;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAA,MAAM,CAACC,GAAP,CAAW,GAAX,EAAgBC,0BAAhB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAIAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiBC,iBAAjB,EAAyBC,gCAAzB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAL,MAAM,CAACC,GAAP,CAAW,MAAX,EAAmBK,4BAAnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAN,MAAM,CAACO,GAAP,CAAW,MAAX,EAAmBH,iBAAnB,EAA2BI,0BAA3B,E,CACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACAR,MAAM,CAACS,MAAP,CAAc,MAAd,EAAsBC,kBAAtB,EAAmCC,2BAAnC","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/routes/api/","sourcesContent":["import { Router } from \"express\";\n\nimport {\n  blog_index,\n  blog_create_post,\n  blog_details,\n  blog_delete,\n  blogUpdate,\n} from \"../../controller/BlogController\";\nimport { auth as verify } from \"./verifyToken.js\";\nimport { admin as verifyAdmin } from \"./verifyToken.js\";\n\nconst router = Router();\n\n/**\n * @openapi\n * tags:\n *  name: Blog\n */\n\n/**\n * @swagger\n * components:\n *  schemas:\n *    Blog:\n *      type: object\n *      required:\n *        - title\n *        - author\n *        - body\n *      properties:\n *        title:\n *          type: string\n *          description: Every post must have title \n *        author:\n *          type: string\n *          description: This should be the author of post.\n *        body:\n *          type: string\n *          description: This holds the content of the post.\n *      example:\n *        title: My post\n *        author: I am muheto hodal\n *        body: This is content of my post\n */\n\n\n/**\n * @swagger\n * /api/v1/blogs:\n *  get:\n *    summary: This route returns a list of all blogs\n *    responses:\n *      200:\n *        description: Success\n *      500:\n *        description: Internal Server Error \n *        content:\n *          application/json:\n *            schema:\n *              type: array\n *              items:\n *                $ref: '#/components/schemas/Blog'\n */\nrouter.get(\"/\", blog_index);\n\n/**\n * @swagger\n * /api/v1/blogs:\n *  post:\n *    security:\n *      - Token: []\n *    summary: This route allow a user to create a new blog post\n *    description: A user must have a Token to create a post\n *    tags:\n *      - Blog\n *    requestBody:\n *      required: true\n *      content:\n *        application/json:\n *          schema:\n *            $ref: '#/components/schemas/Blog'\n *    responses:\n *      200:\n *        description: Successfully Added\n *        content:\n *          application/json:\n *            schema:\n *              $ref: '#/components/schemas/Blog'\n *      400:\n *        description: Invalid user input!\n *      500:\n *        description: Internal server error!\n *      401:\n *        description: Access denied!   \n */\n\n// router.get(\"/add-blog\", blog_create_get);\n\n\n\nrouter.post(\"/\", verify, blog_create_post);\n\n/**\n * @swagger\n * /api/v1/blogs/{id}:\n *  get:\n *    summary: This route returns the details of a specfic post\n *    description: The response should be formated in Json object\n *    tags:\n *      - Blog\n *    parameters:\n *      - in: id\n *        name: id\n *        required: true\n *        description: This should be a valid post Id\n *    responses:\n *      200:\n *        description: a post Found\n *        content:\n *          application/json:\n *            schema:\n *              $ref: '#/components/schemas/Blog'\n *      500:\n *        description: Internal Server Error\n *      404:\n *        description: Not found!\n */\n\nrouter.get(\"/:id\", blog_details);\n/**\n * @swagger\n *  /api/v1/blogs/{id}:\n *    put:\n *      security:\n *        - Token: []\n *      summary: This route update an existing blog post\n *      description: a Token is required to update a post\n *      tags:\n *        - Blog\n *      parameters:\n *        - in: path\n *          name: id\n *          required: true\n *          description: you have to provide a valid post Id\n *          schema:\n *            $ref: '#/components/schemas/Blog'\n *      responses:\n *        200:\n *          description: Successfully updated.\n *          content:\n *            application/json:\n *              schema:\n *                $ref: '#/components/schemas/Blog'\n *        404:\n *          description: invalid request!\n *        500:\n *          description: Internal server error\n *        401:\n *          description: Access denied!\n */\n//!! Update\nrouter.put(\"/:id\", verify, blogUpdate);\n//!! Handling DELETE request\n/**\n * @swagger\n * /api/v1/blogs/{id}:\n *    delete:\n *      security:\n *        - Token: []\n *      summary: This route Allow user to delete an existing post\n *      description: a Token is required to Delete a post\n *      tags:\n *        - Blog\n *      parameters:\n *        - in: path\n *          name: id\n *          required: true\n *          description: you have to provide a valid post Id\n *          schema:\n *            $ref: '#/components/schemas/Blog'\n *      responses:\n *        200:\n *          description: Delete a post\n *        204:\n *          description: Post not found!\n *        401:\n *          description: Access denied!\n */\n\n//!! Handling DELETE request\nrouter.delete(\"/:id\", verifyAdmin, blog_delete);\n\nexport { router };\n"]}},"mtime":1648467688390},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/controller/BlogController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"prod\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:prod":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.blog_index = exports.blog_details = exports.blog_delete = exports.blog_create_post = exports.blogUpdate = void 0;\n\nvar _blogRoutes = _interopRequireDefault(require(\"../routes/api/blogRoutes\"));\n\nvar _validation = require(\"../validation/validation\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//import {admin as verifyAdmin} from ''\n//blog_index, blog_details, blog_create_get, blog_create_post, blog_delete, blogUpdate, \n//DISPLAYING ALL BLOGS\nconst blog_index = async (req, res) => {\n  _blogRoutes.default.find().sort({\n    createdAt: -1\n  }).then(result => {\n    return res.status(200).json({\n      status: 200,\n      title: \"All Blogs\",\n      blogs: result\n    });\n  }).catch(err => {\n    console.log(err);\n    res.status(500);\n  });\n}; //DISPLAYING ONE POST\n\n\nexports.blog_index = blog_index;\n\nconst blog_details = async (req, res) => {\n  const id = req.params.id;\n\n  try {\n    const result = await _blogRoutes.default.findById(id);\n    if (!result) return res.status(404).json({\n      status: 404,\n      message: \"post not found\"\n    });\n    return res.json({\n      title: \"Blog Details\",\n      blog: result\n    });\n  } catch (error) {\n    // console.log(error)\n    return res.status(500).json({\n      status: 500,\n      message: \"Internal server error\"\n    });\n  }\n}; //CREATING A POST\n\n\nexports.blog_details = blog_details;\n\nconst blog_create_post = async (req, res) => {\n  //check an empty submission or invalid\n  const {\n    error\n  } = (0, _validation.blogValidation)(req.body);\n  if (error) return res.status(400).json({\n    status: 400,\n    message: error.details[0].message\n  }); //save  post\n\n  try {\n    const blog = await _blogRoutes.default.create(req.body);\n    return res.status(201).json(blog);\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      status: 500,\n      message: \"Internal server error\"\n    });\n  }\n}; //UPDATE POST\n\n\nexports.blog_create_post = blog_create_post;\n\nconst blogUpdate = async (req, res) => {\n  const id = await req.params.id;\n  console.log(id.length);\n  if (id.length != 24) return res.status(400).json({\n    status: 400,\n    message: \"Invalid id detected\"\n  });\n\n  try {\n    const result = await _blogRoutes.default.findById(id);\n    if (!result) return res.status(404).json({\n      status: 404,\n      message: \"Post not found\"\n    }); //   let title = req.body.title;\n\n    const updatedBlog = await _blogRoutes.default.findByIdAndUpdate(id, req.body, {\n      new: true\n    });\n    return res.json(updatedBlog);\n  } catch (error) {\n    return res.status(500).json({\n      status: 500,\n      message: \"Internal server error\"\n    });\n  }\n}; //DELETE POST\n\n\nexports.blogUpdate = blogUpdate;\n\nconst blog_delete = async (req, res) => {\n  const id = req.params.id;\n  const result = await _blogRoutes.default.findById(id);\n  if (!result) return res.status(404).json({\n    status: 404,\n    message: `post Not found!`\n  });\n  const postDelete = await result.delete();\n  console.log(postDelete);\n  if (postDelete) return res.status(200).json({\n    status: 200,\n    message: \"post deleted\"\n  });\n  return res.status(500).json({\n    status: 500,\n    message: \"Internal server error!\"\n  });\n};\n\nexports.blog_delete = blog_delete;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJsb2dDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImJsb2dfaW5kZXgiLCJyZXEiLCJyZXMiLCJCbG9nIiwiZmluZCIsInNvcnQiLCJjcmVhdGVkQXQiLCJ0aGVuIiwicmVzdWx0Iiwic3RhdHVzIiwianNvbiIsInRpdGxlIiwiYmxvZ3MiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJibG9nX2RldGFpbHMiLCJpZCIsInBhcmFtcyIsImZpbmRCeUlkIiwibWVzc2FnZSIsImJsb2ciLCJlcnJvciIsImJsb2dfY3JlYXRlX3Bvc3QiLCJib2R5IiwiZGV0YWlscyIsImNyZWF0ZSIsImJsb2dVcGRhdGUiLCJsZW5ndGgiLCJ1cGRhdGVkQmxvZyIsImZpbmRCeUlkQW5kVXBkYXRlIiwibmV3IiwiYmxvZ19kZWxldGUiLCJwb3N0RGVsZXRlIiwiZGVsZXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFDQTtBQUVBO0FBRUE7QUFDTyxNQUFNQSxVQUFVLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQzVDQyxzQkFBS0MsSUFBTCxHQUNHQyxJQURILENBQ1E7QUFBRUMsSUFBQUEsU0FBUyxFQUFFLENBQUM7QUFBZCxHQURSLEVBRUdDLElBRkgsQ0FFU0MsTUFBRCxJQUFZO0FBQ2hCLFdBQU9OLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNELE1BQUFBLE1BQU0sRUFBRSxHQUFUO0FBQWNFLE1BQUFBLEtBQUssRUFBRSxXQUFyQjtBQUFrQ0MsTUFBQUEsS0FBSyxFQUFFSjtBQUF6QyxLQUFyQixDQUFQO0FBQ0QsR0FKSCxFQUtHSyxLQUxILENBS1VDLEdBQUQsSUFBUztBQUNkQyxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsR0FBWjtBQUNBWixJQUFBQSxHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYO0FBQ0QsR0FSSDtBQVNELENBVk0sQyxDQVlQOzs7OztBQUNPLE1B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QVA7QUFFaEIsU0FBT25CLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNELElBQUFBLE1BQU0sRUFBRSxHQUFUO0FBQWNZLElBQUFBLE9BQU8sRUFBRTtBQUF2QixHQUFyQixDQUFQO0FBQ0QsQ0FaTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW5kZWxhcndhbmRhL0RvY3VtZW50cy9teWJyYW5kL3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCbG9nIGZyb20gXCIuLi9yb3V0ZXMvYXBpL2Jsb2dSb3V0ZXNcIjtcbmltcG9ydCB7IGJsb2dWYWxpZGF0aW9uIH0gZnJvbSBcIi4uL3ZhbGlkYXRpb24vdmFsaWRhdGlvblwiO1xuLy9pbXBvcnQge2FkbWluIGFzIHZlcmlmeUFkbWlufSBmcm9tICcnXG5cbi8vYmxvZ19pbmRleCwgYmxvZ19kZXRhaWxzLCBibG9nX2NyZWF0ZV9nZXQsIGJsb2dfY3JlYXRlX3Bvc3QsIGJsb2dfZGVsZXRlLCBibG9nVXBkYXRlLCBcblxuLy9ESVNQTEFZSU5HIEFMTCBCTE9HU1xuZXhwb3J0IGNvbnN0IGJsb2dfaW5kZXggPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgQmxvZy5maW5kKClcbiAgICAuc29ydCh7IGNyZWF0ZWRBdDogLTEgfSlcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe3N0YXR1czogMjAwLCB0aXRsZTogXCJBbGwgQmxvZ3NcIiwgYmxvZ3M6IHJlc3VsdCB9KTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApO1xuICAgIH0pO1xufTtcblxuLy9ESVNQTEFZSU5HIE9ORSBQT1NUXG5leHBvcnQgY29uc3QgYmxvZ19kZXRhaWxzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZDtcblxuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEJsb2cuZmluZEJ5SWQoaWQpO1xuICAgIGlmICghcmVzdWx0KSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe3N0YXR1czogNDA0LCBtZXNzYWdlOiBcInBvc3Qgbm90IGZvdW5kXCIgfSk7XG4gIFxuICAgIHJldHVybiByZXMuanNvbih7IHRpdGxlOiBcIkJsb2cgRGV0YWlsc1wiLCBibG9nOiByZXN1bHQgfSk7XG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gY29uc29sZS5sb2coZXJyb3IpXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtzdGF0dXM6IDUwMCwgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9KTtcbiAgfVxufTtcblxuLy9DUkVBVElORyBBIFBPU1RcbmV4cG9ydCBjb25zdCBibG9nX2NyZWF0ZV9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIC8vY2hlY2sgYW4gZW1wdHkgc3VibWlzc2lvbiBvciBpbnZhbGlkXG4gIGNvbnN0IHsgZXJyb3IgfSA9IGJsb2dWYWxpZGF0aW9uKHJlcS5ib2R5KTtcbiAgaWYgKGVycm9yKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe3N0YXR1czogNDAwLCBtZXNzYWdlOiBlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UgfSk7XG5cbiAgLy9zYXZlICBwb3N0XG4gIHRyeSB7XG4gICAgY29uc3QgYmxvZyA9IGF3YWl0IEJsb2cuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oYmxvZyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtzdGF0dXM6IDUwMCwgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9KTtcbiAgfVxufTtcblxuLy9VUERBVEUgUE9TVFxuZXhwb3J0IGNvbnN0IGJsb2dVcGRhdGUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgaWQgPSBhd2FpdCByZXEucGFyYW1zLmlkO1xuICBjb25zb2xlLmxvZyhpZC5sZW5ndGgpXG5cbiAgaWYoaWQubGVuZ3RoICE9IDI0KSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe3N0YXR1czogNDAwLCBtZXNzYWdlOiBcIkludmFsaWQgaWQgZGV0ZWN0ZWRcIn0pXG5cbiAgdHJ5IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQmxvZy5maW5kQnlJZChpZCk7XG4gIGlmICghcmVzdWx0KSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe3N0YXR1czogNDA0LCBtZXNzYWdlOiBcIlBvc3Qgbm90IGZvdW5kXCIgfSk7XG5cbiAgLy8gICBsZXQgdGl0bGUgPSByZXEuYm9keS50aXRsZTtcbiAgICBjb25zdCB1cGRhdGVkQmxvZyA9IGF3YWl0IEJsb2cuZmluZEJ5SWRBbmRVcGRhdGUoaWQsIHJlcS5ib2R5LCB7XG4gICAgICBuZXc6IHRydWUsXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcy5qc29uKHVwZGF0ZWRCbG9nKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe3N0YXR1czogNTAwLCBtZXNzYWdlOiBcIkludGVybmFsIHNlcnZlciBlcnJvclwiIH0pO1xuICAgIFxuICB9XG59O1xuXG4vL0RFTEVURSBQT1NUXG5leHBvcnQgY29uc3QgYmxvZ19kZWxldGUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBCbG9nLmZpbmRCeUlkKGlkKTtcblxuICBpZiAoIXJlc3VsdCkgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtzdGF0dXM6IDQwNCwgbWVzc2FnZTogYHBvc3QgTm90IGZvdW5kIWAgfSk7XG5cbiAgY29uc3QgcG9zdERlbGV0ZSA9IGF3YWl0IHJlc3VsdC5kZWxldGUoKTtcbiAgY29uc29sZS5sb2cocG9zdERlbGV0ZSlcblxuICBpZiAocG9zdERlbGV0ZSkgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtzdGF0dXM6IDIwMCwgbWVzc2FnZTogXCJwb3N0IGRlbGV0ZWRcIiB9KTtcblxuICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe3N0YXR1czogNTAwLCBtZXNzYWdlOiBcIkludGVybmFsIHNlcnZlciBlcnJvciFcIiB9KTtcbn07XG4iXX0=","map":{"version":3,"sources":["BlogController.js"],"names":["blog_index","req","res","Blog","find","sort","createdAt","then","result","status","json","title","blogs","catch","err","console","log","blog_details","id","params","findById","message","blog","error","blog_create_post","body","details","create","blogUpdate","length","updatedBlog","findByIdAndUpdate","new","blog_delete","postDelete","delete"],"mappings":"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","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/controller/","sourcesContent":["import Blog from \"../routes/api/blogRoutes\";\nimport { blogValidation } from \"../validation/validation\";\n//import {admin as verifyAdmin} from ''\n\n//blog_index, blog_details, blog_create_get, blog_create_post, blog_delete, blogUpdate, \n\n//DISPLAYING ALL BLOGS\nexport const blog_index = async (req, res) => {\n  Blog.find()\n    .sort({ createdAt: -1 })\n    .then((result) => {\n      return res.status(200).json({status: 200, title: \"All Blogs\", blogs: result });\n    })\n    .catch((err) => {\n      console.log(err);\n      res.status(500);\n    });\n};\n\n//DISPLAYING ONE POST\nexport const blog_details = async (req, res) => {\n  const id = req.params.id;\n\n  try {\n    const result = await Blog.findById(id);\n    if (!result) return res.status(404).json({status: 404, message: \"post not found\" });\n  \n    return res.json({ title: \"Blog Details\", blog: result });\n    \n  } catch (error) {\n    // console.log(error)\n    return res.status(500).json({status: 500, message: \"Internal server error\" });\n  }\n};\n\n//CREATING A POST\nexport const blog_create_post = async (req, res) => {\n  //check an empty submission or invalid\n  const { error } = blogValidation(req.body);\n  if (error) return res.status(400).json({status: 400, message: error.details[0].message });\n\n  //save  post\n  try {\n    const blog = await Blog.create(req.body);\n    return res.status(201).json(blog);\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({status: 500, message: \"Internal server error\" });\n  }\n};\n\n//UPDATE POST\nexport const blogUpdate = async (req, res) => {\n  const id = await req.params.id;\n  console.log(id.length)\n\n  if(id.length != 24) return res.status(400).json({status: 400, message: \"Invalid id detected\"})\n\n  try {\n  const result = await Blog.findById(id);\n  if (!result) return res.status(404).json({status: 404, message: \"Post not found\" });\n\n  //   let title = req.body.title;\n    const updatedBlog = await Blog.findByIdAndUpdate(id, req.body, {\n      new: true,\n    });\n    return res.json(updatedBlog);\n  } catch (error) {\n    return res.status(500).json({status: 500, message: \"Internal server error\" });\n    \n  }\n};\n\n//DELETE POST\nexport const blog_delete = async (req, res) => {\n  const id = req.params.id;\n  const result = await Blog.findById(id);\n\n  if (!result) return res.status(404).json({status: 404, message: `post Not found!` });\n\n  const postDelete = await result.delete();\n  console.log(postDelete)\n\n  if (postDelete) return res.status(200).json({status: 200, message: \"post deleted\" });\n\n  return res.status(500).json({status: 500, message: \"Internal server error!\" });\n};\n"]}},"mtime":1648467899829},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/routes/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/routes/api/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"prod\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:prod":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.router = void 0;\n\nvar _express = require(\"express\");\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _User = require(\"../../models/User\");\n\nvar _validation = require(\"../../validation/validation\");\n\nvar _authController = require(\"../../controller/auth-controller\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//!!VALIDATION\nconst router = (0, _express.Router)();\n/**\n * @openapi\n * tags:\n *  name: User\n *  description: APIs for the user\n */\n\n/**\n * @swagger\n * components:\n *  schemas:\n *    User:\n *      type: object\n *      required:\n *        - name\n *        - email\n *        - password\n *      properties:\n *        name:\n *          type: string\n *          description: Every user must provide a name\n *        email:\n *          type: string\n *          description: email must be provided\n *        password:\n *          type: string\n *          description: Also provide your password.\n *      example:\n *        name: muheto hodal\n *        email: me@gmail.com\n *        password: hodol123\n */\n\n/**\n * @swagger\n * components:\n *  responses:\n *    UnauthorizedError:\n *      description: Access need Token\n */\n\n/**\n * @swagger\n * components:\n *  securitySchemes:\n *    Token:\n *      type: http\n *      scheme: Bearer\n *      bearerFormat: JWT\n */\n\n/**\n * @swagger\n * components:\n *  schemas:\n *      LoginInfo:\n *          type: object\n *          required:\n *              - email\n *              - password\n *          properties:\n *              email:\n *                  type: string\n *                  description: an email must be valid\n *              password:\n *                  type: string\n *                  description: password required.\n *          example:\n *            email: mhthodol@gmail.com\n *            password: mine222\n */\n\n/**\n * @swagger\n * /api/v1/users/register:\n *  post:\n *    summary: A user can make registration\n *    description: both name, email and password must be provided\n *    tags:\n *      - User\n *    requestBody:\n *      required: true\n *      content:\n *        application/json:\n *          schema:\n *            $ref: '#/components/schemas/User'\n *\n *    responses:\n *      200:\n *        description: Successfully registered.\n *        content:\n *          application/json:\n *            schema:\n *              $ref: '#/components/schemas/User'\n *      400:\n *        description: Invalid input or Bad formated input\n *        content:\n *          application/json:\n *            schema:\n *              type: object\n *              properties:\n *                data:\n *                  type: object\n *                code:\n *                  type: number\n */\n\nexports.router = router;\nrouter.post(\"/register\", _authController.addUser);\n/**\n * @swagger\n * /api/v1/users/login:\n *  post:\n *    summary: A user must sign-in with his/her credentials\n *    description: A user must provide a valid email and password to login\n *    tags:\n *      - User\n *    requestBody:\n *      required: true\n *      content:\n *        application/json:\n *          schema:\n *            $ref: '#/components/schemas/LoginInfo'\n *    responses:\n *      200:\n *        description: Logged-in successfully!, keep your Token\n *      400:\n *        description: Invalid userName or password!\n *      404:\n *        description: Email is not found!\n */\n//!!LOGIN\n\nrouter.post(\"/login\", _authController.loginUser);\n/**\n * @swagger\n * /api/v1/users/{id}:\n *  put:\n *    security:\n *      - Token: []\n *    summary: you can update your profile\n *    description: you need a valid Token to update your profile\n *    tags:\n *      - User\n *    parameters:\n *      - in: path\n *        name: id\n *        required: true\n *        description: use a Valid Id\n *        schema:\n *          type: string\n *    responses:\n *      200:\n *        description: Successfully updated\n *      500:\n *        description: Internal error!\n */\n//UPDATE A USER\n\nrouter.put(\"/:id\", _authController.updateUser);\n/**\n * @swagger\n * /api/v1/users/{id}:\n *  delete:\n *    security:\n *      - Token: []\n *    summary: This route Allow  to delete an existing User\n *    description: a Token is required to Delete a user\n *    tags:\n *      - User\n *    parameters:\n *      - in: path\n *        name: id\n *        required: true\n *        description: you have to provide a valid user Id\n *        schema:\n *          $ref: '#/components/schemas/User'\n *    responses:\n *      200:\n *        description: a user successfully Deleted\n *      204:\n *        description: user not found\n *      401:\n *        description: Access denied!\n */\n//!!Delete a user\n\nrouter.delete(\"/:id\", _authController.deleteUser);\n/**\n * @swagger\n * /api/v1/users:\n *  get:\n *    security:\n *      - Token: []\n *    summary: This route returns a list of users\n *    responses:\n *      200:\n *        description: Success\n *      204:\n *        description: No user found\n *      401:\n *        description: Access denied\n *      500:\n *        description: Internal server error\n *        content:\n *          application/json:\n *            schema:\n *              type: array\n *              items:\n *                $ref: '#/components/schemas/User'\n */\n//!! Get all users\n\nrouter.get(\"/\", _authController.getUsers);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsicm91dGVyIiwicG9zdCIsImFkZFVzZXIiLCJsb2dpblVzZXIiLCJwdXQiLCJ1cGRhdGVVc2VyIiwiZGVsZXRlIiwiZGVsZXRlVXNlciIsImdldCIsImdldFVzZXJzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBSUE7Ozs7QUFFQTtBQUVBLE1BQU1BLE1BQU0sR0FBRyxzQkFBZjtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUFBLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZLFdBQVosRUFBeUJDLHVCQUF6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0FGLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZLFFBQVosRUFBc0JFLHlCQUF0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQUgsTUFBTSxDQUFDSSxHQUFQLENBQVcsTUFBWCxFQUFtQkMsMEJBQW5CO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQUwsTUFBTSxDQUFDTSxNQUFQLENBQWMsTUFBZCxFQUFzQkMsMEJBQXRCO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBUCxNQUFNLENBQUNRLEdBQVAsQ0FBVyxHQUFYLEVBQWdCQyx3QkFBaEIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FuZGVsYXJ3YW5kYS9Eb2N1bWVudHMvbXlicmFuZC9zcmMvcm91dGVzL2FwaS8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XG5pbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcblxuaW1wb3J0IHsgVXNlciB9IGZyb20gXCIuLi8uLi9tb2RlbHMvVXNlclwiO1xuaW1wb3J0IHsgcmVnaXN0ZXJWYWxpZGF0aW9uLCBsb2dpblZhbGlkYXRpb24gfSBmcm9tIFwiLi4vLi4vdmFsaWRhdGlvbi92YWxpZGF0aW9uXCI7XG5pbXBvcnQgeyBhdXRoIGFzIHZlcmlmeSB9IGZyb20gXCIuLi8uLi92YWxpZGF0aW9uL3ZhbGlkYXRpb25cIjtcbmltcG9ydCB7YWRtaW59IGZyb20gXCIuLi8uLi92YWxpZGF0aW9uL3ZhbGlkYXRpb25cIlxuXG5pbXBvcnQge2xvZ2luVXNlciwgZGVsZXRlVXNlciwgZ2V0VXNlcnMsIHVwZGF0ZVVzZXIsIGFkZFVzZXJ9IGZyb20gXCIuLi8uLi9jb250cm9sbGVyL2F1dGgtY29udHJvbGxlclwiO1xuXG4vLyEhVkFMSURBVElPTlxuXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKTtcblxuLyoqXG4gKiBAb3BlbmFwaVxuICogdGFnczpcbiAqICBuYW1lOiBVc2VyXG4gKiAgZGVzY3JpcHRpb246IEFQSXMgZm9yIHRoZSB1c2VyXG4gKi9cblxuLyoqXG4gKiBAc3dhZ2dlclxuICogY29tcG9uZW50czpcbiAqICBzY2hlbWFzOlxuICogICAgVXNlcjpcbiAqICAgICAgdHlwZTogb2JqZWN0XG4gKiAgICAgIHJlcXVpcmVkOlxuICogICAgICAgIC0gbmFtZVxuICogICAgICAgIC0gZW1haWxcbiAqICAgICAgICAtIHBhc3N3b3JkXG4gKiAgICAgIHByb3BlcnRpZXM6XG4gKiAgICAgICAgbmFtZTpcbiAqICAgICAgICAgIHR5cGU6IHN0cmluZ1xuICogICAgICAgICAgZGVzY3JpcHRpb246IEV2ZXJ5IHVzZXIgbXVzdCBwcm92aWRlIGEgbmFtZVxuICogICAgICAgIGVtYWlsOlxuICogICAgICAgICAgdHlwZTogc3RyaW5nXG4gKiAgICAgICAgICBkZXNjcmlwdGlvbjogZW1haWwgbXVzdCBiZSBwcm92aWRlZFxuICogICAgICAgIHBhc3N3b3JkOlxuICogICAgICAgICAgdHlwZTogc3RyaW5nXG4gKiAgICAgICAgICBkZXNjcmlwdGlvbjogQWxzbyBwcm92aWRlIHlvdXIgcGFzc3dvcmQuXG4gKiAgICAgIGV4YW1wbGU6XG4gKiAgICAgICAgbmFtZTogbXVoZXRvIGhvZGFsXG4gKiAgICAgICAgZW1haWw6IG1lQGdtYWlsLmNvbVxuICogICAgICAgIHBhc3N3b3JkOiBob2RvbDEyM1xuICovXG5cbi8qKlxuICogQHN3YWdnZXJcbiAqIGNvbXBvbmVudHM6XG4gKiAgcmVzcG9uc2VzOlxuICogICAgVW5hdXRob3JpemVkRXJyb3I6XG4gKiAgICAgIGRlc2NyaXB0aW9uOiBBY2Nlc3MgbmVlZCBUb2tlblxuICovXG5cbi8qKlxuICogQHN3YWdnZXJcbiAqIGNvbXBvbmVudHM6XG4gKiAgc2VjdXJpdHlTY2hlbWVzOlxuICogICAgVG9rZW46XG4gKiAgICAgIHR5cGU6IGh0dHBcbiAqICAgICAgc2NoZW1lOiBCZWFyZXJcbiAqICAgICAgYmVhcmVyRm9ybWF0OiBKV1RcbiAqL1xuXG4vKipcbiAqIEBzd2FnZ2VyXG4gKiBjb21wb25lbnRzOlxuICogIHNjaGVtYXM6XG4gKiAgICAgIExvZ2luSW5mbzpcbiAqICAgICAgICAgIHR5cGU6IG9iamVjdFxuICogICAgICAgICAgcmVxdWlyZWQ6XG4gKiAgICAgICAgICAgICAgLSBlbWFpbFxuICogICAgICAgICAgICAgIC0gcGFzc3dvcmRcbiAqICAgICAgICAgIHByb3BlcnRpZXM6XG4gKiAgICAgICAgICAgICAgZW1haWw6XG4gKiAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xuICogICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYW4gZW1haWwgbXVzdCBiZSB2YWxpZFxuICogICAgICAgICAgICAgIHBhc3N3b3JkOlxuICogICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcbiAqICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHBhc3N3b3JkIHJlcXVpcmVkLlxuICogICAgICAgICAgZXhhbXBsZTpcbiAqICAgICAgICAgICAgZW1haWw6IG1odGhvZG9sQGdtYWlsLmNvbVxuICogICAgICAgICAgICBwYXNzd29yZDogbWluZTIyMlxuICovXG5cbi8qKlxuICogQHN3YWdnZXJcbiAqIC9hcGkvdjEvdXNlcnMvcmVnaXN0ZXI6XG4gKiAgcG9zdDpcbiAqICAgIHN1bW1hcnk6IEEgdXNlciBjYW4gbWFrZSByZWdpc3RyYXRpb25cbiAqICAgIGRlc2NyaXB0aW9uOiBib3RoIG5hbWUsIGVtYWlsIGFuZCBwYXNzd29yZCBtdXN0IGJlIHByb3ZpZGVkXG4gKiAgICB0YWdzOlxuICogICAgICAtIFVzZXJcbiAqICAgIHJlcXVlc3RCb2R5OlxuICogICAgICByZXF1aXJlZDogdHJ1ZVxuICogICAgICBjb250ZW50OlxuICogICAgICAgIGFwcGxpY2F0aW9uL2pzb246XG4gKiAgICAgICAgICBzY2hlbWE6XG4gKiAgICAgICAgICAgICRyZWY6ICcjL2NvbXBvbmVudHMvc2NoZW1hcy9Vc2VyJ1xuICpcbiAqICAgIHJlc3BvbnNlczpcbiAqICAgICAgMjAwOlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBTdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZC5cbiAqICAgICAgICBjb250ZW50OlxuICogICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcbiAqICAgICAgICAgICAgc2NoZW1hOlxuICogICAgICAgICAgICAgICRyZWY6ICcjL2NvbXBvbmVudHMvc2NoZW1hcy9Vc2VyJ1xuICogICAgICA0MDA6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IEludmFsaWQgaW5wdXQgb3IgQmFkIGZvcm1hdGVkIGlucHV0XG4gKiAgICAgICAgY29udGVudDpcbiAqICAgICAgICAgIGFwcGxpY2F0aW9uL2pzb246XG4gKiAgICAgICAgICAgIHNjaGVtYTpcbiAqICAgICAgICAgICAgICB0eXBlOiBvYmplY3RcbiAqICAgICAgICAgICAgICBwcm9wZXJ0aWVzOlxuICogICAgICAgICAgICAgICAgZGF0YTpcbiAqICAgICAgICAgICAgICAgICAgdHlwZTogb2JqZWN0XG4gKiAgICAgICAgICAgICAgICBjb2RlOlxuICogICAgICAgICAgICAgICAgICB0eXBlOiBudW1iZXJcbiAqL1xuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCBhZGRVc2VyKTtcbi8qKlxuICogQHN3YWdnZXJcbiAqIC9hcGkvdjEvdXNlcnMvbG9naW46XG4gKiAgcG9zdDpcbiAqICAgIHN1bW1hcnk6IEEgdXNlciBtdXN0IHNpZ24taW4gd2l0aCBoaXMvaGVyIGNyZWRlbnRpYWxzXG4gKiAgICBkZXNjcmlwdGlvbjogQSB1c2VyIG11c3QgcHJvdmlkZSBhIHZhbGlkIGVtYWlsIGFuZCBwYXNzd29yZCB0byBsb2dpblxuICogICAgdGFnczpcbiAqICAgICAgLSBVc2VyXG4gKiAgICByZXF1ZXN0Qm9keTpcbiAqICAgICAgcmVxdWlyZWQ6IHRydWVcbiAqICAgICAgY29udGVudDpcbiAqICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICogICAgICAgICAgc2NoZW1hOlxuICogICAgICAgICAgICAkcmVmOiAnIy9jb21wb25lbnRzL3NjaGVtYXMvTG9naW5JbmZvJ1xuICogICAgcmVzcG9uc2VzOlxuICogICAgICAyMDA6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IExvZ2dlZC1pbiBzdWNjZXNzZnVsbHkhLCBrZWVwIHlvdXIgVG9rZW5cbiAqICAgICAgNDAwOlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBJbnZhbGlkIHVzZXJOYW1lIG9yIHBhc3N3b3JkIVxuICogICAgICA0MDQ6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IEVtYWlsIGlzIG5vdCBmb3VuZCFcbiAqL1xuLy8hIUxPR0lOXG5yb3V0ZXIucG9zdChcIi9sb2dpblwiLCBsb2dpblVzZXIpO1xuLyoqXG4gKiBAc3dhZ2dlclxuICogL2FwaS92MS91c2Vycy97aWR9OlxuICogIHB1dDpcbiAqICAgIHNlY3VyaXR5OlxuICogICAgICAtIFRva2VuOiBbXVxuICogICAgc3VtbWFyeTogeW91IGNhbiB1cGRhdGUgeW91ciBwcm9maWxlXG4gKiAgICBkZXNjcmlwdGlvbjogeW91IG5lZWQgYSB2YWxpZCBUb2tlbiB0byB1cGRhdGUgeW91ciBwcm9maWxlXG4gKiAgICB0YWdzOlxuICogICAgICAtIFVzZXJcbiAqICAgIHBhcmFtZXRlcnM6XG4gKiAgICAgIC0gaW46IHBhdGhcbiAqICAgICAgICBuYW1lOiBpZFxuICogICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gKiAgICAgICAgZGVzY3JpcHRpb246IHVzZSBhIFZhbGlkIElkXG4gKiAgICAgICAgc2NoZW1hOlxuICogICAgICAgICAgdHlwZTogc3RyaW5nXG4gKiAgICByZXNwb25zZXM6XG4gKiAgICAgIDIwMDpcbiAqICAgICAgICBkZXNjcmlwdGlvbjogU3VjY2Vzc2Z1bGx5IHVwZGF0ZWRcbiAqICAgICAgNTAwOlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBJbnRlcm5hbCBlcnJvciFcbiAqL1xuLy9VUERBVEUgQSBVU0VSXG5yb3V0ZXIucHV0KFwiLzppZFwiLCB1cGRhdGVVc2VyKTtcblxuLyoqXG4gKiBAc3dhZ2dlclxuICogL2FwaS92MS91c2Vycy97aWR9OlxuICogIGRlbGV0ZTpcbiAqICAgIHNlY3VyaXR5OlxuICogICAgICAtIFRva2VuOiBbXVxuICogICAgc3VtbWFyeTogVGhpcyByb3V0ZSBBbGxvdyAgdG8gZGVsZXRlIGFuIGV4aXN0aW5nIFVzZXJcbiAqICAgIGRlc2NyaXB0aW9uOiBhIFRva2VuIGlzIHJlcXVpcmVkIHRvIERlbGV0ZSBhIHVzZXJcbiAqICAgIHRhZ3M6XG4gKiAgICAgIC0gVXNlclxuICogICAgcGFyYW1ldGVyczpcbiAqICAgICAgLSBpbjogcGF0aFxuICogICAgICAgIG5hbWU6IGlkXG4gKiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAqICAgICAgICBkZXNjcmlwdGlvbjogeW91IGhhdmUgdG8gcHJvdmlkZSBhIHZhbGlkIHVzZXIgSWRcbiAqICAgICAgICBzY2hlbWE6XG4gKiAgICAgICAgICAkcmVmOiAnIy9jb21wb25lbnRzL3NjaGVtYXMvVXNlcidcbiAqICAgIHJlc3BvbnNlczpcbiAqICAgICAgMjAwOlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBhIHVzZXIgc3VjY2Vzc2Z1bGx5IERlbGV0ZWRcbiAqICAgICAgMjA0OlxuICogICAgICAgIGRlc2NyaXB0aW9uOiB1c2VyIG5vdCBmb3VuZFxuICogICAgICA0MDE6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IEFjY2VzcyBkZW5pZWQhXG4gKi9cblxuLy8hIURlbGV0ZSBhIHVzZXJcbnJvdXRlci5kZWxldGUoXCIvOmlkXCIsIGRlbGV0ZVVzZXIpO1xuXG4vKipcbiAqIEBzd2FnZ2VyXG4gKiAvYXBpL3YxL3VzZXJzOlxuICogIGdldDpcbiAqICAgIHNlY3VyaXR5OlxuICogICAgICAtIFRva2VuOiBbXVxuICogICAgc3VtbWFyeTogVGhpcyByb3V0ZSByZXR1cm5zIGEgbGlzdCBvZiB1c2Vyc1xuICogICAgcmVzcG9uc2VzOlxuICogICAgICAyMDA6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IFN1Y2Nlc3NcbiAqICAgICAgMjA0OlxuICogICAgICAgIGRlc2NyaXB0aW9uOiBObyB1c2VyIGZvdW5kXG4gKiAgICAgIDQwMTpcbiAqICAgICAgICBkZXNjcmlwdGlvbjogQWNjZXNzIGRlbmllZFxuICogICAgICA1MDA6XG4gKiAgICAgICAgZGVzY3JpcHRpb246IEludGVybmFsIHNlcnZlciBlcnJvclxuICogICAgICAgIGNvbnRlbnQ6XG4gKiAgICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICogICAgICAgICAgICBzY2hlbWE6XG4gKiAgICAgICAgICAgICAgdHlwZTogYXJyYXlcbiAqICAgICAgICAgICAgICBpdGVtczpcbiAqICAgICAgICAgICAgICAgICRyZWY6ICcjL2NvbXBvbmVudHMvc2NoZW1hcy9Vc2VyJ1xuICovXG5cbi8vISEgR2V0IGFsbCB1c2Vyc1xucm91dGVyLmdldChcIi9cIiwgZ2V0VXNlcnMpO1xuXG5leHBvcnQgeyByb3V0ZXIgfTtcbiJdfQ==","map":{"version":3,"sources":["auth.js"],"names":["router","post","addUser","loginUser","put","updateUser","delete","deleteUser","get","getUsers"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AAIA;;;;AAEA;AAEA,MAAMA,MAAM,GAAG,sBAAf;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAA,MAAM,CAACC,IAAP,CAAY,WAAZ,EAAyBC,uBAAzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAF,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAsBE,yBAAtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAH,MAAM,CAACI,GAAP,CAAW,MAAX,EAAmBC,0BAAnB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACAL,MAAM,CAACM,MAAP,CAAc,MAAd,EAAsBC,0BAAtB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACAP,MAAM,CAACQ,GAAP,CAAW,GAAX,EAAgBC,wBAAhB","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/routes/api/","sourcesContent":["import { Router } from \"express\";\nimport bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\n\nimport { User } from \"../../models/User\";\nimport { registerValidation, loginValidation } from \"../../validation/validation\";\nimport { auth as verify } from \"../../validation/validation\";\nimport {admin} from \"../../validation/validation\"\n\nimport {loginUser, deleteUser, getUsers, updateUser, addUser} from \"../../controller/auth-controller\";\n\n//!!VALIDATION\n\nconst router = Router();\n\n/**\n * @openapi\n * tags:\n *  name: User\n *  description: APIs for the user\n */\n\n/**\n * @swagger\n * components:\n *  schemas:\n *    User:\n *      type: object\n *      required:\n *        - name\n *        - email\n *        - password\n *      properties:\n *        name:\n *          type: string\n *          description: Every user must provide a name\n *        email:\n *          type: string\n *          description: email must be provided\n *        password:\n *          type: string\n *          description: Also provide your password.\n *      example:\n *        name: muheto hodal\n *        email: me@gmail.com\n *        password: hodol123\n */\n\n/**\n * @swagger\n * components:\n *  responses:\n *    UnauthorizedError:\n *      description: Access need Token\n */\n\n/**\n * @swagger\n * components:\n *  securitySchemes:\n *    Token:\n *      type: http\n *      scheme: Bearer\n *      bearerFormat: JWT\n */\n\n/**\n * @swagger\n * components:\n *  schemas:\n *      LoginInfo:\n *          type: object\n *          required:\n *              - email\n *              - password\n *          properties:\n *              email:\n *                  type: string\n *                  description: an email must be valid\n *              password:\n *                  type: string\n *                  description: password required.\n *          example:\n *            email: mhthodol@gmail.com\n *            password: mine222\n */\n\n/**\n * @swagger\n * /api/v1/users/register:\n *  post:\n *    summary: A user can make registration\n *    description: both name, email and password must be provided\n *    tags:\n *      - User\n *    requestBody:\n *      required: true\n *      content:\n *        application/json:\n *          schema:\n *            $ref: '#/components/schemas/User'\n *\n *    responses:\n *      200:\n *        description: Successfully registered.\n *        content:\n *          application/json:\n *            schema:\n *              $ref: '#/components/schemas/User'\n *      400:\n *        description: Invalid input or Bad formated input\n *        content:\n *          application/json:\n *            schema:\n *              type: object\n *              properties:\n *                data:\n *                  type: object\n *                code:\n *                  type: number\n */\n\nrouter.post(\"/register\", addUser);\n/**\n * @swagger\n * /api/v1/users/login:\n *  post:\n *    summary: A user must sign-in with his/her credentials\n *    description: A user must provide a valid email and password to login\n *    tags:\n *      - User\n *    requestBody:\n *      required: true\n *      content:\n *        application/json:\n *          schema:\n *            $ref: '#/components/schemas/LoginInfo'\n *    responses:\n *      200:\n *        description: Logged-in successfully!, keep your Token\n *      400:\n *        description: Invalid userName or password!\n *      404:\n *        description: Email is not found!\n */\n//!!LOGIN\nrouter.post(\"/login\", loginUser);\n/**\n * @swagger\n * /api/v1/users/{id}:\n *  put:\n *    security:\n *      - Token: []\n *    summary: you can update your profile\n *    description: you need a valid Token to update your profile\n *    tags:\n *      - User\n *    parameters:\n *      - in: path\n *        name: id\n *        required: true\n *        description: use a Valid Id\n *        schema:\n *          type: string\n *    responses:\n *      200:\n *        description: Successfully updated\n *      500:\n *        description: Internal error!\n */\n//UPDATE A USER\nrouter.put(\"/:id\", updateUser);\n\n/**\n * @swagger\n * /api/v1/users/{id}:\n *  delete:\n *    security:\n *      - Token: []\n *    summary: This route Allow  to delete an existing User\n *    description: a Token is required to Delete a user\n *    tags:\n *      - User\n *    parameters:\n *      - in: path\n *        name: id\n *        required: true\n *        description: you have to provide a valid user Id\n *        schema:\n *          $ref: '#/components/schemas/User'\n *    responses:\n *      200:\n *        description: a user successfully Deleted\n *      204:\n *        description: user not found\n *      401:\n *        description: Access denied!\n */\n\n//!!Delete a user\nrouter.delete(\"/:id\", deleteUser);\n\n/**\n * @swagger\n * /api/v1/users:\n *  get:\n *    security:\n *      - Token: []\n *    summary: This route returns a list of users\n *    responses:\n *      200:\n *        description: Success\n *      204:\n *        description: No user found\n *      401:\n *        description: Access denied\n *      500:\n *        description: Internal server error\n *        content:\n *          application/json:\n *            schema:\n *              type: array\n *              items:\n *                $ref: '#/components/schemas/User'\n */\n\n//!! Get all users\nrouter.get(\"/\", getUsers);\n\nexport { router };\n"]}},"mtime":1648481451369},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"prod\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:prod":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.User = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//create a schema that represent  our model of The users\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true,\n    min: 3,\n    max: 30\n  },\n  email: {\n    type: String,\n    required: true,\n    min: 3,\n    max: 30\n  },\n  password: {\n    type: String,\n    required: true,\n    min: 3,\n    max: 30\n  },\n  date: {\n    type: Date,\n    default: Date.now\n  }\n}, {\n  timestamps: true\n});\n\nconst User = _mongoose.default.model(\"User\", userSchema);\n\nexports.User = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwibmFtZXMiOlsidXNlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsIm1pbiIsIm1heCIsImVtYWlsIiwicGFzc3dvcmQiLCJkYXRlIiwiRGF0ZSIsImRlZmF1bHQiLCJub3ciLCJ0aW1lc3RhbXBzIiwiVXNlciIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUE7Ozs7QUFGQTtBQUlBLE1BQU1BLFVBQVUsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUNqQjtBQUNFQyxFQUFBQSxJQUFJLEVBQUU7QUFDSkMsSUFBQUEsSUFBSSxFQUFFQyxNQURGO0FBRUpDLElBQUFBLFFBQVEsRUFBRSxJQUZOO0FBR0pDLElBQUFBLEdBQUcsRUFBRSxDQUhEO0FBSUpDLElBQUFBLEdBQUcsRUFBRTtBQUpELEdBRFI7QUFPRUMsRUFBQUEsS0FBSyxFQUFFO0FBQ0xMLElBQUFBLElBQUksRUFBRUMsTUFERDtBQUVMQyxJQUFBQSxRQUFRLEVBQUUsSUFGTDtBQUdMQyxJQUFBQSxHQUFHLEVBQUUsQ0FIQTtBQUlMQyxJQUFBQSxHQUFHLEVBQUU7QUFKQSxHQVBUO0FBYUVFLEVBQUFBLFFBQVEsRUFBRTtBQUNSTixJQUFBQSxJQUFJLEVBQUVDLE1BREU7QUFFUkMsSUFBQUEsUUFBUSxFQUFFLElBRkY7QUFHUkMsSUFBQUEsR0FBRyxFQUFFLENBSEc7QUFJUkMsSUFBQUEsR0FBRyxFQUFFO0FBSkcsR0FiWjtBQW1CRUcsRUFBQUEsSUFBSSxFQUFFO0FBQ0pQLElBQUFBLElBQUksRUFBRVEsSUFERjtBQUVKQyxJQUFBQSxPQUFPLEVBQUVELElBQUksQ0FBQ0U7QUFGVjtBQW5CUixDQURpQixFQXlCakI7QUFDRUMsRUFBQUEsVUFBVSxFQUFFO0FBRGQsQ0F6QmlCLENBQW5COztBQThCQSxNQUFNQyxJQUFJLEdBQUdmLGtCQUFTZ0IsS0FBVCxDQUFlLE1BQWYsRUFBdUJqQixVQUF2QixDQUFiIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbmRlbGFyd2FuZGEvRG9jdW1lbnRzL215YnJhbmQvc3JjL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyIvL2NyZWF0ZSBhIHNjaGVtYSB0aGF0IHJlcHJlc2VudCAgb3VyIG1vZGVsIG9mIFRoZSB1c2Vyc1xuXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxuICB7XG4gICAgbmFtZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICBtaW46IDMsXG4gICAgICBtYXg6IDMwLFxuICAgIH0sXG4gICAgZW1haWw6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgbWluOiAzLFxuICAgICAgbWF4OiAzMCxcbiAgICB9LFxuICAgIHBhc3N3b3JkOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIG1pbjogMyxcbiAgICAgIG1heDogMzAsXG4gICAgfSxcbiAgICBkYXRlOiB7XG4gICAgICB0eXBlOiBEYXRlLFxuICAgICAgZGVmYXVsdDogRGF0ZS5ub3csXG4gICAgfSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gIH1cbik7XG5cbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbChcIlVzZXJcIiwgdXNlclNjaGVtYSk7XG5cbmV4cG9ydCB7IFVzZXIgfTtcbiJdfQ==","map":{"version":3,"sources":["User.js"],"names":["userSchema","mongoose","Schema","name","type","String","required","min","max","email","password","date","Date","default","now","timestamps","User","model"],"mappings":";;;;;;;AAEA;;;;AAFA;AAIA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CACjB;AACEC,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAEC,MADF;AAEJC,IAAAA,QAAQ,EAAE,IAFN;AAGJC,IAAAA,GAAG,EAAE,CAHD;AAIJC,IAAAA,GAAG,EAAE;AAJD,GADR;AAOEC,EAAAA,KAAK,EAAE;AACLL,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE,IAFL;AAGLC,IAAAA,GAAG,EAAE,CAHA;AAILC,IAAAA,GAAG,EAAE;AAJA,GAPT;AAaEE,EAAAA,QAAQ,EAAE;AACRN,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE,IAFF;AAGRC,IAAAA,GAAG,EAAE,CAHG;AAIRC,IAAAA,GAAG,EAAE;AAJG,GAbZ;AAmBEG,EAAAA,IAAI,EAAE;AACJP,IAAAA,IAAI,EAAEQ,IADF;AAEJC,IAAAA,OAAO,EAAED,IAAI,CAACE;AAFV;AAnBR,CADiB,EAyBjB;AACEC,EAAAA,UAAU,EAAE;AADd,CAzBiB,CAAnB;;AA8BA,MAAMC,IAAI,GAAGf,kBAASgB,KAAT,CAAe,MAAf,EAAuBjB,UAAvB,CAAb","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/models/","sourcesContent":["//create a schema that represent  our model of The users\n\nimport mongoose from \"mongoose\";\n\nconst userSchema = new mongoose.Schema(\n  {\n    name: {\n      type: String,\n      required: true,\n      min: 3,\n      max: 30,\n    },\n    email: {\n      type: String,\n      required: true,\n      min: 3,\n      max: 30,\n    },\n    password: {\n      type: String,\n      required: true,\n      min: 3,\n      max: 30,\n    },\n    date: {\n      type: Date,\n      default: Date.now,\n    },\n  },\n  {\n    timestamps: true,\n  }\n);\n\nconst User = mongoose.model(\"User\", userSchema);\n\nexport { User };\n"]}},"mtime":1647162840076},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/controller/auth-controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"prod\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:prod":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUser = exports.loginUser = exports.getUsers = exports.deleteUser = exports.addUser = void 0;\n\nconst getUsers = async (req, res) => {\n  User.find().sort({\n    createdAt: -1\n  }).then(result => {\n    return res.status(200).json({\n      title: \"All Users\",\n      status: 200,\n      users: result\n    });\n  }).catch(err => {\n    console.log(err);\n    res.status(500).json({\n      status: 500,\n      message: \"Internal server error\"\n    });\n  });\n};\n\nexports.getUsers = getUsers;\n\nconst loginUser = async (req, res) => {\n  //Validating data before the user Logged In\n  const {\n    error\n  } = loginValidation(req.body);\n\n  if (error) {\n    return res.status(400).json({\n      status: 400,\n      message: error.details[0].message\n    });\n  } //checking if the userEmail exist in db\n\n\n  const user = await User.findOne({\n    email: req.body.email\n  });\n  if (!user) return res.status(400).json({\n    status: 400,\n    message: \"Invalid credentials!\"\n  }); //Checking if password is valid\n\n  const validPass = await bcrypt.compare(req.body.password, user.password);\n  if (!validPass) return res.status(400).json({\n    status: 400,\n    message: \"Invalid userName or password\"\n  });\n\n  if (user.email === \"admin@gmail.com\") {\n    const token = jwt.sign({\n      _id: user._id\n    }, process.env.ADMIN_TOKEN);\n    res.status(200).json({\n      authToken: token,\n      name: user.name,\n      id: user._id\n    });\n  } else {\n    //Create and assign a token to the legged user\n    const token = jwt.sign({\n      _id: user._id\n    }, process.env.TOKEN_SECRET);\n    res.status(200).json({\n      authToken: token,\n      name: user.name,\n      id: user._id\n    }); // adding token to the header to the user'\n  }\n};\n\nexports.loginUser = loginUser;\n\nconst updateUser = async (req, res) => {\n  const id = req.params.id;\n  console.log(id);\n  if (id.length != 24) return res.status(400).json({\n    status: 400,\n    message: \"Wrong user Id\"\n  });\n  const result = await User.findById(id);\n  if (!result) return res.status(404).json({\n    status: 404,\n    message: \"User Not found\"\n  });\n\n  try {\n    const updateUser = await User.findByIdAndUpdate(id, req.body, {\n      new: true\n    });\n    console.log(\"User updated!\");\n    return res.status(200).json({\n      status: \"Success\",\n      name: req.body.name,\n      email: req.body.email\n    });\n  } catch (error) {\n    console.log(error);\n    return res.status(500).json({\n      status: 500,\n      message: \"Internal server error!\"\n    });\n  }\n};\n\nexports.updateUser = updateUser;\n\nconst deleteUser = async (req, res) => {\n  const id = req.params.id; // if(id !== 24 ) return res.status(400).json({status:\"fail\", code:400, message: \"Invalid Id\"})\n\n  const result = await User.findById(id);\n  if (!result) return res.status(404).json({\n    status: 404,\n    message: \"User not found\"\n  });\n  const userDelete = await result.delete();\n  if (userDelete) return res.status(200).json({\n    status: 200,\n    message: \"User successfully deleted\"\n  });\n  return res.status(500).json({\n    status: 500,\n    message: \"Internal server error\"\n  });\n};\n\nexports.deleteUser = deleteUser;\n\nconst addUser = async (req, res) => {\n  console.log(req.body); //VALIDATING THE DATA BEFORE USER CREATED\n\n  const {\n    error\n  } = registerValidation(req.body); // console.log(error, !!error);\n\n  if (error) {\n    return res.status(400).json({\n      status: 400,\n      message: error.details[0].message\n    });\n  } //checking if the user is already in the database\n\n\n  const emailExist = await User.findOne({\n    email: req.body.email\n  });\n  if (emailExist) return res.status(400).json({\n    status: 400,\n    message: \"Email already exists.\"\n  }); //encrypting password (Hash pswds)\n\n  const salt = await bcrypt.genSalt(10);\n  const hashedPassword = await bcrypt.hash(req.body.password, salt); //Creating a new User\n\n  const user = new User({\n    name: req.body.name,\n    email: req.body.email,\n    password: hashedPassword\n  }); //!!saving a user to database\n\n  try {\n    const savedUser = await user.save(); // res.send(savedUser);\n\n    return res.status(201).json({\n      status: 201,\n      name: user.name,\n      email: user.email,\n      Id: user._id\n    });\n  } catch (error) {\n    return res.status(400);\n  }\n};\n\nexports.addUser = addUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgtY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJnZXRVc2VycyIsInJlcSIsInJlcyIsIlVzZXIiLCJmaW5kIiwic29ydCIsImNyZWF0ZWRBdCIsInRoZW4iLCJyZXN1bHQiLCJzdGF0dXMiLCJqc29uIiwidGl0bGUiLCJ1c2VycyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJsb2dpblVzZXIiLCJlcnJvciIsImxvZ2luVmFsaWRhdGlvbiIsImJvZHkiLCJkZXRhaWxzIiwidXNlciIsImZpbmRPbmUiLCJlbWFpbCIsInZhbGlkUGFzcyIsImJjcnlwdCIsImNvbXBhcmUiLCJwYXNzd29yZCIsInRva2VuIiwiand0Iiwic2lnbiIsIl9pZCIsInByb2Nlc3MiLCJlbnYiLCJBRE1JTl9UT0tFTiIsImF1dGhUb2tlbiIsIm5hbWUiLCJpZCIsIlRPS0VOX1NFQ1JFVCIsInVwZGF0ZVVzZXIiLCJwYXJhbXMiLCJsZW5ndGgiLCJmaW5kQnlJZCIsImZpbmRCeUlkQW5kVXBkYXRlIiwibmV3IiwiZGVsZXRlVXNlciIsInVzZXJEZWxldGUiLCJkZWxldGUiLCJhZGRVc2VyIiwicmVnaXN0ZXJWYWxpZGF0aW9uIiwiZW1haWxFeGlzdCIsInNhbHQiLCJnZW5TYWx0IiwiaGFzaGVkUGFzc3dvcmQiLCJoYXNoIiwic2F2ZWRVc2VyIiwic2F2ZSIsIklkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ08sTUFBTUEsUUFBUSxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN4Q0MsRUFBQUEsSUFBSSxDQUFDQyxJQUFMLEdBQ0dDLElBREgsQ0FDUTtBQUFFQyxJQUFBQSxTQUFTLEVBQUUsQ0FBQztBQUFkLEdBRFIsRUFFR0MsSUFGSCxDQUVTQyxNQUFELElBQVk7QUFDaEIsV0FBT04sR0FBRyxDQUNQTyxNQURJLENBQ0csR0FESCxFQUVKQyxJQUZJLENBRUM7QUFBRUMsTUFBQUEsS0FBSyxFQUFFLFdBQVQ7QUFBc0JGLE1BQUFB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QUFFcEJiLElBQUFBLEtBQUssRUFBRXhCLEdBQUcsQ0FBQ29CLElBQUosQ0FBU0ksS0FGSTtBQUdwQkksSUFBQUEsUUFBUSxFQUFFMEI7QUFIVSxHQUFULENBQWIsQ0ExQjBDLENBZ0MxQzs7QUFDQSxNQUFJO0FBQ0YsVUFBTUUsU0FBUyxHQUFHLE1BQU1sQyxJQUFJLENBQUNtQyxJQUFMLEVBQXhCLENBREUsQ0FFRjs7QUFDQSxXQUFPeEQsR0FBRyxDQUFDTyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDMUJELE1BQUFBLE1BQU0sRUFBRSxHQURrQjtBQUUxQjZCLE1BQUFBLElBQUksRUFBRWYsSUFBSSxDQUFDZSxJQUZlO0FBRzFCYixNQUFBQSxLQUFLLEVBQUVGLElBQUksQ0FBQ0UsS0FIYztBQUkxQmtDLE1BQUFBLEVBQUUsRUFBRXBDLElBQUksQ0FBQ1U7QUFKaUIsS0FBckIsQ0FBUDtBQU1ELEdBVEQsQ0FTRSxPQUFPZCxLQUFQLEVBQWM7QUFDZCxXQUFPakIsR0FBRyxDQUFDTyxNQUFKLENBQVcsR0FBWCxDQUFQO0FBQ0Q7QUFDRixDQTdDTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW5kZWxhcndhbmRhL0RvY3VtZW50cy9teWJyYW5kL3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGNvbnN0IGdldFVzZXJzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgVXNlci5maW5kKClcbiAgICAgIC5zb3J0KHsgY3JlYXRlZEF0OiAtMSB9KVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICByZXR1cm4gcmVzXG4gICAgICAgICAgLnN0YXR1cygyMDApXG4gICAgICAgICAgLmpzb24oeyB0aXRsZTogXCJBbGwgVXNlcnNcIiwgc3RhdHVzOiAyMDAsIHVzZXJzOiByZXN1bHQgfSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdGF0dXM6IDUwMCwgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9KTtcbiAgICAgIH0pO1xufVxuXG5leHBvcnQgY29uc3QgbG9naW5Vc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy9WYWxpZGF0aW5nIGRhdGEgYmVmb3JlIHRoZSB1c2VyIExvZ2dlZCBJblxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGxvZ2luVmFsaWRhdGlvbihyZXEuYm9keSk7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4gcmVzXG4gICAgICAgIC5zdGF0dXMoNDAwKVxuICAgICAgICAuanNvbih7IHN0YXR1czogNDAwLCBtZXNzYWdlOiBlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UgfSk7XG4gICAgfVxuICBcbiAgICAvL2NoZWNraW5nIGlmIHRoZSB1c2VyRW1haWwgZXhpc3QgaW4gZGJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcbiAgICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcbiAgICB9KTtcbiAgICBpZiAoIXVzZXIpXG4gICAgICByZXR1cm4gcmVzXG4gICAgICAgIC5zdGF0dXMoNDAwKVxuICAgICAgICAuanNvbih7IHN0YXR1czogNDAwLCBtZXNzYWdlOiBcIkludmFsaWQgY3JlZGVudGlhbHMhXCIgfSk7XG4gIFxuICAgIC8vQ2hlY2tpbmcgaWYgcGFzc3dvcmQgaXMgdmFsaWRcbiAgICBjb25zdCB2YWxpZFBhc3MgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XG4gICAgaWYgKCF2YWxpZFBhc3MpXG4gICAgICByZXR1cm4gcmVzXG4gICAgICAgIC5zdGF0dXMoNDAwKVxuICAgICAgICAuanNvbih7IHN0YXR1czogNDAwLCBtZXNzYWdlOiBcIkludmFsaWQgdXNlck5hbWUgb3IgcGFzc3dvcmRcIiB9KTtcbiAgXG4gIFxuICAgICAgICBpZih1c2VyLmVtYWlsID09PSBcImFkbWluQGdtYWlsLmNvbVwiKXtcbiAgICAgICAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHsgX2lkOiB1c2VyLl9pZCB9LCBwcm9jZXNzLmVudi5BRE1JTl9UT0tFTik7XG4gICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBhdXRoVG9rZW46IHRva2VuLCBuYW1lOiB1c2VyLm5hbWUsIGlkOiB1c2VyLl9pZCB9KTtcbiAgICAgICAgfWVsc2V7XG4gICAgLy9DcmVhdGUgYW5kIGFzc2lnbiBhIHRva2VuIHRvIHRoZSBsZWdnZWQgdXNlclxuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oeyBfaWQ6IHVzZXIuX2lkIH0sIHByb2Nlc3MuZW52LlRPS0VOX1NFQ1JFVCk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBhdXRoVG9rZW46IHRva2VuLCBuYW1lOiB1c2VyLm5hbWUsIGlkOiB1c2VyLl9pZCB9KTsgLy8gYWRkaW5nIHRva2VuIHRvIHRoZSBoZWFkZXIgdG8gdGhlIHVzZXInXG4gICAgICAgIH1cbiAgXG4gIH1cblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XG4gICAgY29uc29sZS5sb2coaWQpO1xuICBcbiAgICBpZiAoaWQubGVuZ3RoICE9IDI0KVxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgc3RhdHVzOiA0MDAsIG1lc3NhZ2U6IFwiV3JvbmcgdXNlciBJZFwiIH0pO1xuICBcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKGlkKTtcbiAgICBpZiAoIXJlc3VsdClcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IHN0YXR1czogNDA0LCBtZXNzYWdlOiBcIlVzZXIgTm90IGZvdW5kXCIgfSk7XG4gIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cGRhdGVVc2VyID0gYXdhaXQgVXNlci5maW5kQnlJZEFuZFVwZGF0ZShpZCwgcmVxLmJvZHksIHtcbiAgICAgICAgbmV3OiB0cnVlLFxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhcIlVzZXIgdXBkYXRlZCFcIik7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe3N0YXR1czogXCJTdWNjZXNzXCIsIG5hbWU6IHJlcS5ib2R5Lm5hbWUsIGVtYWlsOiByZXEuYm9keS5lbWFpbCB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmV0dXJuIHJlc1xuICAgICAgICAuc3RhdHVzKDUwMClcbiAgICAgICAgLmpzb24oeyBzdGF0dXM6IDUwMCwgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3IhXCIgfSk7XG4gICAgfVxuICB9XG5cbiAgZXhwb3J0IGNvbnN0IGRlbGV0ZVVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XG4gIFxuICAvLyBpZihpZCAhPT0gMjQgKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe3N0YXR1czpcImZhaWxcIiwgY29kZTo0MDAsIG1lc3NhZ2U6IFwiSW52YWxpZCBJZFwifSlcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKGlkKTtcbiAgICBpZiAoIXJlc3VsdClcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IHN0YXR1czogNDA0LCBtZXNzYWdlOiBcIlVzZXIgbm90IGZvdW5kXCIgfSk7XG4gIFxuICAgIGNvbnN0IHVzZXJEZWxldGUgPSBhd2FpdCByZXN1bHQuZGVsZXRlKCk7XG4gIFxuICAgIGlmICh1c2VyRGVsZXRlKVxuICAgICAgcmV0dXJuIHJlc1xuICAgICAgICAuc3RhdHVzKDIwMClcbiAgICAgICAgLmpzb24oeyBzdGF0dXM6IDIwMCwgbWVzc2FnZTogXCJVc2VyIHN1Y2Nlc3NmdWxseSBkZWxldGVkXCIgfSk7XG4gIFxuICAgIHJldHVybiByZXNcbiAgICAgIC5zdGF0dXMoNTAwKVxuICAgICAgLmpzb24oeyBzdGF0dXM6IDUwMCwgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9KTtcbiAgfVxuXG5cbiAgZXhwb3J0IGNvbnN0IGFkZFVzZXIgPSAgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc29sZS5sb2cocmVxLmJvZHkpO1xuICBcbiAgICAvL1ZBTElEQVRJTkcgVEhFIERBVEEgQkVGT1JFIFVTRVIgQ1JFQVRFRFxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IHJlZ2lzdGVyVmFsaWRhdGlvbihyZXEuYm9keSk7XG4gICAgLy8gY29uc29sZS5sb2coZXJyb3IsICEhZXJyb3IpO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIHJlc1xuICAgICAgICAuc3RhdHVzKDQwMClcbiAgICAgICAgLmpzb24oeyBzdGF0dXM6IDQwMCwgbWVzc2FnZTogZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlIH0pO1xuICAgIH1cbiAgXG4gICAgLy9jaGVja2luZyBpZiB0aGUgdXNlciBpcyBhbHJlYWR5IGluIHRoZSBkYXRhYmFzZVxuICAgIGNvbnN0IGVtYWlsRXhpc3QgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xuICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgIH0pO1xuICAgIGlmIChlbWFpbEV4aXN0KVxuICAgICAgcmV0dXJuIHJlc1xuICAgICAgICAuc3RhdHVzKDQwMClcbiAgICAgICAgLmpzb24oeyBzdGF0dXM6IDQwMCwgbWVzc2FnZTogXCJFbWFpbCBhbHJlYWR5IGV4aXN0cy5cIiB9KTtcbiAgXG4gICAgLy9lbmNyeXB0aW5nIHBhc3N3b3JkIChIYXNoIHBzd2RzKVxuICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBiY3J5cHQuZ2VuU2FsdCgxMCk7XG4gICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwgc2FsdCk7XG4gIFxuICAgIC8vQ3JlYXRpbmcgYSBuZXcgVXNlclxuICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICBuYW1lOiByZXEuYm9keS5uYW1lLFxuICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLFxuICAgIH0pO1xuICBcbiAgICAvLyEhc2F2aW5nIGEgdXNlciB0byBkYXRhYmFzZVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzYXZlZFVzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICAgIC8vIHJlcy5zZW5kKHNhdmVkVXNlcik7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuICAgICAgICBzdGF0dXM6IDIwMSxcbiAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgSWQ6IHVzZXIuX2lkLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCk7XG4gICAgfVxuICB9Il19","map":{"version":3,"sources":["auth-controller.js"],"names":["getUsers","req","res","User","find","sort","createdAt","then","result","status","json","title","users","catch","err","console","log","message","loginUser","error","loginValidation","body","details","user","findOne","email","validPass","bcrypt","compare","password","token","jwt","sign","_id","process","env","ADMIN_TOKEN","authToken","name","id","TOKEN_SECRET","updateUser","params","length","findById","findByIdAndUpdate","new","deleteUser","userDelete","delete","addUser","registerValidation","emailExist","salt","genSalt","hashedPassword","hash","savedUser","save","Id"],"mappings":"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","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/controller/","sourcesContent":["\nexport const getUsers = async (req, res) => {\n    User.find()\n      .sort({ createdAt: -1 })\n      .then((result) => {\n        return res\n          .status(200)\n          .json({ title: \"All Users\", status: 200, users: result });\n      })\n      .catch((err) => {\n        console.log(err);\n        res.status(500).json({ status: 500, message: \"Internal server error\" });\n      });\n}\n\nexport const loginUser = async (req, res) => {\n    //Validating data before the user Logged In\n    const { error } = loginValidation(req.body);\n    if (error) {\n      return res\n        .status(400)\n        .json({ status: 400, message: error.details[0].message });\n    }\n  \n    //checking if the userEmail exist in db\n    const user = await User.findOne({\n      email: req.body.email,\n    });\n    if (!user)\n      return res\n        .status(400)\n        .json({ status: 400, message: \"Invalid credentials!\" });\n  \n    //Checking if password is valid\n    const validPass = await bcrypt.compare(req.body.password, user.password);\n    if (!validPass)\n      return res\n        .status(400)\n        .json({ status: 400, message: \"Invalid userName or password\" });\n  \n  \n        if(user.email === \"admin@gmail.com\"){\n          const token = jwt.sign({ _id: user._id }, process.env.ADMIN_TOKEN);\n          res.status(200).json({ authToken: token, name: user.name, id: user._id });\n        }else{\n    //Create and assign a token to the legged user\n    const token = jwt.sign({ _id: user._id }, process.env.TOKEN_SECRET);\n    res.status(200).json({ authToken: token, name: user.name, id: user._id }); // adding token to the header to the user'\n        }\n  \n  }\n\nexport const updateUser = async (req, res) => {\n    const id = req.params.id;\n    console.log(id);\n  \n    if (id.length != 24)\n      return res.status(400).json({ status: 400, message: \"Wrong user Id\" });\n  \n    const result = await User.findById(id);\n    if (!result)\n      return res.status(404).json({ status: 404, message: \"User Not found\" });\n  \n    try {\n      const updateUser = await User.findByIdAndUpdate(id, req.body, {\n        new: true,\n      });\n      console.log(\"User updated!\");\n      return res.status(200).json({status: \"Success\", name: req.body.name, email: req.body.email });\n    } catch (error) {\n      console.log(error);\n      return res\n        .status(500)\n        .json({ status: 500, message: \"Internal server error!\" });\n    }\n  }\n\n  export const deleteUser = async (req, res) => {\n    const id = req.params.id;\n  \n  // if(id !== 24 ) return res.status(400).json({status:\"fail\", code:400, message: \"Invalid Id\"})\n    const result = await User.findById(id);\n    if (!result)\n      return res.status(404).json({ status: 404, message: \"User not found\" });\n  \n    const userDelete = await result.delete();\n  \n    if (userDelete)\n      return res\n        .status(200)\n        .json({ status: 200, message: \"User successfully deleted\" });\n  \n    return res\n      .status(500)\n      .json({ status: 500, message: \"Internal server error\" });\n  }\n\n\n  export const addUser =  async (req, res) => {\n    console.log(req.body);\n  \n    //VALIDATING THE DATA BEFORE USER CREATED\n    const { error } = registerValidation(req.body);\n    // console.log(error, !!error);\n    if (error) {\n      return res\n        .status(400)\n        .json({ status: 400, message: error.details[0].message });\n    }\n  \n    //checking if the user is already in the database\n    const emailExist = await User.findOne({\n      email: req.body.email,\n    });\n    if (emailExist)\n      return res\n        .status(400)\n        .json({ status: 400, message: \"Email already exists.\" });\n  \n    //encrypting password (Hash pswds)\n    const salt = await bcrypt.genSalt(10);\n    const hashedPassword = await bcrypt.hash(req.body.password, salt);\n  \n    //Creating a new User\n    const user = new User({\n      name: req.body.name,\n      email: req.body.email,\n      password: hashedPassword,\n    });\n  \n    //!!saving a user to database\n    try {\n      const savedUser = await user.save();\n      // res.send(savedUser);\n      return res.status(201).json({\n        status: 201,\n        name: user.name,\n        email: user.email,\n        Id: user._id,\n      });\n    } catch (error) {\n      return res.status(400);\n    }\n  }"]}},"mtime":1648481414960},"{\"assumptions\":{},\"sourceRoot\":\"/Users/andelarwanda/Documents/mybrand/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/andelarwanda/Documents/mybrand\",\"filename\":\"/Users/andelarwanda/Documents/mybrand/src/controller/auth-controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"prod\",\"root\":\"/Users/andelarwanda/Documents/mybrand\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:prod":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUser = exports.loginUser = exports.getUsers = exports.deleteUser = exports.addUser = void 0;\n\nconst getUsers = async (req, res) => {\n  User.find().sort({\n    createdAt: -1\n  }).then(result => {\n    return res.status(200).json({\n      title: \"All Users\",\n      status: 200,\n      users: result\n    });\n  }).catch(err => {\n    console.log(err);\n    res.status(500).json({\n      status: 500,\n      message: \"Internal server error\"\n    });\n  });\n};\n\nexports.getUsers = getUsers;\n\nconst loginUser = async (req, res) => {\n  //Validating data before the user Logged In\n  const {\n    error\n  } = loginValidation(req.body);\n\n  if (error) {\n    return res.status(400).json({\n      status: 400,\n      message: error.details[0].message\n    });\n  } //checking if the userEmail exist in db\n\n\n  const user = await User.findOne({\n    email: req.body.email\n  });\n  if (!user) return res.status(400).json({\n    status: 400,\n    message: \"Invalid credentials!\"\n  }); //Checking if password is valid\n\n  const validPass = await bcrypt.compare(req.body.password, user.password);\n  if (!validPass) return res.status(400).json({\n    status: 400,\n    message: \"Invalid userName or password\"\n  });\n\n  if (user.email === \"admin@gmail.com\") {\n    const token = jwt.sign({\n      _id: user._id\n    }, process.env.ADMIN_TOKEN);\n    res.status(200).json({\n      authToken: token,\n      name: user.name,\n      id: user._id\n    });\n  } else {\n    //Create and assign a token to the legged user\n    const token = jwt.sign({\n      _id: user._id\n    }, process.env.TOKEN_SECRET);\n    res.status(200).json({\n      authToken: token,\n      name: user.name,\n      id: user._id\n    }); // adding token to the header to the user'\n  }\n};\n\nexports.loginUser = loginUser;\n\nconst updateUser = async (req, res) => {\n  const id = req.params.id;\n  console.log(id);\n  if (id.length != 24) return res.status(400).json({\n    status: 400,\n    message: \"Wrong user Id\"\n  });\n  const result = await User.findById(id);\n  if (!result) return res.status(404).json({\n    status: 404,\n    message: \"User Not found\"\n  });\n\n  try {\n    const updateUser = await User.findByIdAndUpdate(id, req.body, {\n      new: true\n    });\n    console.log(\"User updated!\");\n    return res.status(200).json({\n      status: \"Success\",\n      name: req.body.name,\n      email: req.body.email\n    });\n  } catch (error) {\n    console.log(error);\n    return res.status(500).json({\n      status: 500,\n      message: \"Internal server error!\"\n    });\n  }\n};\n\nexports.updateUser = updateUser;\n\nconst deleteUser = async (req, res) => {\n  const id = req.params.id; // if(id !== 24 ) return res.status(400).json({status:\"fail\", code:400, message: \"Invalid Id\"})\n\n  const result = await User.findById(id);\n  if (!result) return res.status(404).json({\n    status: 404,\n    message: \"User not found\"\n  });\n  const userDelete = await result.delete();\n  if (userDelete) return res.status(200).json({\n    status: 200,\n    message: \"User successfully deleted\"\n  });\n  return res.status(500).json({\n    status: 500,\n    message: \"Internal server error\"\n  });\n};\n\nexports.deleteUser = deleteUser;\n\nconst addUser = async (req, res) => {\n  console.log(req.body); //VALIDATING THE DATA BEFORE USER CREATED\n\n  const {\n    error\n  } = registerValidation(req.body); // console.log(error, !!error);\n\n  if (error) {\n    return res.status(400).json({\n      status: 400,\n      message: error.details[0].message\n    });\n  } //checking if the user is already in the database\n\n\n  const emailExist = await User.findOne({\n    email: req.body.email\n  });\n  if (emailExist) return res.status(400).json({\n    status: 400,\n    message: \"Email already exists.\"\n  }); //encrypting password (Hash pswds)\n\n  const salt = await bcrypt.genSalt(10);\n  const hashedPassword = await bcrypt.hash(req.body.password, salt); //Creating a new User\n\n  const user = new User({\n    name: req.body.name,\n    email: req.body.email,\n    password: hashedPassword\n  }); //!!saving a user to database\n\n  try {\n    const savedUser = await user.save(); // res.send(savedUser);\n\n    return res.status(201).json({\n      status: 201,\n      name: user.name,\n      email: user.email,\n      Id: user._id\n    });\n  } catch (error) {\n    return res.status(400);\n  }\n};\n\nexports.addUser = addUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgtY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJnZXRVc2VycyIsInJlcSIsInJlcyIsIlVzZXIiLCJmaW5kIiwic29ydCIsImNyZWF0ZWRBdCIsInRoZW4iLCJyZXN1bHQiLCJzdGF0dXMiLCJqc29uIiwidGl0bGUiLCJ1c2VycyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJsb2dpblVzZXIiLCJlcnJvciIsImxvZ2luVmFsaWRhdGlvbiIsImJvZHkiLCJkZXRhaWxzIiwidXNlciIsImZpbmRPbmUiLCJlbWFpbCIsInZhbGlkUGFzcyIsImJjcnlwdCIsImNvbXBhcmUiLCJwYXNzd29yZCIsInRva2VuIiwiand0Iiwic2lnbiIsIl9pZCIsInByb2Nlc3MiLCJlbnYiLCJBRE1JTl9UT0tFTiIsImF1dGhUb2tlbiIsIm5hbWUiLCJpZCIsIlRPS0VOX1NFQ1JFVCIsInVwZGF0ZVVzZXIiLCJwYXJhbXMiLCJsZW5ndGgiLCJmaW5kQnlJZCIsImZpbmRCeUlkQW5kVXBkYXRlIiwibmV3IiwiZGVsZXRlVXNlciIsInVzZXJEZWxldGUiLCJkZWxldGUiLCJhZGRVc2VyIiwicmVnaXN0ZXJWYWxpZGF0aW9uIiwiZW1haWxFeGlzdCIsInNhbHQiLCJnZW5TYWx0IiwiaGFzaGVkUGFzc3dvcmQiLCJoYXNoIiwic2F2ZWRVc2VyIiwic2F2ZSIsIklkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ08sTUFBTUEsUUFBUSxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN4Q0MsRUFBQUEsSUFBSSxDQUFDQyxJQUFMLEdBQ0dDLElBREgsQ0FDUTtBQUFFQyxJQUFBQSxTQUFTLEVBQUUsQ0FBQztBQUFkLEdBRFIsRUFFR0MsSUFGSCxDQUVTQyxNQUFELElBQVk7QUFDaEIsV0FBT04sR0FBRyxDQUNQTyxNQURJLENBQ0csR0FESCxFQUVKQyxJQUZJLENBRUM7QUFBRUMsTUFBQUEsS0FBSyxFQUFFLFdBQVQ7QUFBc0JGLE1BQUFB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QUFFcEJiLElBQUFBLEtBQUssRUFBRXhCLEdBQUcsQ0FBQ29CLElBQUosQ0FBU0ksS0FGSTtBQUdwQkksSUFBQUEsUUFBUSxFQUFFMEI7QUFIVSxHQUFULENBQWIsQ0ExQjBDLENBZ0MxQzs7QUFDQSxNQUFJO0FBQ0YsVUFBTUUsU0FBUyxHQUFHLE1BQU1sQyxJQUFJLENBQUNtQyxJQUFMLEVBQXhCLENBREUsQ0FFRjs7QUFDQSxXQUFPeEQsR0FBRyxDQUFDTyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDMUJELE1BQUFBLE1BQU0sRUFBRSxHQURrQjtBQUUxQjZCLE1BQUFBLElBQUksRUFBRWYsSUFBSSxDQUFDZSxJQUZlO0FBRzFCYixNQUFBQSxLQUFLLEVBQUVGLElBQUksQ0FBQ0UsS0FIYztBQUkxQmtDLE1BQUFBLEVBQUUsRUFBRXBDLElBQUksQ0FBQ1U7QUFKaUIsS0FBckIsQ0FBUDtBQU1ELEdBVEQsQ0FTRSxPQUFPZCxLQUFQLEVBQWM7QUFDZCxXQUFPakIsR0FBRyxDQUFDTyxNQUFKLENBQVcsR0FBWCxDQUFQO0FBQ0Q7QUFDRixDQTdDTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW5kZWxhcndhbmRhL0RvY3VtZW50cy9teWJyYW5kL3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGNvbnN0IGdldFVzZXJzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgVXNlci5maW5kKClcbiAgICAgIC5zb3J0KHsgY3JlYXRlZEF0OiAtMSB9KVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICByZXR1cm4gcmVzXG4gICAgICAgICAgLnN0YXR1cygyMDApXG4gICAgICAgICAgLmpzb24oeyB0aXRsZTogXCJBbGwgVXNlcnNcIiwgc3RhdHVzOiAyMDAsIHVzZXJzOiByZXN1bHQgfSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdGF0dXM6IDUwMCwgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9KTtcbiAgICAgIH0pO1xufVxuXG5leHBvcnQgY29uc3QgbG9naW5Vc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy9WYWxpZGF0aW5nIGRhdGEgYmVmb3JlIHRoZSB1c2VyIExvZ2dlZCBJblxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGxvZ2luVmFsaWRhdGlvbihyZXEuYm9keSk7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4gcmVzXG4gICAgICAgIC5zdGF0dXMoNDAwKVxuICAgICAgICAuanNvbih7IHN0YXR1czogNDAwLCBtZXNzYWdlOiBlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UgfSk7XG4gICAgfVxuICBcbiAgICAvL2NoZWNraW5nIGlmIHRoZSB1c2VyRW1haWwgZXhpc3QgaW4gZGJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcbiAgICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcbiAgICB9KTtcbiAgICBpZiAoIXVzZXIpXG4gICAgICByZXR1cm4gcmVzXG4gICAgICAgIC5zdGF0dXMoNDAwKVxuICAgICAgICAuanNvbih7IHN0YXR1czogNDAwLCBtZXNzYWdlOiBcIkludmFsaWQgY3JlZGVudGlhbHMhXCIgfSk7XG4gIFxuICAgIC8vQ2hlY2tpbmcgaWYgcGFzc3dvcmQgaXMgdmFsaWRcbiAgICBjb25zdCB2YWxpZFBhc3MgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XG4gICAgaWYgKCF2YWxpZFBhc3MpXG4gICAgICByZXR1cm4gcmVzXG4gICAgICAgIC5zdGF0dXMoNDAwKVxuICAgICAgICAuanNvbih7IHN0YXR1czogNDAwLCBtZXNzYWdlOiBcIkludmFsaWQgdXNlck5hbWUgb3IgcGFzc3dvcmRcIiB9KTtcbiAgXG4gIFxuICAgICAgICBpZih1c2VyLmVtYWlsID09PSBcImFkbWluQGdtYWlsLmNvbVwiKXtcbiAgICAgICAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHsgX2lkOiB1c2VyLl9pZCB9LCBwcm9jZXNzLmVudi5BRE1JTl9UT0tFTik7XG4gICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBhdXRoVG9rZW46IHRva2VuLCBuYW1lOiB1c2VyLm5hbWUsIGlkOiB1c2VyLl9pZCB9KTtcbiAgICAgICAgfWVsc2V7XG4gICAgLy9DcmVhdGUgYW5kIGFzc2lnbiBhIHRva2VuIHRvIHRoZSBsZWdnZWQgdXNlclxuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oeyBfaWQ6IHVzZXIuX2lkIH0sIHByb2Nlc3MuZW52LlRPS0VOX1NFQ1JFVCk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBhdXRoVG9rZW46IHRva2VuLCBuYW1lOiB1c2VyLm5hbWUsIGlkOiB1c2VyLl9pZCB9KTsgLy8gYWRkaW5nIHRva2VuIHRvIHRoZSBoZWFkZXIgdG8gdGhlIHVzZXInXG4gICAgICAgIH1cbiAgXG4gIH1cblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XG4gICAgY29uc29sZS5sb2coaWQpO1xuICBcbiAgICBpZiAoaWQubGVuZ3RoICE9IDI0KVxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgc3RhdHVzOiA0MDAsIG1lc3NhZ2U6IFwiV3JvbmcgdXNlciBJZFwiIH0pO1xuICBcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKGlkKTtcbiAgICBpZiAoIXJlc3VsdClcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IHN0YXR1czogNDA0LCBtZXNzYWdlOiBcIlVzZXIgTm90IGZvdW5kXCIgfSk7XG4gIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cGRhdGVVc2VyID0gYXdhaXQgVXNlci5maW5kQnlJZEFuZFVwZGF0ZShpZCwgcmVxLmJvZHksIHtcbiAgICAgICAgbmV3OiB0cnVlLFxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhcIlVzZXIgdXBkYXRlZCFcIik7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe3N0YXR1czogXCJTdWNjZXNzXCIsIG5hbWU6IHJlcS5ib2R5Lm5hbWUsIGVtYWlsOiByZXEuYm9keS5lbWFpbCB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmV0dXJuIHJlc1xuICAgICAgICAuc3RhdHVzKDUwMClcbiAgICAgICAgLmpzb24oeyBzdGF0dXM6IDUwMCwgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3IhXCIgfSk7XG4gICAgfVxuICB9XG5cbiAgZXhwb3J0IGNvbnN0IGRlbGV0ZVVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XG4gIFxuICAvLyBpZihpZCAhPT0gMjQgKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe3N0YXR1czpcImZhaWxcIiwgY29kZTo0MDAsIG1lc3NhZ2U6IFwiSW52YWxpZCBJZFwifSlcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKGlkKTtcbiAgICBpZiAoIXJlc3VsdClcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IHN0YXR1czogNDA0LCBtZXNzYWdlOiBcIlVzZXIgbm90IGZvdW5kXCIgfSk7XG4gIFxuICAgIGNvbnN0IHVzZXJEZWxldGUgPSBhd2FpdCByZXN1bHQuZGVsZXRlKCk7XG4gIFxuICAgIGlmICh1c2VyRGVsZXRlKVxuICAgICAgcmV0dXJuIHJlc1xuICAgICAgICAuc3RhdHVzKDIwMClcbiAgICAgICAgLmpzb24oeyBzdGF0dXM6IDIwMCwgbWVzc2FnZTogXCJVc2VyIHN1Y2Nlc3NmdWxseSBkZWxldGVkXCIgfSk7XG4gIFxuICAgIHJldHVybiByZXNcbiAgICAgIC5zdGF0dXMoNTAwKVxuICAgICAgLmpzb24oeyBzdGF0dXM6IDUwMCwgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9KTtcbiAgfVxuXG5cbiAgZXhwb3J0IGNvbnN0IGFkZFVzZXIgPSAgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc29sZS5sb2cocmVxLmJvZHkpO1xuICBcbiAgICAvL1ZBTElEQVRJTkcgVEhFIERBVEEgQkVGT1JFIFVTRVIgQ1JFQVRFRFxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IHJlZ2lzdGVyVmFsaWRhdGlvbihyZXEuYm9keSk7XG4gICAgLy8gY29uc29sZS5sb2coZXJyb3IsICEhZXJyb3IpO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIHJlc1xuICAgICAgICAuc3RhdHVzKDQwMClcbiAgICAgICAgLmpzb24oeyBzdGF0dXM6IDQwMCwgbWVzc2FnZTogZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlIH0pO1xuICAgIH1cbiAgXG4gICAgLy9jaGVja2luZyBpZiB0aGUgdXNlciBpcyBhbHJlYWR5IGluIHRoZSBkYXRhYmFzZVxuICAgIGNvbnN0IGVtYWlsRXhpc3QgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xuICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgIH0pO1xuICAgIGlmIChlbWFpbEV4aXN0KVxuICAgICAgcmV0dXJuIHJlc1xuICAgICAgICAuc3RhdHVzKDQwMClcbiAgICAgICAgLmpzb24oeyBzdGF0dXM6IDQwMCwgbWVzc2FnZTogXCJFbWFpbCBhbHJlYWR5IGV4aXN0cy5cIiB9KTtcbiAgXG4gICAgLy9lbmNyeXB0aW5nIHBhc3N3b3JkIChIYXNoIHBzd2RzKVxuICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBiY3J5cHQuZ2VuU2FsdCgxMCk7XG4gICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwgc2FsdCk7XG4gIFxuICAgIC8vQ3JlYXRpbmcgYSBuZXcgVXNlclxuICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICBuYW1lOiByZXEuYm9keS5uYW1lLFxuICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLFxuICAgIH0pO1xuICBcbiAgICAvLyEhc2F2aW5nIGEgdXNlciB0byBkYXRhYmFzZVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzYXZlZFVzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICAgIC8vIHJlcy5zZW5kKHNhdmVkVXNlcik7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuICAgICAgICBzdGF0dXM6IDIwMSxcbiAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgSWQ6IHVzZXIuX2lkLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCk7XG4gICAgfVxuICB9Il19","map":{"version":3,"sources":["auth-controller.js"],"names":["getUsers","req","res","User","find","sort","createdAt","then","result","status","json","title","users","catch","err","console","log","message","loginUser","error","loginValidation","body","details","user","findOne","email","validPass","bcrypt","compare","password","token","jwt","sign","_id","process","env","ADMIN_TOKEN","authToken","name","id","TOKEN_SECRET","updateUser","params","length","findById","findByIdAndUpdate","new","deleteUser","userDelete","delete","addUser","registerValidation","emailExist","salt","genSalt","hashedPassword","hash","savedUser","save","Id"],"mappings":"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","sourceRoot":"/Users/andelarwanda/Documents/mybrand/src/controller/","sourcesContent":["\nexport const getUsers = async (req, res) => {\n    User.find()\n      .sort({ createdAt: -1 })\n      .then((result) => {\n        return res\n          .status(200)\n          .json({ title: \"All Users\", status: 200, users: result });\n      })\n      .catch((err) => {\n        console.log(err);\n        res.status(500).json({ status: 500, message: \"Internal server error\" });\n      });\n}\n\nexport const loginUser = async (req, res) => {\n    //Validating data before the user Logged In\n    const { error } = loginValidation(req.body);\n    if (error) {\n      return res\n        .status(400)\n        .json({ status: 400, message: error.details[0].message });\n    }\n  \n    //checking if the userEmail exist in db\n    const user = await User.findOne({\n      email: req.body.email,\n    });\n    if (!user)\n      return res\n        .status(400)\n        .json({ status: 400, message: \"Invalid credentials!\" });\n  \n    //Checking if password is valid\n    const validPass = await bcrypt.compare(req.body.password, user.password);\n    if (!validPass)\n      return res\n        .status(400)\n        .json({ status: 400, message: \"Invalid userName or password\" });\n  \n  \n        if(user.email === \"admin@gmail.com\"){\n          const token = jwt.sign({ _id: user._id }, process.env.ADMIN_TOKEN);\n          res.status(200).json({ authToken: token, name: user.name, id: user._id });\n        }else{\n    //Create and assign a token to the legged user\n    const token = jwt.sign({ _id: user._id }, process.env.TOKEN_SECRET);\n    res.status(200).json({ authToken: token, name: user.name, id: user._id }); // adding token to the header to the user'\n        }\n  \n  }\n\nexport const updateUser = async (req, res) => {\n    const id = req.params.id;\n    console.log(id);\n  \n    if (id.length != 24)\n      return res.status(400).json({ status: 400, message: \"Wrong user Id\" });\n  \n    const result = await User.findById(id);\n    if (!result)\n      return res.status(404).json({ status: 404, message: \"User Not found\" });\n  \n    try {\n      const updateUser = await User.findByIdAndUpdate(id, req.body, {\n        new: true,\n      });\n      console.log(\"User updated!\");\n      return res.status(200).json({status: \"Success\", name: req.body.name, email: req.body.email });\n    } catch (error) {\n      console.log(error);\n      return res\n        .status(500)\n        .json({ status: 500, message: \"Internal server error!\" });\n    }\n  }\n\n  export const deleteUser = async (req, res) => {\n    const id = req.params.id;\n  \n  // if(id !== 24 ) return res.status(400).json({status:\"fail\", code:400, message: \"Invalid Id\"})\n    const result = await User.findById(id);\n    if (!result)\n      return res.status(404).json({ status: 404, message: \"User not found\" });\n  \n    const userDelete = await result.delete();\n  \n    if (userDelete)\n      return res\n        .status(200)\n        .json({ status: 200, message: \"User successfully deleted\" });\n  \n    return res\n      .status(500)\n      .json({ status: 500, message: \"Internal server error\" });\n  }\n\n\n  export const addUser =  async (req, res) => {\n    console.log(req.body);\n  \n    //VALIDATING THE DATA BEFORE USER CREATED\n    const { error } = registerValidation(req.body);\n    // console.log(error, !!error);\n    if (error) {\n      return res\n        .status(400)\n        .json({ status: 400, message: error.details[0].message });\n    }\n  \n    //checking if the user is already in the database\n    const emailExist = await User.findOne({\n      email: req.body.email,\n    });\n    if (emailExist)\n      return res\n        .status(400)\n        .json({ status: 400, message: \"Email already exists.\" });\n  \n    //encrypting password (Hash pswds)\n    const salt = await bcrypt.genSalt(10);\n    const hashedPassword = await bcrypt.hash(req.body.password, salt);\n  \n    //Creating a new User\n    const user = new User({\n      name: req.body.name,\n      email: req.body.email,\n      password: hashedPassword,\n    });\n  \n    //!!saving a user to database\n    try {\n      const savedUser = await user.save();\n      // res.send(savedUser);\n      return res.status(201).json({\n        status: 201,\n        name: user.name,\n        email: user.email,\n        Id: user._id,\n      });\n    } catch (error) {\n      return res.status(400);\n    }\n  }"]}},"mtime":1648481414960}}